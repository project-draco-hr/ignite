{
  mgr.addSpiAttributes(attrs);
  if (mgr instanceof GridDiscoveryManager)   ((GridDiscoveryManager)mgr).setNodeAttributes(attrs,ctx.product().version());
  ctx.add(mgr);
  try {
    ctx.onComponentStart(mgr);
    mgr.start();
  }
 catch (  GridException e) {
    throw new GridException("Failed to start manager: " + mgr,e);
  }
}
