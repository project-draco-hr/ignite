{
  ClusterNodeMetricsMBean mbean=ctx.discovery().localNode().metrics();
  try {
    locNodeMBean=U.registerMBean(cfg.getMBeanServer(),cfg.getGridName(),"Kernal",mbean.getClass().getSimpleName(),mbean,ClusterNodeMetricsMBean.class);
    if (log.isDebugEnabled())     log.debug("Registered local node MBean: " + locNodeMBean);
  }
 catch (  JMException e) {
    locNodeMBean=null;
    throw new IgniteCheckedException("Failed to register local node MBean.",e);
  }
}
