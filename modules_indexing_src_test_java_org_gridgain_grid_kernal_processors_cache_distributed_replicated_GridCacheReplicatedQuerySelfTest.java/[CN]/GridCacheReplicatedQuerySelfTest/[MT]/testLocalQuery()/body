{
  cache1.clearAll();
  GridCacheTx tx=cache1.txStart();
  try {
    cache1.put(new CacheKey(1),new CacheValue("1"));
    cache1.put(new CacheKey(2),new CacheValue("2"));
    cache1.put(new CacheKey(3),new CacheValue("3"));
    cache1.put(new CacheKey(4),new CacheValue("4"));
    tx.commit();
    info("Committed transaction: " + tx);
  }
 catch (  GridException e) {
    tx.rollback();
    throw e;
  }
  checkQueryResults(grid1,cache1);
  checkQueryResults(grid2,cache2);
  checkQueryResults(grid3,cache3);
}
