{
  CU.validateCacheKey(log,"key");
  CU.validateCacheKey(log,1);
  CU.validateCacheKey(log,1L);
  CU.validateCacheKey(log,1.0);
  CU.validateCacheKey(log,new ExtendsClassWithEqualsAndHashCode());
  CU.validateCacheKey(log,new ExtendsClassWithEqualsAndHashCode2());
  assertThrowsForInvalidKey(new NoEqualsAndHashCode());
  assertThrowsForInvalidKey(new NoEquals());
  assertThrowsForInvalidKey(new NoHashCode());
  assertThrowsForInvalidKey(new WrongEquals());
  IgniteLogger log=new GridStringLogger(false);
  CU.validateCacheKey(log,new ExternalizableEqualsAndHashCode());
  assertFalse(log.toString().contains(EXTERNALIZABLE_WARNING));
  CU.validateCacheKey(log,"key");
  assertFalse(log.toString().contains(EXTERNALIZABLE_WARNING));
  CU.validateCacheKey(log,new EqualsAndHashCode());
  assertTrue(log.toString().contains(EXTERNALIZABLE_WARNING));
}
