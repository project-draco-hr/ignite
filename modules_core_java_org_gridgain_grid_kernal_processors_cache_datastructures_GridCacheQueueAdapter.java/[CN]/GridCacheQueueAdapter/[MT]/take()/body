{
  while (true) {
    lock.lock();
    try {
      while (empty)       pollCond.await();
    }
 catch (    InterruptedException e) {
      Thread.currentThread().interrupt();
      throw new GridRuntimeException("Queue take interrupted.",e);
    }
 finally {
      lock.unlock();
    }
    T e=poll();
    if (e != null)     return e;
  }
}
