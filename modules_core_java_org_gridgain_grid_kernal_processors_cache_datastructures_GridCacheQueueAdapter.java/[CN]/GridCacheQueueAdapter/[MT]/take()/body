{
  while (true) {
    try {
      readSem.acquire();
    }
 catch (    InterruptedException e) {
      Thread.currentThread().interrupt();
      throw new GridRuntimeException("Queue take interrupted.",e);
    }
    T e=poll();
    if (e != null)     return e;
  }
}
