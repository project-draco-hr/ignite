{
  assert(GRID_CNT > 0);
  startGrids(GRID_CNT);
  try {
    final Ignite g=grid(0);
    realTimePopulate(g);
    long hits=0;
    long misses=0;
    for (int i=0; i < GRID_CNT; i++) {
      CacheMetrics m=grid(i).cache(null).metrics();
      hits+=m.getCacheHits();
      misses+=m.getCacheMisses();
    }
    assertEquals(CNT,hits);
    assertEquals(CNT,misses);
  }
  finally {
    stopAllGrids();
  }
}
