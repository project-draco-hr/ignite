{
  X.println("Testing unsafe...");
  int MAX=1000000;
  long[] addrs=new long[MAX];
  System.gc();
  GridTimer t=new GridTimer("unsafe");
  Unsafe unsafe=GridUnsafe.unsafe();
  int mem=1024;
  for (int i=0; i < MAX; i++) {
    addrs[i]=unsafe.allocateMemory(mem);
    unsafe.putByte(addrs[i] + RAND.nextInt(mem),(byte)RAND.nextInt(mem));
    v=unsafe.getByte(addrs[i] + RAND.nextInt(mem));
  }
  X.println("Unsafe [time=" + t.stop() + "ms, v="+ v+ ']');
  Thread.sleep(5000L);
  for (  long l : addrs)   unsafe.freeMemory(l);
}
