{
  String sessionCookieValue=null;
  String sesId=null;
  Map<String,List<String>> headerFields=conn.getHeaderFields();
  Set<String> headerFieldsSet=headerFields.keySet();
  Iterator<String> hearerFieldsIter=headerFieldsSet.iterator();
  while (hearerFieldsIter.hasNext()) {
    String headerFieldKey=hearerFieldsIter.next();
    if ("Set-Cookie".equalsIgnoreCase(headerFieldKey)) {
      List<String> headerFieldValue=headerFields.get(headerFieldKey);
      for (      String headerValue : headerFieldValue) {
        String[] fields=headerValue.split(";");
        sessionCookieValue=fields[0];
        sesId=sessionCookieValue.substring(sessionCookieValue.indexOf("=") + 1,sessionCookieValue.length());
      }
    }
  }
  return sesId;
}
