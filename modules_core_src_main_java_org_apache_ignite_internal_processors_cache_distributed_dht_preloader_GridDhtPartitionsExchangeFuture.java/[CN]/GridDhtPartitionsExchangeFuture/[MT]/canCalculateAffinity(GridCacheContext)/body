{
  AffinityFunction affFunc=cacheCtx.config().getAffinity();
  if (!U.hasAnnotation(affFunc,AffinityCentralizedFunction.class))   return true;
  Collection<ClusterNode> affNodes=CU.affinityNodes(cacheCtx,exchId.topologyVersion());
  return cacheStarted(cacheCtx.cacheId()) || !exchId.nodeId().equals(cctx.localNodeId()) || (affNodes.size() == 1 && affNodes.contains(cctx.localNode()));
}
