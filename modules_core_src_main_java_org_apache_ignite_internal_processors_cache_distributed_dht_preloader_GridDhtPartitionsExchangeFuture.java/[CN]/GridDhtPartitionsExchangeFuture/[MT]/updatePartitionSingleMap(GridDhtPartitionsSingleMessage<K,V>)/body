{
  for (  Map.Entry<Integer,GridDhtPartitionMap> entry : msg.partitions().entrySet()) {
    Integer cacheId=entry.getKey();
    GridCacheContext<K,V> cacheCtx=cctx.cacheContext(cacheId);
    GridDhtPartitionTopology<K,V> top=cacheCtx != null ? cacheCtx.topology() : cctx.exchange().clientTopology(cacheId,exchId);
    top.update(exchId,entry.getValue());
  }
}
