{
  Map<Integer,String> portableIds=this.portableIds;
  if (portableIds == null) {
    portableIds=new HashMap<>();
    for (    GridCacheConfiguration ccfg : ctx.config().getCacheConfiguration()) {
      GridCacheQueryConfiguration qryCfg=ccfg.getQueryConfiguration();
      if (qryCfg != null) {
        for (        GridCacheQueryTypeMetadata meta : qryCfg.getTypeMetadata()) {
          declaredTypes.put(new TypeId(ccfg.getName(),typeId),meta);
          portableIds.put(ctx.portable().typeId(meta.getType()),meta.getType());
        }
      }
    }
    this.portableIds=portableIds;
  }
  return portableIds.get(typeId);
}
