{
  IgniteConfiguration cfg=super.getConfiguration(gridName);
  GridTcpDiscoverySpi disco=new GridTcpDiscoverySpi();
  disco.setIpFinder(IP_FINDER);
  cfg.setDiscoverySpi(disco);
  GridCacheConfiguration cacheCfg1=defaultCacheConfiguration();
  cacheCfg1.setName(DATA_CACHE);
  cacheCfg1.setCacheMode(REPLICATED);
  cacheCfg1.setWriteSynchronizationMode(FULL_SYNC);
  GridCacheConfiguration cacheCfg2=defaultCacheConfiguration();
  cacheCfg2.setName(CP_CACHE);
  cacheCfg2.setCacheMode(REPLICATED);
  cacheCfg2.setWriteSynchronizationMode(FULL_SYNC);
  cfg.setCacheConfiguration(cacheCfg1,cacheCfg2);
  GridCacheCheckpointSpi cp=new GridCacheCheckpointSpi();
  cp.setCacheName(CP_CACHE);
  cfg.setCheckpointSpi(cp);
  return cfg;
}
