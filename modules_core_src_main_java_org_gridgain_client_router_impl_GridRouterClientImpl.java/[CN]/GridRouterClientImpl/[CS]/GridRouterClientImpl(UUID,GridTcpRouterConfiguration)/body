{
  GridClientConfiguration cliCfg=new GridClientConfiguration();
  cliCfg.setServers(routerCfg.getServers());
  cliCfg.setSslContextFactory(routerCfg.getSslContextFactory());
  cliCfg.setSecurityCredentialsProvider(routerCfg.getSecurityCredentialsProvider());
  cliCfg.setMarshaller(routerCfg.getMarshaller());
  cliCfg.setPortableConfiguration(routerCfg.getPortableConfiguration());
  this.cliCfg=cliCfg;
  clientImpl=new GridClientImpl(id,cliCfg);
  if (cliCfg.getProtocol() == GridClientProtocol.TCP)   connMgr=clientImpl.newConnectionManager();
 else   throw new AssertionError("Unknown protocol: " + cliCfg.getProtocol());
}
