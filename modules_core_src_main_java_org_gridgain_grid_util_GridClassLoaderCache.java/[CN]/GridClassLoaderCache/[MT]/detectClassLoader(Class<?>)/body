{
  ClassLoader ctxClsLdr=Thread.currentThread().getContextClassLoader();
  ClassLoader clsLdr=cls.getClassLoader();
  if (clsLdr == null)   clsLdr=U.gridClassLoader();
  if (U.p2pLoader(ctxClsLdr))   return clsLdr;
  if (ctxClsLdr != null) {
    if (ctxClsLdr == clsLdr)     return ctxClsLdr;
    try {
      Class<?> c=Class.forName(cls.getName(),true,ctxClsLdr);
      if (c == cls)       return ctxClsLdr;
    }
 catch (    ClassNotFoundException ignored) {
    }
  }
  return clsLdr;
}
