{
  A.ensure(timeout >= 0,"timeout >= 0");
  try {
    if (doneLatch.getCount() > 0 && !doneLatch.await(timeout,unit))     throw new IgniteFutureTimeoutException("Failed to get future result due to waiting timed out.");
  }
 catch (  InterruptedException e) {
    Thread.currentThread().interrupt();
    throw new GridException("Operation was interrupted.",e);
  }
  return getResult();
}
