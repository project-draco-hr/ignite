{
  while (!isInterrupted()) {
    for (    Map.Entry<UUID,GridCommunicationClient> e : clients.entrySet()) {
      UUID nodeId=e.getKey();
      GridCommunicationClient client=e.getValue();
      if (getSpiContext().node(nodeId) == null) {
        if (log.isDebugEnabled())         log.debug("Forcing close of non-existent node connection: " + nodeId);
        client.forceClose();
        clients.remove(nodeId,client);
        continue;
      }
      long idleTime=client.getIdleTime();
      if (idleTime >= idleConnTimeout) {
        if (log.isDebugEnabled())         log.debug("Closing idle node connection: " + nodeId);
        if (client.close() || client.closed())         clients.remove(nodeId,client);
      }
    }
    Thread.sleep(idleConnTimeout);
  }
}
