{
  rw.readLock();
  try {
    if (stopping)     return;
    if (fragmentizerCrd == null) {
      long minNodeOrder=Long.MAX_VALUE;
      Collection<GridNode> nodes=discoEvt.topologyNodes();
      for (      GridNode node : nodes) {
        if (node.order() < minNodeOrder && ggfsCtx.ggfsNode(node))         minNodeOrder=node.order();
      }
      GridNode locNode=ggfsCtx.kernalContext().grid().localNode();
      if (locNode.order() == minNodeOrder) {
        if (log.isDebugEnabled())         log.debug("Detected local node to be the eldest GGFS node in topology, starting fragmentizer " + "coordinator thread [discoEvt=" + discoEvt + ", locNode="+ locNode+ ']');
synchronized (this) {
          if (fragmentizerCrd == null && !stopping) {
            fragmentizerCrd=new FragmentizerCoordinator();
            new GridThread(fragmentizerCrd).start();
          }
        }
      }
    }
  }
  finally {
    rw.readUnlock();
  }
}
