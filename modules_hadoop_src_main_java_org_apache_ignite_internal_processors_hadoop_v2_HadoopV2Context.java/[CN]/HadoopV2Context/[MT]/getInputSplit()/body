{
  if (inputSplit == null) {
    HadoopInputSplit split=ctx.taskInfo().inputSplit();
    if (split == null)     return null;
    if (split instanceof HadoopFileBlock) {
      HadoopFileBlock fileBlock=(HadoopFileBlock)split;
      inputSplit=new FileSplit(new Path(fileBlock.file()),fileBlock.start(),fileBlock.length(),null);
    }
 else     if (split instanceof HadoopExternalSplit)     throw new UnsupportedOperationException();
 else     if (split instanceof HadoopSplitWrapper)     inputSplit=(InputSplit)HadoopUtils.unwrapSplit((HadoopSplitWrapper)split);
 else     throw new IllegalStateException();
  }
  return inputSplit;
}
