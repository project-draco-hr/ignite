{
  ByteArrayInputStream stream=null;
  Input in=null;
  try {
    stream=new ByteArrayInputStream(buf.array());
    in=new Input(stream);
    return kryos.get().readClassAndObject(in);
  }
 catch (  Throwable e) {
    throw new IgniteException("Failed to deserialize object from byte stream",e);
  }
 finally {
    U.closeQuiet(in);
    U.closeQuiet(stream);
  }
}
