{
  executor.shutdown();
  if (connInProgress > 0) {
    new Thread(new Runnable(){
      @Override public void run(){
        try {
          for (int i=0; i < connInProgress; i++) {
            try {
              GridTuple3<InetSocketAddress,Socket,Exception> take=completionSrvc.take().get();
              if (take != null)               IgniteUtils.closeQuiet(take.get2());
            }
 catch (            ExecutionException ignored) {
            }
          }
        }
 catch (        InterruptedException e) {
          throw new RuntimeException(e);
        }
      }
    }
).start();
  }
}
