{
  marshaller.setContext(new MarshallerContextTestImpl());
  final int max=Integer.MAX_VALUE;
  multithreaded(new Callable<Object>(){
    private final Random rnd=new Random();
    @SuppressWarnings("deprecation") @Nullable @Override public Object call() throws IgniteCheckedException {
      for (int i=0; i < 10000; i++) {
        testSerialization(new IgfsFileInfo());
        testSerialization(new IgfsFileInfo());
        testSerialization(new IgfsFileInfo(true,null));
        testSerialization(new IgfsFileInfo(false,null));
        IgfsFileInfo rndInfo=new IgfsFileInfo(rnd.nextInt(max),null,false,null);
        testSerialization(rndInfo);
        testSerialization(new IgfsFileInfo(rndInfo,rnd.nextInt(max)));
        testSerialization(new IgfsFileInfo(rndInfo,F.asMap("desc",String.valueOf(rnd.nextLong()))));
      }
      return null;
    }
  }
,20);
}
