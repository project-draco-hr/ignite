{
  if (store instanceof LifecycleAware) {
    try {
      if (cctx.config().isWriteBehindEnabled()) {
        if (!cctx.isNear())         ((LifecycleAware)store).stop();
      }
    }
 catch (    Exception e) {
      U.error(log(),"Failed to stop cache store.",e);
    }
  }
  if (sesLsnrs != null) {
    for (    CacheStoreSessionListener lsnr : sesLsnrs) {
      if (lsnr instanceof LifecycleAware)       ((LifecycleAware)lsnr).stop();
      try {
        cctx.kernalContext().resource().cleanupGeneric(lsnr);
      }
 catch (      IgniteCheckedException e) {
        U.error(log,"Failed to remove injected resources from store session listener (ignoring): " + lsnr,e);
      }
    }
  }
}
