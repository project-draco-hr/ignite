{
  GridCompoundFuture<Object,Object> res=new GridCompoundFuture<>(cctx.kernalContext());
  res.ignoreChildFailures(ClusterTopologyCheckedException.class,CachePartialUpdateCheckedException.class);
  for (  GridCacheAtomicFuture<K,?> fut : atomicFuts.values()) {
    if (fut.waitForPartitionExchange() && fut.topologyVersion().compareTo(topVer) < 0)     res.add((IgniteInternalFuture<Object>)fut);
  }
  res.markInitialized();
  return res;
}
