{
  IgniteException e=new IgniteException("Operation has been cancelled (grid is stopping).");
  for (  Collection<GridCacheFuture<?>> futures : futs.values()) {
    for (    GridCacheFuture<?> future : futures)     ((GridFutureAdapter)future).onDone(e);
  }
  for (  GridCacheAtomicFuture<?,?> future : atomicFuts.values())   ((GridFutureAdapter)future).onDone(e);
}
