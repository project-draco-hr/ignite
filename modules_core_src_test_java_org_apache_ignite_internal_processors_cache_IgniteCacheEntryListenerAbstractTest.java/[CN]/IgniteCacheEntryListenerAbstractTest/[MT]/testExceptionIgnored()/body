{
  CacheEntryListenerConfiguration<Object,Object> lsnrCfg=new MutableCacheEntryListenerConfiguration<>(new Factory<CacheEntryListener<Object,Object>>(){
    @Override public CacheEntryListener<Object,Object> create(){
      return new ExceptionListener();
    }
  }
,null,false,false);
  IgniteCache<Object,Object> cache=jcache();
  cache.registerCacheEntryListener(lsnrCfg);
  try {
    for (    Integer key : keys()) {
      log.info("Check listener exceptions are ignored [key=" + key + ']');
      cache.put(key,key);
      cache.remove(key);
    }
  }
  finally {
    cache.deregisterCacheEntryListener(lsnrCfg);
  }
  lsnrCfg=new MutableCacheEntryListenerConfiguration<>(new Factory<CacheEntryListener<Object,Object>>(){
    @Override public CacheEntryListener<Object,Object> create(){
      return new CreateUpdateRemoveExpireListener();
    }
  }
,new ExceptionFilterFactory(),false,false);
  cache.registerCacheEntryListener(lsnrCfg);
  try {
    for (    Integer key : keys()) {
      log.info("Check filter exceptions are ignored [key=" + key + ']');
      cache.put(key,key);
      cache.remove(key);
    }
  }
  finally {
    cache.deregisterCacheEntryListener(lsnrCfg);
  }
}
