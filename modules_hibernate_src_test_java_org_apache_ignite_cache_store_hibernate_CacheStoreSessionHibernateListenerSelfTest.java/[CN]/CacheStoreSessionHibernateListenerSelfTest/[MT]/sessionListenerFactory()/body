{
  return new Factory<CacheStoreSessionListener>(){
    @Override public CacheStoreSessionListener create(){
      CacheStoreSessionHibernateListener lsnr=new CacheStoreSessionHibernateListener();
      Configuration cfg=new Configuration().setProperty("hibernate.dialect","org.hibernate.dialect.H2Dialect").setProperty("hibernate.connection.datasource","jdbc:h2:mem:example;DB_CLOSE_DELAY=-1");
      lsnr.setSessionFactory(cfg.buildSessionFactory(new ServiceRegistryBuilder().buildServiceRegistry()));
      return lsnr;
    }
  }
;
}
