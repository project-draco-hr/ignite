{
  return new Comparator<InetAddress>(){
    @Override public int compare(    InetAddress addr1,    InetAddress addr2){
      boolean addr1Loopback=addr1.isLoopbackAddress();
      boolean addr2Loopback=addr2.isLoopbackAddress();
      if (addr1Loopback == addr2Loopback)       return 0;
      if (sameHost)       return addr1Loopback ? -1 : 1;
 else       return addr1Loopback ? 1 : -1;
    }
  }
;
}
