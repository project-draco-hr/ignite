{
  try (Ignite g=Ignition.start("examples/config/example-cache.xml")){
    System.out.println();
    System.out.println(">>> Atomic stamped example started.");
    String stampedName=UUID.randomUUID().toString();
    String val=UUID.randomUUID().toString();
    String stamp=UUID.randomUUID().toString();
    IgniteAtomicStamped<String,String> stamped=g.atomicStamped(stampedName,val,stamp,true);
    System.out.println("Atomic stamped initial [value=" + stamped.value() + ", stamp="+ stamped.stamp()+ ']');
    Runnable c=new StampedUpdateClosure(stampedName);
    g.compute().run(c);
    String newVal=UUID.randomUUID().toString();
    String newStamp=UUID.randomUUID().toString();
    System.out.println("Try to change value and stamp of atomic stamped with wrong expected value and stamp.");
    stamped.compareAndSet("WRONG EXPECTED VALUE",newVal,"WRONG EXPECTED STAMP",newStamp);
    g.compute().run(c);
    System.out.println("Try to change value and stamp of atomic stamped with correct value and stamp.");
    stamped.compareAndSet(val,newVal,stamp,newStamp);
    g.compute().run(c);
  }
   System.out.println();
  System.out.println("Finished atomic stamped example...");
  System.out.println("Check all nodes for output (this node is also part of the grid).");
}
