{
  GridMarshaller m=ctx.config().getMarshaller();
  try {
    byte[] bytes=m.marshal(svc);
    GridService copy=m.unmarshal(bytes,svc.getClass().getClassLoader());
    ctx.resource().inject(copy);
    return copy;
  }
 catch (  GridException e) {
    log.error("Failed to copy service (will reuse same instance): " + svc.getClass(),e);
    return svc;
  }
}
