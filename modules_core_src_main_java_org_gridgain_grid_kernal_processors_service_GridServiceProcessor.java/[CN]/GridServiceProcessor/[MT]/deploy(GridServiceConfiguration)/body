{
  validate(cfg);
  try {
    cfgCache.putIfAbsent(new GridServiceConfigurationKey(cfg.getName()),cfg);
  }
 catch (  GridException e) {
    log.error("Failed to deploy service: " + cfg.getName(),e);
    return new GridFinishedFuture<>(ctx,e);
  }
  return null;
}
