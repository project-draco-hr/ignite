{
  final StreamerBoundedTimeBatchWindow win=new StreamerBoundedTimeBatchWindow();
  GridTestUtils.assertThrows(log,new Callable<Object>(){
    @Override public Object call() throws Exception {
      win.start();
      return null;
    }
  }
,IgniteCheckedException.class,null);
  win.setBatchSize(1);
  GridTestUtils.assertThrows(log,new Callable<Object>(){
    @Override public Object call() throws Exception {
      win.start();
      return null;
    }
  }
,IgniteCheckedException.class,null);
  win.setBatchTimeInterval(1);
  win.setBatchSize(-1);
  GridTestUtils.assertThrows(log,new Callable<Object>(){
    @Override public Object call() throws Exception {
      win.start();
      return null;
    }
  }
,IgniteCheckedException.class,null);
  win.setBatchSize(1);
  win.start();
  win.setMaximumBatches(-1);
  GridTestUtils.assertThrows(log,new Callable<Object>(){
    @Override public Object call() throws Exception {
      win.start();
      return null;
    }
  }
,IgniteCheckedException.class,null);
}
