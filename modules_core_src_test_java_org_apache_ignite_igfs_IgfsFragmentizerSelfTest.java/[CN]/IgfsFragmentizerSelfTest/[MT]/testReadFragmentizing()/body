{
  IgniteFs igfs=grid(0).fileSystem("igfs");
  IgfsPath path=new IgfsPath("/someFile");
  try (IgfsOutputStream out=igfs.create(path,true)){
    for (int i=0; i < 10 * IGFS_GROUP_SIZE; i++) {
      byte[] data=new byte[IGFS_BLOCK_SIZE];
      Arrays.fill(data,(byte)i);
      out.write(data);
    }
  }
   long start=System.currentTimeMillis();
  do {
    try (IgfsInputStream in=igfs.open(path)){
      for (int i=0; i < 10 * IGFS_GROUP_SIZE; i++) {
        for (int j=0; j < IGFS_BLOCK_SIZE; j++)         assertEquals(i & 0xFF,in.read());
      }
      assertEquals(-1,in.read());
    }
   }
 while (System.currentTimeMillis() - start < 7000);
}
