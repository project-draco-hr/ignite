{
  Server srv=null;
  try {
    srv=startServer(TEST_JETTY_PORT,cfg,null,new SessionCreateServlet());
    URLConnection conn=new URL("http://localhost:" + TEST_JETTY_PORT + "/ggtest/test").openConnection();
    conn.connect();
    try (BufferedReader rdr=new BufferedReader(new InputStreamReader(conn.getInputStream()))){
      String sesId=rdr.readLine();
      GridCache<String,HttpSession> cache=G.ignite().cache(getCacheName());
      assertNotNull(cache);
      HttpSession ses=cache.get(sesId);
      assertNotNull(ses);
      assertEquals("val1",ses.getAttribute("key1"));
    }
   }
  finally {
    stopServer(srv);
  }
}
