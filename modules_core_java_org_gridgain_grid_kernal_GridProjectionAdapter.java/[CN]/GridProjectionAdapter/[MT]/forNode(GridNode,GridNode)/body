{
  A.notNull(node,"node");
  Set<UUID> nodeIds;
  GridPredicate<GridNode> p=predicate();
  if (F.isEmpty(nodes))   nodeIds=p.apply(node) ? Collections.singleton(node.id()) : Collections.<UUID>emptySet();
 else {
    nodeIds=new HashSet<>(nodes.length + 1);
    for (    GridNode n : nodes)     if (p.apply(n))     nodeIds.add(n.id());
    if (p.apply(node))     nodeIds.add(node.id());
  }
  return newProjection(nodeIds,false);
}
