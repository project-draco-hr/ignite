{
  try {
    String gridName=stash.get();
    GridKernal g=GridFactoryEx.gridx(gridName);
    return ids != null ? new GridProjectionAdapter(g,g.context(),ids) : p != null ? new GridProjectionAdapter(g,g.context(),p) : g;
  }
 catch (  IllegalStateException e) {
    throw U.withCause(new InvalidObjectException(e.getMessage()),e);
  }
 finally {
    stash.remove();
  }
}
