{
  GridPredicate<GridNode> p=predicate();
  if (F.isAlwaysTrue(p))   return;
  Iterator<UUID> iter=nodeIds.iterator();
  while (iter.hasNext()) {
    UUID nodeId=iter.next();
    if (nodeId == null)     throw new NullPointerException("nodeId is null");
    GridNode n=ctx.discovery().node(nodeId);
    if (n == null || !p.apply(n))     iter.remove();
  }
}
