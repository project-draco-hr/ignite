{
  if (mode == PRIMARY) {
    Path ggfsHome=new Path(PRIMARY_URI);
    Path file=new Path(ggfsHome,"someFile");
    try (FSDataOutputStream out=fs.create(file,(short)0)){
      out.write(new byte[1024 * 1024]);
    }
     IgniteFs igniteFs=grid(0).fileSystem("ggfs");
    IgniteFsPath filePath=new IgniteFsPath("/someFile");
    GridGgfsFile fileInfo=igniteFs.info(filePath);
    Collection<IgniteFsBlockLocation> locations=igniteFs.affinity(filePath,0,fileInfo.length());
    assertEquals(1,locations.size());
    IgniteFsBlockLocation location=F.first(locations);
    assertEquals(1,location.nodeIds().size());
  }
}
