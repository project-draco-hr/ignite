{
  if (mode == PRIMARY) {
    Path ggfsHome=new Path("ggfs://localhost/");
    Path file=new Path(ggfsHome,"someFile");
    try (FSDataOutputStream out=fs.create(file,(short)0)){
      out.write(new byte[1024 * 1024]);
    }
     GridGgfs gridGgfs=grid(0).ggfs("ggfs");
    GridGgfsPath filePath=new GridGgfsPath("/someFile");
    GridGgfsFile fileInfo=gridGgfs.info(filePath);
    Collection<GridGgfsBlockLocation> locations=gridGgfs.affinity(filePath,0,fileInfo.length());
    assertEquals(1,locations.size());
    GridGgfsBlockLocation location=F.first(locations);
    assertEquals(1,location.nodeIds().size());
    assertEquals(grid(0).localNode().id(),F.first(location.nodeIds()));
  }
}
