{
  final FileSystem fileSys;
  if (userName == null)   fileSys=FileSystem.get(uri,cfg);
 else {
    try {
      fileSys=FileSystem.get(uri,cfg,userName);
    }
 catch (    InterruptedException e) {
      Thread.currentThread().interrupt();
      throw new IOException("Failed to create file system due to interrupt.",e);
    }
  }
  return fileSys;
}
