{
  A.notNull(key,"key");
  if (keyCheck)   validateCacheKey(key);
  if (ctx.portableEnabled()) {
    try {
      key=(K)ctx.marshalToPortable(key);
    }
 catch (    GridPortableException e) {
      throw new GridRuntimeException(e);
    }
  }
  GridCacheEntryEx<K,V> e=peekEx(key);
  try {
    return e != null && e.peek(SMART,filter) != null;
  }
 catch (  GridCacheEntryRemovedException ignore) {
    if (log.isDebugEnabled())     log.debug("Got removed entry during peek (will ignore): " + e);
    return false;
  }
}
