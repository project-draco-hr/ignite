{
  if (!ctx.isNear()) {
    ctx.io().addHandler(GridCacheOptimisticCheckPreparedTxRequest.class,new CI2<UUID,GridCacheOptimisticCheckPreparedTxRequest<K,V>>(){
      @Override public void apply(      UUID nodeId,      GridCacheOptimisticCheckPreparedTxRequest<K,V> req){
        processCheckPreparedTxRequest(nodeId,req);
      }
    }
);
    ctx.io().addHandler(GridCacheOptimisticCheckPreparedTxResponse.class,new CI2<UUID,GridCacheOptimisticCheckPreparedTxResponse<K,V>>(){
      @Override public void apply(      UUID nodeId,      GridCacheOptimisticCheckPreparedTxResponse<K,V> res){
        processCheckPreparedTxResponse(nodeId,res);
      }
    }
);
    ctx.io().addHandler(GridCachePessimisticCheckCommittedTxRequest.class,new CI2<UUID,GridCachePessimisticCheckCommittedTxRequest<K,V>>(){
      @Override public void apply(      UUID nodeId,      GridCachePessimisticCheckCommittedTxRequest<K,V> req){
        processCheckCommittedTxRequest(nodeId,req);
      }
    }
);
    ctx.io().addHandler(GridCachePessimisticCheckCommittedTxResponse.class,new CI2<UUID,GridCachePessimisticCheckCommittedTxResponse<K,V>>(){
      @Override public void apply(      UUID nodeId,      GridCachePessimisticCheckCommittedTxResponse<K,V> res){
        processCheckCommittedTxResponse(nodeId,res);
      }
    }
);
  }
}
