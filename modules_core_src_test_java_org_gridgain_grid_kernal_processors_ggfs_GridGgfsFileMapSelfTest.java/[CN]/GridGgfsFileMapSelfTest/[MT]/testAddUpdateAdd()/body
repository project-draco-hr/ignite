{
  GridGgfsFileMap map=new GridGgfsFileMap();
  GridUuid affKey=GridUuid.randomUuid();
  map.addRange(new GridGgfsFileAffinityRange(0,9,affKey));
  map.updateRangeStatus(new GridGgfsFileAffinityRange(0,9,affKey),RANGE_STATUS_MOVING);
  map.addRange(new GridGgfsFileAffinityRange(10,19,affKey));
  List<GridGgfsFileAffinityRange> ranges=map.ranges();
  assertEquals(2,ranges.size());
  assertEquals(RANGE_STATUS_MOVING,ranges.get(0).status());
  assertTrue(ranges.get(0).regionEqual(new GridGgfsFileAffinityRange(0,9,affKey)));
  assertEquals(RANGE_STATUS_INITIAL,ranges.get(1).status());
  assertTrue(ranges.get(1).regionEqual(new GridGgfsFileAffinityRange(10,19,affKey)));
}
