{
  String simpleClsName=SIMPLE_NAME_LOWER_CASE_MAPPER.typeName(cls.getName());
  if (id == 0)   id=SIMPLE_NAME_LOWER_CASE_MAPPER.typeId(simpleClsName);
  BinaryClassDescriptor desc=new BinaryClassDescriptor(this,cls,false,id,simpleClsName,affFieldName,SIMPLE_NAME_LOWER_CASE_MAPPER,new BinaryReflectiveSerializer(),false,registered);
  predefinedTypeNames.put(simpleClsName,id);
  predefinedTypes.put(id,desc);
  descByCls.put(cls,desc);
  if (affFieldName != null)   affKeyFieldNames.putIfAbsent(id,affFieldName);
  return desc;
}
