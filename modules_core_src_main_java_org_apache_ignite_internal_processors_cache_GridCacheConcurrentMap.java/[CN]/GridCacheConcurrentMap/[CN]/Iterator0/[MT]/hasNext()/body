{
  boolean hasNext=next != null && (!isVal || nextVal != null);
  if (!hasNext && curSegHdr != null) {
    curSegHdr.onReadEnd();
    weakRef.clear();
    map.removeWeakIterator(weakRef);
  }
  return hasNext;
}
