{
  if (size == 0)   return null;
  HashEntry[] tbl=this.tbl;
  Collection<GridCacheMapEntry> entries=new ArrayList<>(3);
  int pubCnt=0;
  int start=RAND.nextInt(tbl.length);
  outerLoop: {
    for (int i=start; i < start + tbl.length; i++) {
      HashEntry first=tbl[i & (tbl.length - 1)];
      if (first == null)       continue;
      for (HashEntry e=first; e != null; e=e.next) {
        if (!e.mapEntry.isInternal())         pubCnt++;
        entries.add(e.mapEntry);
        if (entries.size() == 3)         break outerLoop;
      }
    }
  }
  if (entries.isEmpty())   return null;
  if (pubCnt == 0)   return null;
  int idx=RAND.nextInt(pubCnt);
  int i=0;
  GridCacheMapEntry retVal=null;
  for (  GridCacheMapEntry e : entries) {
    if (!(e.key instanceof GridCacheInternal)) {
      retVal=e;
      if (idx == i++)       break;
    }
  }
  return retVal;
}
