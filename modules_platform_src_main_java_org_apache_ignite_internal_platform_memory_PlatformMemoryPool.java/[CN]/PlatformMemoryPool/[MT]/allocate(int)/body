{
  long memPtr=allocatePooled(poolPtr,cap);
  return memPtr != 0 ? get(memPtr) : new PlatformUnpooledMemory(allocateUnpooled(cap));
}
