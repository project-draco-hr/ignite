{
  return new GridCacheStoreAdapter<Integer,String>(){
    @GridInstanceResource private Ignite g;
    @Override public void loadCache(    GridBiInClosure<Integer,String> c,    Object... args){
      X.println("Loading all on: " + caches.indexOf(g.<Integer,String>cache(null)));
      for (      Map.Entry<Integer,String> e : map.entrySet())       c.apply(e.getKey(),e.getValue());
    }
    @Override public String load(    GridCacheTx tx,    Integer key){
      X.println("Loading on: " + caches.indexOf(g.<Integer,String>cache(null)) + " key="+ key);
      return map.get(key);
    }
    @Override public void put(    GridCacheTx tx,    Integer key,    @Nullable String val){
      fail("Should not be called within the test.");
    }
    @Override public void remove(    GridCacheTx tx,    Integer key){
      fail("Should not be called within the test.");
    }
  }
;
}
