{
  if (nodeBean == null)   return null;
  GridClientNodeImpl.Builder nodeBuilder=GridClientNodeImpl.builder().nodeId(nodeBean.getNodeId()).consistentId(nodeBean.getConsistentId()).tcpAddresses(nodeBean.getTcpAddresses()).tcpPort(nodeBean.getTcpPort());
  Map<String,GridClientCacheMode> caches=new HashMap<>();
  if (nodeBean.getCaches() != null) {
    for (    GridClientCacheBean cacheBean : nodeBean.getCaches()) {
      try {
        caches.put(cacheBean.getName(),cacheBean.getMode());
      }
 catch (      IllegalArgumentException ignored) {
        log.warning("Invalid cache mode received from remote node (will ignore) [srv=" + serverAddress() + ", cacheName="+ cacheBean.getName()+ ", cacheMode="+ cacheBean.getMode()+ ']');
      }
    }
  }
  if (!caches.isEmpty())   nodeBuilder.caches(caches);
  if (nodeBean.getAttributes() != null)   nodeBuilder.attributes(nodeBean.getAttributes());
  GridClientNodeMetricsBean metricsBean=nodeBean.getMetrics();
  if (metricsBean != null) {
    GridClientNodeMetricsAdapter metrics=new GridClientNodeMetricsAdapter();
    metrics.setStartTime(metricsBean.getStartTime());
    metrics.setAverageActiveJobs(metricsBean.getAverageActiveJobs());
    metrics.setAverageCancelledJobs(metricsBean.getAverageCancelledJobs());
    metrics.setAverageCpuLoad(metricsBean.getAverageCpuLoad());
    metrics.setAverageJobExecuteTime(metricsBean.getAverageJobExecuteTime());
    metrics.setAverageJobWaitTime(metricsBean.getAverageJobWaitTime());
    metrics.setAverageRejectedJobs(metricsBean.getAverageRejectedJobs());
    metrics.setAverageWaitingJobs(metricsBean.getAverageWaitingJobs());
    metrics.setCurrentActiveJobs(metricsBean.getCurrentActiveJobs());
    metrics.setCurrentCancelledJobs(metricsBean.getCurrentCancelledJobs());
    metrics.setCurrentCpuLoad(metricsBean.getCurrentCpuLoad());
    metrics.setCurrentGcCpuLoad(metricsBean.getCurrentGcCpuLoad());
    metrics.setCurrentDaemonThreadCount(metricsBean.getCurrentDaemonThreadCount());
    metrics.setCurrentIdleTime(metricsBean.getCurrentIdleTime());
    metrics.setCurrentJobExecuteTime(metricsBean.getCurrentJobExecuteTime());
    metrics.setCurrentJobWaitTime(metricsBean.getCurrentJobWaitTime());
    metrics.setCurrentRejectedJobs(metricsBean.getCurrentRejectedJobs());
    metrics.setCurrentThreadCount(metricsBean.getCurrentThreadCount());
    metrics.setCurrentWaitingJobs(metricsBean.getCurrentWaitingJobs());
    metrics.setFileSystemFreeSpace(metricsBean.getFileSystemFreeSpace());
    metrics.setFileSystemTotalSpace(metricsBean.getFileSystemTotalSpace());
    metrics.setFileSystemUsableSpace(metricsBean.getFileSystemUsableSpace());
    metrics.setHeapMemoryCommitted(metricsBean.getHeapMemoryCommitted());
    metrics.setHeapMemoryInitialized(metricsBean.getHeapMemoryInitialized());
    metrics.setHeapMemoryMaximum(metricsBean.getHeapMemoryMaximum());
    metrics.setHeapMemoryUsed(metricsBean.getHeapMemoryUsed());
    metrics.setLastDataVersion(metricsBean.getLastDataVersion());
    metrics.setLastUpdateTime(metricsBean.getLastUpdateTime());
    metrics.setMaximumActiveJobs(metricsBean.getMaximumActiveJobs());
    metrics.setMaximumCancelledJobs(metricsBean.getMaximumCancelledJobs());
    metrics.setMaximumJobExecuteTime(metricsBean.getMaximumJobExecuteTime());
    metrics.setMaximumJobWaitTime(metricsBean.getMaximumJobWaitTime());
    metrics.setMaximumRejectedJobs(metricsBean.getMaximumRejectedJobs());
    metrics.setMaximumThreadCount(metricsBean.getMaximumThreadCount());
    metrics.setMaximumWaitingJobs(metricsBean.getMaximumWaitingJobs());
    metrics.setNodeStartTime(metricsBean.getNodeStartTime());
    metrics.setNonHeapMemoryCommitted(metricsBean.getNonHeapMemoryCommitted());
    metrics.setNonHeapMemoryInitialized(metricsBean.getNonHeapMemoryInitialized());
    metrics.setNonHeapMemoryMaximum(metricsBean.getNonHeapMemoryMaximum());
    metrics.setNonHeapMemoryUsed(metricsBean.getNonHeapMemoryUsed());
    metrics.setStartTime(metricsBean.getStartTime());
    metrics.setTotalCancelledJobs(metricsBean.getTotalCancelledJobs());
    metrics.setTotalCpus(metricsBean.getTotalCpus());
    metrics.setTotalExecutedJobs(metricsBean.getTotalExecutedJobs());
    metrics.setTotalIdleTime(metricsBean.getTotalIdleTime());
    metrics.setTotalRejectedJobs(metricsBean.getTotalRejectedJobs());
    metrics.setTotalStartedThreadCount(metricsBean.getTotalStartedThreadCount());
    metrics.setTotalExecutedTasks(metricsBean.getTotalExecutedTasks());
    metrics.setSentMessagesCount(metricsBean.getSentMessagesCount());
    metrics.setSentBytesCount(metricsBean.getSentBytesCount());
    metrics.setReceivedMessagesCount(metricsBean.getReceivedMessagesCount());
    metrics.setReceivedBytesCount(metricsBean.getReceivedBytesCount());
    metrics.setUpTime(metricsBean.getUpTime());
    nodeBuilder.metrics(metrics);
  }
  return nodeBuilder.build();
}
