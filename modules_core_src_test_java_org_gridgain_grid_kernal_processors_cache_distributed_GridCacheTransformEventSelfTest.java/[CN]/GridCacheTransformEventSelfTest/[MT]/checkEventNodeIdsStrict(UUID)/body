{
  if (ids == null)   assertTrue(evts.isEmpty());
 else {
    assertEquals(ids.length,evts.size());
    for (    UUID id : ids) {
      IgniteCacheEvent foundEvt=null;
      for (      IgniteCacheEvent evt : evts) {
        if (F.eq(id,evt.node().id())) {
          assertEquals(CLO_NAME,evt.closureClassName());
          foundEvt=evt;
          break;
        }
      }
      if (foundEvt == null) {
        GridCache<Integer,Integer> affectedCache=null;
        for (int i=0; i < GRID_CNT; i++) {
          if (F.eq(this.ids[i],id)) {
            affectedCache=caches[i];
            break;
          }
        }
        GridCacheEntry<Integer,Integer> entry1=affectedCache.entry(key1);
        GridCacheEntry<Integer,Integer> entry2=affectedCache.entry(key2);
        fail("Expected transform event was not triggered on the node [nodeId=" + id + ", key1Primary="+ entry1.primary()+ ", key1Backup="+ entry1.backup()+ ", key2Primary="+ entry2.primary()+ ", key2Backup="+ entry2.backup()+ ']');
      }
 else       evts.remove(foundEvt);
    }
  }
}
