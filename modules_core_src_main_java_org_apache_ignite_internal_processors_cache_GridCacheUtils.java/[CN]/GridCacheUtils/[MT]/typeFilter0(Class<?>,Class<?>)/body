{
  return new CacheEntrySerializablePredicate(new CacheEntryPredicateAdapter(){
    @Override public boolean apply(    GridCacheEntryEx e){
      Object val=CU.value(peekVisibleValue(e),e.context(),false);
      return val == null || valType.isAssignableFrom(val.getClass()) && keyType.isAssignableFrom(e.key().value(e.context().cacheObjectContext(),false).getClass());
    }
  }
);
}
