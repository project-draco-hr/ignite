{
  IgniteConfiguration cfg=super.getConfiguration(gridName);
  cfg.setNodeId(null);
  cfg.setFailoverSpi(new AlwaysFailoverSpi(){
    /** 
 * Ignite instance. 
 */
    @IgniteInstanceResource private Ignite ignite;
    /** 
 * {@inheritDoc} 
 */
    @Override public ClusterNode failover(    FailoverContext ctx,    List<ClusterNode> grid){
      if (grid.size() != 1) {
        failed.set(true);
        error("Unexpected grid size [expected=1, grid=" + grid + ']');
      }
      UUID locNodeId=ignite.configuration().getNodeId();
      for (      ClusterNode node : grid) {
        if (node.id().equals(locNodeId)) {
          failed.set(true);
          error("Grid shouldn't contain local node [localNodeId=" + locNodeId + ", grid="+ grid+ ']');
        }
      }
      return super.failover(ctx,grid);
    }
  }
);
  return cfg;
}
