{
  IgniteConfiguration cfg=super.getConfiguration(gridName);
  cfg.setCommunicationSpi(new TcpCommunicationSpi(){
    @Override public void sendMessage(    ClusterNode node,    Message msg,    IgniteInClosure<IgniteException> ackClosure) throws IgniteSpiException {
      if (!F.eq(ignoreMsgNodeId,node.id()) || !ignoredMessage((GridIoMessage)msg))       super.sendMessage(node,msg,ackClosure);
    }
  }
);
  cfg.getTransactionConfiguration().setDefaultTxConcurrency(OPTIMISTIC);
  return cfg;
}
