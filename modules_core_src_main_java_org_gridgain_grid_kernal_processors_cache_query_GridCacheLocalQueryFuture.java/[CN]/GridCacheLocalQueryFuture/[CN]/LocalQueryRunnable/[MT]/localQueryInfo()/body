{
  GridCacheQueryBean qry=query();
  GridPredicate<GridCacheEntry<Object,Object>> prjPred=qry.query().projectionFilter() == null ? F.<GridCacheEntry<Object,Object>>alwaysTrue() : qry.query().projectionFilter();
  GridMarshaller marsh=cctx.marshaller();
  GridReducer<Object,Object> rdc=qry.reducer() != null ? marsh.<GridReducer<Object,Object>>unmarshal(marsh.marshal(qry.reducer()),null) : null;
  IgniteClosure<Object,Object> trans=qry.transform() != null ? marsh.<IgniteClosure<Object,Object>>unmarshal(marsh.marshal(qry.transform()),null) : null;
  return new GridCacheQueryInfo(true,prjPred,trans,rdc,qry.query(),GridCacheLocalQueryFuture.this,ctx.localNodeId(),cctx.io().nextIoId(),qry.query().includeMetadata(),true,qry.arguments());
}
