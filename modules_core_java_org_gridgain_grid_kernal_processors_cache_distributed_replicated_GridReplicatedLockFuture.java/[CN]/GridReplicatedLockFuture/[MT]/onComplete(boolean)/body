{
  if (tx != null)   cctx.tm().txContext(tx);
  if (onDone(success,err.get())) {
    if (!success)     undoLocks(true);
    if (log.isDebugEnabled())     log.debug("Completing future: " + this);
    cctx.mvcc().removeFuture(this);
    if (timeoutObj != null)     cctx.time().removeTimeoutObject(timeoutObj);
  }
}
