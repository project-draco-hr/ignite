{
  final IgniteCache<Integer,String> cache=grid().jcache(null);
  GridTestUtils.runMultiThreaded(new Callable<Object>(){
    /** 
 * {@inheritDoc} 
 */
    @Override public Object call() throws Exception {
      Set<Integer> keys=new HashSet<Integer>();
      Collections.addAll(keys,1,2,3);
      cache.lockAll(keys).lock();
      info("Locked keys from thread [keys=" + keys + ", thread="+ thread()+ ']');
      Thread.sleep(50);
      info("Unlocking key from thread: " + thread());
      cache.lockAll(keys).unlock();
      info("Unlocked keys from thread: " + thread());
      return null;
    }
  }
,10,"multi-lock-thread");
}
