{
  try (IgniteSemaphore semaphore=grid(0).semaphore(STRUCTURE_NAME,20,true,true)){
    Ignite g=startGrid(NEW_GRID_NAME);
    IgniteSemaphore semaphore2=g.semaphore(STRUCTURE_NAME,20,true,false);
    assertEquals(20,semaphore2.availablePermits());
    semaphore2.acquire(10);
    stopGrid(NEW_GRID_NAME);
    assertEquals(10,semaphore.availablePermits());
  }
 }
