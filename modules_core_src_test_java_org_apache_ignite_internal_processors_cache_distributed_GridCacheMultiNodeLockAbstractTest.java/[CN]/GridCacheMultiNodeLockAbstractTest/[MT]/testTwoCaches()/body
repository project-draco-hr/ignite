{
  IgniteCache<Integer,String> cache1=ignite1.cache(CACHE1);
  IgniteCache<Integer,String> cache2=ignite1.cache(CACHE2);
  final Integer key=primaryKey(cache1);
  Lock lock=cache1.lock(key);
  lock.lock();
  try {
    assertTrue(cache1.isLocalLocked(key,true));
    assertTrue(cache1.isLocalLocked(key,false));
    assertFalse(cache2.isLocalLocked(key,true));
    assertFalse(cache2.isLocalLocked(key,false));
  }
  finally {
    lock.unlock();
  }
}
