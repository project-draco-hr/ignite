{
  ipFinder=new TcpDiscoveryVmIpFinder(true);
  startGrid();
  final Cache<String,Integer> c=cache();
  x.applyx(c);
  assertEquals(cache,c.size());
  assertEquals(offheapSwap,c.offHeapEntriesCount() + c.swapKeys());
  if (offheapEmpty)   Assert.assertEquals(0,c.offHeapEntriesCount());
 else   Assert.assertNotEquals(0,c.offHeapEntriesCount());
  if (swapEmpty)   Assert.assertEquals(0,c.swapKeys());
 else   Assert.assertNotEquals(0,c.swapKeys());
  info("size: " + c.size());
  info("offheap: " + c.offHeapEntriesCount());
  info("swap: " + c.swapKeys());
  stopAllGrids();
}
