{
  if (store instanceof LifecycleAware) {
    try {
      if (cctx.config().isWriteBehindEnabled()) {
        if (!cctx.isNear())         ((LifecycleAware)store).start();
      }
 else {
        if (cctx.isNear() || !CU.isNearEnabled(cctx))         ((LifecycleAware)store).start();
      }
    }
 catch (    Exception e) {
      throw new IgniteCheckedException("Failed to start cache store: " + e,e);
    }
  }
  boolean convertPortable=!cctx.config().isKeepPortableInStore();
  if (cctx.config().isPortableEnabled()) {
    if (store instanceof GridInteropAware)     ((GridInteropAware)store).configure(cctx.cache().name(),convertPortable);
 else     this.convertPortable=convertPortable;
  }
 else   if (convertPortable)   U.warn(log,"CacheConfiguration.isKeepPortableInStore() configuration property will " + "be ignored because portable mode is not enabled for cache: " + cctx.namex());
}
