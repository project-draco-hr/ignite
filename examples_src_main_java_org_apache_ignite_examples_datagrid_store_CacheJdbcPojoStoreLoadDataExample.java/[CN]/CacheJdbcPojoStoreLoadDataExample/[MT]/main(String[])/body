{
  Server srv=null;
  try (Ignite ignite=Ignition.start("examples/config/store/example-jdbc-pojo-store.xml")){
    System.out.println();
    System.out.println(">>> Cache auto-loading data example started.");
    prepareDb();
    srv=Server.createTcpServer().start();
    IgniteCache<Object,Object> cache=ignite.jcache(CACHE_NAME);
    cache.clear();
    System.out.println();
    System.out.println(">>> Load whole DB into cache.");
    cache.loadCache(null);
    System.out.println();
    System.out.println(">>> Print loaded content.");
    System.out.println("Organizations:");
    for (int i=0; i < ORGANIZATION_CNT; i++) {
      OrganizationKey orgKey=new OrganizationKey(i);
      System.out.println("    " + cache.get(orgKey));
    }
    System.out.println("Persons:");
    for (int i=0; i < PERSON_CNT; i++) {
      PersonKey prnKey=new PersonKey(i);
      System.out.println("    " + cache.get(prnKey));
    }
    System.out.println(">>> Clear cache for next demo.");
    cache.clear();
    System.out.println(">>> Cache size = " + cache.size());
    System.out.println(">>> Load cache by custom SQL.");
    cache.loadCache(null,"org.apache.ignite.examples.datagrid.store.model.OrganizationKey","SELECT * FROM Organization WHERE id = 2","org.apache.ignite.examples.datagrid.store.model.PersonKey","SELECT * FROM Person WHERE id = 5");
    System.out.println(">>> Check custom SQL.");
    System.out.println(">>>     Organization: " + cache.get(new OrganizationKey(2)));
    System.out.println(">>>     Person: " + cache.get(new PersonKey(5)));
  }
  finally {
    if (srv != null)     srv.stop();
  }
  System.exit(0);
}
