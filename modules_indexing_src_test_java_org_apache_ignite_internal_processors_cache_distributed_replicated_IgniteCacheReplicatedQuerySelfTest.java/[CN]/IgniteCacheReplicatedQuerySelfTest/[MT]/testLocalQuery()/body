{
  cache1.removeAll();
  IgniteTx tx=ignite1.transactions().txStart();
  try {
    cache1.put(new CacheKey(1),new CacheValue("1"));
    cache1.put(new CacheKey(2),new CacheValue("2"));
    cache1.put(new CacheKey(3),new CacheValue("3"));
    cache1.put(new CacheKey(4),new CacheValue("4"));
    tx.commit();
    info("Committed transaction: " + tx);
  }
 catch (  IgniteCheckedException e) {
    tx.rollback();
    throw e;
  }
  checkQueryResults(cache1);
  checkQueryResults(cache2);
  checkQueryResults(cache3);
}
