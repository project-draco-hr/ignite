{
  try {
    int jobId=queue.take();
    sentJobs.incrementAndGet();
    mapper.send(new GridComputeJobAdapter(jobId){
      @GridInstanceResource private Grid g;
      @Override public Object execute(){
        Integer jobId=argument(0);
        X.println(">>> Received job for ID: " + jobId);
        return g.cache("replicated").peek(jobId);
      }
    }
,n);
  }
 catch (  InterruptedException e) {
    throw new GridException(e);
  }
}
