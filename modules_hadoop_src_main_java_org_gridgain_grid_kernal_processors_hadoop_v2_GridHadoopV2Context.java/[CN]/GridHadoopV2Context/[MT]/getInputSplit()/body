{
  if (inputSplit == null) {
    GridHadoopInputSplit split=ctx.taskInfo().inputSplit();
    if (split == null)     return null;
    if (split instanceof GridHadoopFileBlock) {
      GridHadoopFileBlock fileBlock=(GridHadoopFileBlock)split;
      inputSplit=new FileSplit(new Path(fileBlock.file()),fileBlock.start(),fileBlock.length(),null);
    }
 else     if (split instanceof GridHadoopExternalSplit) {
      throw new UnsupportedOperationException();
    }
 else     if (split instanceof GridHadoopSplitWrapper) {
      inputSplit=(InputSplit)((GridHadoopSplitWrapper)split).innerSplit();
    }
 else     throw new IllegalStateException();
  }
  return inputSplit;
}
