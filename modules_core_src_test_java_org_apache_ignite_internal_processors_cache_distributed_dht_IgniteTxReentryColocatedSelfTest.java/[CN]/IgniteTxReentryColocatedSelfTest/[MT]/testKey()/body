{
  int key=0;
  Cache<Object,Object> cache=grid(0).cache(null);
  while (true) {
    Collection<ClusterNode> nodes=cache.affinity().mapKeyToPrimaryAndBackups(key);
    if (nodes.contains(grid(0).localNode()))     key++;
 else     break;
  }
  return key;
}
