{
  Data data=Data.create(null,256);
  data.writeVarInt(rows.size());
  boolean first=true;
  for (  Value[] row : rows) {
    if (first) {
      data.writeVarInt(row.length);
      first=false;
    }
    for (    Value val : row) {
      data.checkCapacity(data.getValueLen(val));
      data.writeValue(val);
    }
  }
  return Arrays.copyOf(data.getBytes(),data.length());
}
