{
  for (int k=0; k < 100; k++) {
    if (invokeAll) {
      IgniteCache<String,Set<String>> cache=ignite(0).cache(null);
      Map<String,Processor> procs=new LinkedHashMap<>();
      for (int i=0; i < NUM_SETS; i++) {
        String key="set-" + i;
        String val="value-" + k;
        cache.invoke(key,new Processor(val));
      }
      cache.invokeAll(procs);
    }
 else {
      for (int i=0; i < NUM_SETS; i++) {
        String key="set-" + i;
        String val="value-" + k;
        IgniteCache<String,Set<String>> cache=ignite(0).cache(null);
        cache.invoke(key,new Processor(val));
      }
    }
  }
}
