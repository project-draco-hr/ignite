{
  try {
    boolean rmv=false;
    List<GridCacheSetItemKey> rmvKeys=null;
    for (    T val : this) {
      if (!c.contains(val)) {
        rmv=true;
        if (rmvKeys == null)         rmvKeys=new ArrayList<>(RMV_BATCH_SIZE);
        rmvKeys.add(itemKey(val));
        if (rmvKeys.size() == RMV_BATCH_SIZE) {
          cache.removeAll(rmvKeys);
          rmvKeys.clear();
        }
      }
    }
    if (!F.isEmpty(rmvKeys))     cache.removeAll(rmvKeys);
    return rmv;
  }
 catch (  GridException e) {
    throw new GridRuntimeException(e);
  }
}
