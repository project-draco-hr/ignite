{
  assert(req.command() == GET_PORTABLE_METADATA);
  try {
    GridRestPortableMetaDataRequest metaReq=(GridRestPortableMetaDataRequest)req;
    GridRestResponse res=new GridRestResponse();
    Map<Integer,GridPortableMetaData> meta=ctx.portable().metaData(metaReq.typeIds());
    GridClientMetaDataResponse metaRes=new GridClientMetaDataResponse();
    metaRes.metaData(meta);
    res.setResponse(metaRes);
    return new GridFinishedFuture<>(ctx,res);
  }
 catch (  GridException e) {
    return new GridFinishedFuture<>(ctx,e);
  }
}
