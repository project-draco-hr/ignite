{
  try {
    if (valBytes == null)     valBytes=ctx.marshaller().marshal(val);
    return new KeyCacheObjectImpl(ctx.marshaller().unmarshal(valBytes,U.gridClassLoader()),valBytes);
  }
 catch (  IgniteCheckedException e) {
    throw new IgniteException("Failed to marshal object: " + val,e);
  }
}
