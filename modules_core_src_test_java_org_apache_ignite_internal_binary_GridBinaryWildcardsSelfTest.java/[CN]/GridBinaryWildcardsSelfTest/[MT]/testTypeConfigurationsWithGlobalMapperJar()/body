{
  BinaryMarshaller marsh=binaryMarshaller(new BinaryIdMapper(){
    @SuppressWarnings("IfMayBeConditional") @Override public int typeId(    String clsName){
      if (clsName.endsWith("1"))       return 300;
 else       if (clsName.endsWith("2"))       return 400;
 else       return -500;
    }
    @Override public int fieldId(    int typeId,    String fieldName){
      return 0;
    }
  }
,Arrays.asList(new BinaryTypeConfiguration("org.apache.ignite.internal.binary.test.*"),new BinaryTypeConfiguration("unknown.*")));
  BinaryContext ctx=binaryContext(marsh);
  Map<String,BinaryIdMapper> typeMappers=U.field(ctx,"typeMappers");
  assertEquals(3,typeMappers.size());
  assertEquals(300,typeMappers.get("GridBinaryTestClass1").typeId("GridBinaryTestClass1"));
  assertEquals(400,typeMappers.get("GridBinaryTestClass2").typeId("GridBinaryTestClass2"));
}
