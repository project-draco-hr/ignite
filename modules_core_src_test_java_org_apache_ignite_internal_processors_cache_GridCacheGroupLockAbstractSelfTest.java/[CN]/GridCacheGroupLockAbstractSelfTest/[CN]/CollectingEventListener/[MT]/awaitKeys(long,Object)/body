{
  long start=System.currentTimeMillis();
  Collection<Object> keysCol=Arrays.asList(keys);
synchronized (this) {
    while (true) {
      long now=System.currentTimeMillis();
      if (affectedKeys.containsAll(keysCol))       return true;
 else       if (start + timeout > now)       wait(start + timeout - now);
 else       return false;
    }
  }
}
