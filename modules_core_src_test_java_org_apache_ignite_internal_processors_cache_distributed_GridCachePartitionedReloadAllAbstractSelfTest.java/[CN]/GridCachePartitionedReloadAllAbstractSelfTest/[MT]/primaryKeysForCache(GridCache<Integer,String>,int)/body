{
  Collection<Integer> found=new ArrayList<>(cnt);
  for (int i=0; i < 10000; i++) {
    if (cache.affinity().isPrimary(grid(caches.indexOf(cache)).localNode(),i)) {
      found.add(i);
      if (found.size() == cnt)       return found;
    }
  }
  throw new IllegalStateException("Unable to find " + cnt + " keys as primary for cache.");
}
