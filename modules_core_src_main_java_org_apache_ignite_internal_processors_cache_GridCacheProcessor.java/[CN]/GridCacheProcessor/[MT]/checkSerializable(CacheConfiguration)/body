{
  if (val == null)   return;
  try {
    marshaller.unmarshal(marshaller.marshal(val),val.getClass().getClassLoader());
  }
 catch (  IgniteCheckedException e) {
    throw new IgniteCheckedException("Failed to validate cache configuration " + "(make sure all objects in cache configuration are serializable): " + U.maskName(val.getName()),e);
  }
}
