{
  CacheConfiguration cfg=cctx.config();
  cleanup(cfg,cfg.getEvictionPolicy(),false);
  cleanup(cfg,cfg.getAffinity(),false);
  cleanup(cfg,cfg.getAffinityMapper(),false);
  cleanup(cfg,cctx.store().configuredStore(),false);
  if (!CU.isUtilityCache(cfg.getName()) && !CU.isSystemCache(cfg.getName())) {
    unregisterMbean(cctx.cache().localMxBean(),cfg.getName(),false);
    unregisterMbean(cctx.cache().clusterMxBean(),cfg.getName(),false);
  }
  NearCacheConfiguration nearCfg=cfg.getNearConfiguration();
  if (nearCfg != null)   cleanup(cfg,nearCfg.getNearEvictionPolicy(),true);
  cctx.cleanup();
}
