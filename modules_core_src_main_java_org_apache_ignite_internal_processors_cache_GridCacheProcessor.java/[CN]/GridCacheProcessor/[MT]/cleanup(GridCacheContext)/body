{
  CacheConfiguration cfg=cctx.config();
  cleanup(cfg,cfg.getEvictionPolicy(),false);
  cleanup(cfg,cfg.getAffinity(),false);
  cleanup(cfg,cfg.getAffinityMapper(),false);
  cleanup(cfg,cctx.store().configuredStore(),false);
  if (!CU.isUtilityCache(cctx.cache().name()) && !CU.isSystemCache(cctx.cache().name()))   unregisterMbean(cctx.cache().mxBean(),U.maskName(cctx.cache().name()) + "_" + ctx.gridName(),false);
  NearCacheConfiguration nearCfg=cfg.getNearConfiguration();
  if (nearCfg != null)   cleanup(cfg,nearCfg.getNearEvictionPolicy(),true);
  cctx.cleanup();
}
