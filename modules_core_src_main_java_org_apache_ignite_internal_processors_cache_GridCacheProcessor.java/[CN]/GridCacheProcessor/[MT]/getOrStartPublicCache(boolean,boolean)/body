{
  for (  Map.Entry<String,GridCacheAdapter<?,?>> e : caches.entrySet()) {
    CacheConfiguration ccfg=e.getValue().configuration();
    String cacheName=ccfg.getName();
    if ((inclLoc || ccfg.getCacheMode() != LOCAL) && GridQueryProcessor.isEnabled(ccfg))     return publicJCache(cacheName);
  }
  if (start) {
    for (    Map.Entry<String,DynamicCacheDescriptor> e : registeredCaches.entrySet()) {
      DynamicCacheDescriptor desc=e.getValue();
      CacheConfiguration ccfg=desc.cacheConfiguration();
      if (ccfg.getCacheMode() != LOCAL && GridQueryProcessor.isEnabled(ccfg)) {
        dynamicStartCache(null,ccfg.getName(),null,false,true,true).get();
        return publicJCache(ccfg.getName());
      }
    }
  }
  return null;
}
