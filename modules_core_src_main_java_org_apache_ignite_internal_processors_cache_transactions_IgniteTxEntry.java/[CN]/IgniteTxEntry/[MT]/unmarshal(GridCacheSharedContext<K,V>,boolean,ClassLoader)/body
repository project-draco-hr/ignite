{
  if (this.ctx == null) {
    GridCacheContext<K,V> cacheCtx=ctx.cacheContext(cacheId);
    if (cacheCtx.isNear() && !near)     cacheCtx=cacheCtx.near().dht().context();
 else     if (!cacheCtx.isNear() && near)     cacheCtx=cacheCtx.dht().near().context();
    this.ctx=cacheCtx;
  }
  if (depEnabled) {
    if (key == null)     key=ctx.marshaller().unmarshal(keyBytes,clsLdr);
    if (transformClosBytes != null && entryProcessorsCol == null)     entryProcessorsCol=ctx.marshaller().unmarshal(transformClosBytes,clsLdr);
    if (filters == null && filterBytes != null) {
      filters=ctx.marshaller().unmarshal(filterBytes,clsLdr);
      if (filters == null)       filters=CU.empty();
    }
  }
  val.unmarshal(this.ctx,clsLdr,depEnabled);
}
