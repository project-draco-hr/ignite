{
  try {
    if (!latch.await(time,TimeUnit.MILLISECONDS))     throw new GridHadoopHandshakeTimeoutException("Failed to wait for handshake to finish [timeout=" + time + ']');
  }
 catch (  InterruptedException e) {
    Thread.currentThread().interrupt();
    throw new GridHadoopHandshakeTimeoutException("Failed to wait for handshake to finish (thread was " + "interrupted) [timeout=" + time + ']',e);
  }
}
