{
  if (type != dsInfo.type) {
    return new IgniteCheckedException("Another data structure with the same name already created " + "[name= " + name + ", new= "+ dsInfo.type.className()+ ", existing="+ type.className()+ ']');
  }
  if (create) {
    if (type == DataStructureType.QUEUE) {
      QueueInfo oldInfo=(QueueInfo)info;
      QueueInfo newInfo=(QueueInfo)dsInfo.info;
      if (oldInfo.collocated != newInfo.collocated) {
        return new IgniteCheckedException("Another queue with the same name but different " + "configuration already created [name= " + name + ", newCollocated= "+ newInfo.collocated+ ", existingCollocated="+ newInfo.collocated+ ']');
      }
      if (oldInfo.cap != newInfo.cap) {
        return new IgniteCheckedException("Another queue with the same name but different " + "configuration already created [name= " + name + ", newCapacity= "+ newInfo.cap+ ", existingCapacity="+ newInfo.cap+ ']');
      }
    }
 else     if (type == DataStructureType.SET) {
      SetInfo oldInfo=(SetInfo)info;
      SetInfo newInfo=(SetInfo)dsInfo.info;
      if (oldInfo.collocated != newInfo.collocated) {
        return new IgniteCheckedException("Another set with the same name but different " + "configuration already created [name= " + name + ", newCollocated= "+ newInfo.collocated+ ", existingCollocated="+ newInfo.collocated+ ']');
      }
    }
  }
  return null;
}
