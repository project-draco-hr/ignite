{
  if (F.isEmpty(txs)) {
    remainingTxs=Collections.emptySet();
    onDone(true);
  }
 else {
    remainingTxs=new GridConcurrentHashSet<>(txs);
    for (    final IgniteInternalTx tx : txs) {
      if (!tx.done()) {
        tx.finishFuture().listenAsync(new CI1<IgniteInternalFuture<IgniteInternalTx>>(){
          @Override public void apply(          IgniteInternalFuture<IgniteInternalTx> t){
            remainingTxs.remove(tx);
            checkRemaining();
          }
        }
);
      }
 else       remainingTxs.remove(tx);
    }
    checkRemaining();
  }
}
