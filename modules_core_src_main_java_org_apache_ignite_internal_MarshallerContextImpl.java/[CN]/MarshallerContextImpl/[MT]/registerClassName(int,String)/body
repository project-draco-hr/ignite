{
  try {
    if (cache == null)     U.awaitQuiet(latch);
    String old=cache.putIfAbsent(id,clsName);
    if (old != null && !old.equals(clsName))     throw new IgniteException("Type ID collision occurred in OptimizedMarshaller. Use " + "OptimizedMarshallerIdMapper to resolve it [id=" + id + ", clsName1="+ clsName+ "clsName2="+ old+ ']');
  }
 catch (  IgniteCheckedException e) {
    throw U.convertException(e);
  }
}
