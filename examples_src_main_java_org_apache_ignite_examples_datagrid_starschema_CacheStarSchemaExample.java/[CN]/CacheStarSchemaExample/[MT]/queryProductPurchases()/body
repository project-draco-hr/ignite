{
  IgniteCache<Integer,FactPurchase> factCache=Ignition.ignite().jcache(PARTITIONED_CACHE_NAME);
  DimProduct p1=rand(dataProduct.values());
  DimProduct p2=rand(dataProduct.values());
  DimProduct p3=rand(dataProduct.values());
  System.out.println("IDs of products [p1=" + p1.getId() + ", p2="+ p2.getId()+ ", p3="+ p3.getId()+ ']');
  QueryCursor<Cache.Entry<Integer,FactPurchase>> prodPurchases=factCache.query(new SqlQuery(FactPurchase.class,"from \"" + REPLICATED_CACHE_NAME + "\".DimStore, \""+ REPLICATED_CACHE_NAME+ "\".DimProduct, "+ "\""+ PARTITIONED_CACHE_NAME+ "\".FactPurchase "+ "where DimStore.id=FactPurchase.storeId and DimProduct.id=FactPurchase.productId "+ "and DimStore.name=? and DimProduct.id in(?, ?, ?)").setArgs("Store2",p1.getId(),p2.getId(),p3.getId()));
  printQueryResults("All purchases made at store2 for 3 specific products:",prodPurchases.getAll());
}
