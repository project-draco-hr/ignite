{
  if (key == null) {
    throw new NullPointerException();
  }
  if (comparator == null) {
    return (Comparable<? super K>)key;
  }
  return new Comparable<K>(){
    final Comparator<? super K> _cmp=comparator;
    @SuppressWarnings("unchecked") public int compareTo(    final K rhs){
      return _cmp.compare((K)key,rhs);
    }
  }
;
}
