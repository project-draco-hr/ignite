{
  byte rc=msg.resultCode();
  if (rc != GridClientHandshakeResponse.OK.resultCode()) {
    if (rc == GridClientHandshakeResponse.ERR_VERSION_CHECK_FAILED.resultCode())     log.warning("Client and server versions are different (see server log for more details).");
 else     if (rc == GridClientHandshakeResponse.ERR_UNKNOWN_PROTO_ID.resultCode())     throw new GridClientHandshakeException(rc,"Unknown/unsupported protocol ID.");
 else     throw new GridClientHandshakeException(rc,"Handshake failed due to internal error (see server log for more details).");
  }
}
