{
  TcpClientFuture fut=pendingReqs.get(msg.requestId());
  if (fut == null) {
    log.warning("Response for an unknown request is received, ignoring. Message: " + msg);
    return;
  }
  if (msg instanceof GridRouterResponse) {
    removePending(msg.requestId());
    fut.onDone(msg);
  }
 else   if (msg instanceof GridClientResponse)   handleClientResponse(fut,(GridClientResponse)msg);
 else   log.warning("Unsupported response type received: " + msg);
}
