{
  shmemSrvEndpoint=new GridIpcSharedMemoryServerEndpoint();
  shmemSrvEndpoint.setPort(8);
  String json=JSONSerializer.toJSON(shmemSrvEndpoint).toString();
  json="{\"type\" : \"shmem\"," + json.substring(1);
  GridIpcServerEndpoint deserialized=GridIpcServerEndpointDeserializer.deserialize(GridGgfsTestUtils.jsonToMap(json));
  assertTrue(deserialized instanceof GridIpcSharedMemoryServerEndpoint);
  GridIpcSharedMemoryServerEndpoint deserializedShmemEndpoint=(GridIpcSharedMemoryServerEndpoint)deserialized;
  assertEquals(shmemSrvEndpoint.getPort(),deserializedShmemEndpoint.getPort());
  assertEquals(shmemSrvEndpoint.getSize(),deserializedShmemEndpoint.getSize());
  assertEquals(shmemSrvEndpoint.getTokenDirectoryPath(),deserializedShmemEndpoint.getTokenDirectoryPath());
}
