{
  GridTestUtils.assertThrows(log,new Callable<Object>(){
    @Override public Object call() throws Exception {
      JSONObject json=(JSONObject)JSONSerializer.toJSON(shmemSrvEndpoint);
      json.accumulate("type","unknownEndpointType");
      return GridIpcServerEndpointDeserializer.deserialize(GridGgfsTestUtils.jsonToMap(json.toString()));
    }
  }
,IgniteCheckedException.class,"Failed to create server endpoint (type is unknown): unknownEndpointType");
}
