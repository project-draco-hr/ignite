{
  this.client=client;
  this.log=log;
  PoolingClientConnectionManager conMgr=new PoolingClientConnectionManager();
  conMgr.setMaxTotal(maxTotal);
  conMgr.setDefaultMaxPerRoute(maxPerRoute);
  conMgr.getSchemeRegistry().register(new Scheme("grid",11211,sslCtx == null ? new PlainSocketFactory() : new SSLSocketFactory(sslCtx,ALLOW_ALL_HOSTNAME_VERIFIER)));
  httpClient=new DefaultHttpClient(conMgr);
  ((AbstractHttpClient)httpClient).setReuseStrategy(new NoConnectionReuseStrategy());
  ((AbstractHttpClient)httpClient).setCookieStore(new EmptyCookieStore());
}
