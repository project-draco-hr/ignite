{
  out.writeLong(qryReqId);
  out.writeInt(qry);
  out.writeInt(page);
  out.writeBoolean(last);
  out.writeInt(allRows);
  out.writeInt(rows.size());
  if (rows.isEmpty())   return;
  Data data=Data.create(null,512);
  boolean first=true;
  for (  Value[] row : rows) {
    if (first) {
      out.writeInt(row.length);
      first=false;
    }
    for (    Value val : row)     data.writeValue(val);
  }
  out.writeInt(data.length());
  out.write(data.getBytes(),0,data.length());
}
