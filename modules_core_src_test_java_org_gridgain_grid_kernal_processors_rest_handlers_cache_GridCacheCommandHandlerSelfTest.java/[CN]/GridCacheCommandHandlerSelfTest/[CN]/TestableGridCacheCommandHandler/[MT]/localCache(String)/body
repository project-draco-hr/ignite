{
  final GridCache<Object,Object> cache=super.localCache(cacheName);
  return (GridCache<Object,Object>)Proxy.newProxyInstance(getClass().getClassLoader(),new Class[]{GridCache.class},new InvocationHandler(){
    @Override public Object invoke(    Object proxy,    Method mtd,    Object[] args) throws Throwable {
      if (failMtd.equals(mtd.getName())) {
        GridFuture<Object> fut=new GridFinishedFuture<>(ctx,new GridException("Operation failed"));
        fut.syncNotify(sync);
        return fut;
      }
 else       if ("flagsOn".equals(mtd.getName()))       return proxy;
      return mtd.invoke(cache,args);
    }
  }
);
}
