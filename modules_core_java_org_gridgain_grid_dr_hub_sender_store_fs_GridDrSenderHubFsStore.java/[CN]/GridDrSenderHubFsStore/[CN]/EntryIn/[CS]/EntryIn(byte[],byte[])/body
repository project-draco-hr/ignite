{
  this.data=data;
  this.streams=streams;
  hdr=new byte[HEADER_SIZE];
  size=hdr.length + streams.length + data.length;
  ByteBuffer hdrBuf=ByteBuffer.wrap(hdr);
  hdrBuf.putShort(MAGIC);
  hdrBuf.put((byte)streams.length);
  hdrBuf.putInt(checksum ? Arrays.hashCode(data) : 0);
  hdrBuf.putInt(data.length);
}
