{
  for (  CommunicationSpi<GridTcpCommunicationMessageAdapter> spi : spis) {
    spi.onContextDestroyed();
    spi.setListener(null);
    spi.spiStop();
  }
  for (  GridTestResources rsrcs : spiRsrcs) {
    rsrcs.stopThreads();
  }
  spis.clear();
  nodes.clear();
  spiRsrcs.clear();
}
