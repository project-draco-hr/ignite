{
  GridConfiguration cfg=super.getConfiguration(gridName);
  cfg.setCommunicationSpi(new GridTcpCommunicationSpi(){
    @Override public void sendMessage(    GridNode node,    GridTcpCommunicationMessageAdapter msg) throws GridSpiException {
      if (getSpiContext().localNode().id().equals(failingNodeId)) {
        if (ignoredMessage((GridIoMessage)msg) && ignoreMsgNodeIds != null) {
          for (          UUID ignored : ignoreMsgNodeIds) {
            if (node.id().equals(ignored))             return;
          }
        }
      }
      super.sendMessage(node,msg);
    }
  }
);
  return cfg;
}
