{
  Path fsHome=new Path(primaryFsUri);
  Path file=new Path(fsHome,"/tmp/my");
  FSDataOutputStream os=fs.create(file,FsPermission.getDefault(),false,64 * 1024,fs.getDefaultReplication(),fs.getDefaultBlockSize(),null);
  os.close();
  Path tmpDir=new Path(fsHome,"/tmp");
  FsPermission perm=new FsPermission((short)123);
  fs.setPermission(tmpDir,perm);
  assertEquals(perm,fs.getFileStatus(tmpDir).getPermission());
  assertEquals(FsPermission.getDefault(),fs.getFileStatus(file).getPermission());
}
