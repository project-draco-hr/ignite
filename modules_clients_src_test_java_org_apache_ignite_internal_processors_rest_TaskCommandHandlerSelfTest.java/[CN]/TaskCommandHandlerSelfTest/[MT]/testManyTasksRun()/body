{
  GridClientCompute compute=client.compute();
  for (int i=0; i < 1000; i++)   assertEquals("executing".length(),compute.execute(TestTask.class.getName(),"executing"));
  GridClientFactory.stop(client.id(),true);
  IgniteKernal g=(IgniteKernal)grid(0);
  Map<GridRestCommand,GridRestCommandHandler> handlers=U.field(g.context().rest(),"handlers");
  GridTaskCommandHandler taskHnd=(GridTaskCommandHandler)F.find(handlers.values(),null,new P1<GridRestCommandHandler>(){
    @Override public boolean apply(    GridRestCommandHandler e){
      return e instanceof GridTaskCommandHandler;
    }
  }
);
  assertNotNull("GridTaskCommandHandler was not found",taskHnd);
  ConcurrentLinkedHashMap taskDesc=U.field(taskHnd,"taskDescs");
  assertTrue("Task result map size exceeded max value [mapSize=" + taskDesc.sizex() + ", "+ "maxSize="+ MAX_TASK_RESULTS+ ']',taskDesc.sizex() <= MAX_TASK_RESULTS);
}
