{
  GridConfiguration cfg=new GridConfiguration();
  cfg.setGridName("hibernate-grid");
  cfg.setLocalHost("127.0.0.1");
  cfg.setRestEnabled(false);
  GridTcpDiscoverySpi discoSpi=new GridTcpDiscoverySpi();
  GridTcpDiscoveryVmIpFinder ipFinder=new GridTcpDiscoveryVmIpFinder();
  ipFinder.setAddresses(Collections.singletonList("127.0.0.0:47500..47509"));
  discoSpi.setIpFinder(ipFinder);
  cfg.setDiscoverySpi(discoSpi);
  cfg.setCacheConfiguration(cacheConfiguration("org.hibernate.cache.spi.UpdateTimestampsCache",ATOMIC),cacheConfiguration("org.hibernate.cache.internal.StandardQueryCache",ATOMIC),cacheConfiguration("org.gridgain.examples.datagrid.hibernate.User",TRANSACTIONAL),cacheConfiguration("org.gridgain.examples.datagrid.hibernate.User.posts",TRANSACTIONAL),cacheConfiguration("org.gridgain.examples.datagrid.hibernate.Post",TRANSACTIONAL));
  return cfg;
}
