{
  if (endTime == 0 && !tryAcquireSharedNanos(0,nanosTimeout))   throw new GridFutureTimeoutException("Timeout was reached before computation completed.");
  if (getState() == CANCELLED)   throw new GridFutureCancelledException("Future was cancelled: " + this);
  if (err != null)   throw U.cast(err);
  return res;
}
