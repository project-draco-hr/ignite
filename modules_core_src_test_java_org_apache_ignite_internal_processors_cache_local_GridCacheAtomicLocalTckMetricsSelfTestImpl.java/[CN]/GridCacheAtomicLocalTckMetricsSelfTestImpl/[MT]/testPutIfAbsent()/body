{
  IgniteCache<Integer,Integer> jcache=grid(0).jcache(null);
  long hitCount=0;
  long missCount=0;
  long putCount=0;
  boolean result=jcache.putIfAbsent(1,1);
  ++putCount;
  assertTrue(result);
  assertEquals(missCount,cache().metrics().getCacheMisses());
  assertEquals(hitCount,cache().metrics().getCacheHits());
  assertEquals(putCount,cache().metrics().getCachePuts());
  result=jcache.putIfAbsent(1,1);
  assertFalse(result);
  assertEquals(hitCount,cache().metrics().getCacheHits());
  assertEquals(putCount,cache().metrics().getCachePuts());
  assertEquals(missCount,cache().metrics().getCacheMisses());
}
