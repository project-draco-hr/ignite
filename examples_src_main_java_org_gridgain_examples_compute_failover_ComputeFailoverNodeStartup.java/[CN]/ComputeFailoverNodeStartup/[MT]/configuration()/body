{
  IgniteConfiguration cfg=new IgniteConfiguration();
  cfg.setLocalHost("127.0.0.1");
  cfg.setPeerClassLoadingEnabled(true);
  GridSharedFsCheckpointSpi checkpointSpi=new GridSharedFsCheckpointSpi();
  checkpointSpi.setDirectoryPaths(Collections.singletonList("work/checkpoint/sharedfs"));
  cfg.setCheckpointSpi(checkpointSpi);
  GridTcpDiscoverySpi discoSpi=new GridTcpDiscoverySpi();
  GridTcpDiscoveryVmIpFinder ipFinder=new GridTcpDiscoveryVmIpFinder();
  ipFinder.setAddresses(Arrays.asList("127.0.0.1:47500..47509"));
  discoSpi.setIpFinder(ipFinder);
  cfg.setDiscoverySpi(discoSpi);
  return cfg;
}
