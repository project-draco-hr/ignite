{
  Collection<Metadata> metas=PlatformUtils.readCollection(reader,new PlatformReaderClosure<Metadata>(){
    @Override public Metadata read(    BinaryRawReaderEx reader){
      int typeId=reader.readInt();
      String typeName=reader.readString();
      String affKey=reader.readString();
      Map<String,Integer> fields=PlatformUtils.readMap(reader,new PlatformReaderBiClosure<String,Integer>(){
        @Override public IgniteBiTuple<String,Integer> read(        BinaryRawReaderEx reader){
          return F.t(reader.readString(),reader.readInt());
        }
      }
);
      boolean isEnum=reader.readBoolean();
      return new Metadata(typeId,typeName,affKey,fields,isEnum);
    }
  }
);
  for (  Metadata meta : metas)   cacheObjProc.updateMetadata(meta.typeId,meta.typeName,meta.affKey,meta.fields,meta.isEnum);
}
