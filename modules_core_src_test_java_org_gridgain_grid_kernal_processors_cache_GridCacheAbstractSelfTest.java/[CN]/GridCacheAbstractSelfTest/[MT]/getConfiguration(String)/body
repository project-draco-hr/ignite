{
  IgniteConfiguration cfg=super.getConfiguration(gridName);
  GridTcpDiscoverySpi disco=new GridTcpDiscoverySpi();
  disco.setMaxMissedHeartbeats(Integer.MAX_VALUE);
  disco.setIpFinder(ipFinder);
  if (isDebug())   disco.setAckTimeout(Integer.MAX_VALUE);
  cfg.setDiscoverySpi(disco);
  cfg.setCacheConfiguration(cacheConfiguration(gridName));
  cfg.setMarshaller(new GridOptimizedMarshaller(false));
  return cfg;
}
