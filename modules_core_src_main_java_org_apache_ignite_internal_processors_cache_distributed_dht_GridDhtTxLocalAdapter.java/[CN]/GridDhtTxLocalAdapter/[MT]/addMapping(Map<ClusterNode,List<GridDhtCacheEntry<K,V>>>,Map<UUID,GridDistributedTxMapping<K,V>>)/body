{
  for (  Map.Entry<ClusterNode,List<GridDhtCacheEntry<K,V>>> mapping : mappings.entrySet()) {
    ClusterNode n=mapping.getKey();
    GridDistributedTxMapping<K,V> m=dst.get(n.id());
    List<GridDhtCacheEntry<K,V>> entries=mapping.getValue();
    for (    GridDhtCacheEntry<K,V> entry : entries) {
      IgniteTxEntry<K,V> txEntry=txMap.get(entry.txKey());
      if (txEntry != null) {
        if (m == null)         dst.put(n.id(),m=new GridDistributedTxMapping<>(n));
        m.add(txEntry);
      }
    }
  }
}
