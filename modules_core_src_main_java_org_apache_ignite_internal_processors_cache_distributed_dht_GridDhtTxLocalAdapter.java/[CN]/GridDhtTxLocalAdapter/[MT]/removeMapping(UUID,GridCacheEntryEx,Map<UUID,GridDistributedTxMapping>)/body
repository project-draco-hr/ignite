{
  if (entry != null) {
    if (log.isDebugEnabled())     log.debug("Removing mapping for entry [nodeId=" + nodeId + ", entry="+ entry+ ']');
    IgniteTxEntry txEntry=entry(entry.txKey());
    if (txEntry == null)     return false;
    GridDistributedTxMapping m=map.get(nodeId);
    boolean ret=m != null && m.removeEntry(txEntry);
    if (m != null && m.empty())     map.remove(nodeId);
    return ret;
  }
 else   return map.remove(nodeId) != null;
}
