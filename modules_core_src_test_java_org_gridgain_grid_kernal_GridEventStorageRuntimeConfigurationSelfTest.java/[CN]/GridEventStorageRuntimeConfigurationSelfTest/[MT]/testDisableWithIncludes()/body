{
  inclEvtTypes=null;
  try {
    Ignite g=startGrid();
    g.events().enableLocal(EVT_TASK_STARTED,EVT_TASK_FINISHED,EVT_JOB_STARTED);
    final AtomicInteger cnt=new AtomicInteger();
    g.events().localListen(new IgnitePredicate<GridEvent>(){
      @Override public boolean apply(      GridEvent evt){
        cnt.incrementAndGet();
        return true;
      }
    }
,EVT_TASK_STARTED,EVT_TASK_FINISHED,EVT_JOB_STARTED);
    g.compute().run(F.noop());
    assertEquals(3,cnt.get());
    g.events().disableLocal(EVT_TASK_STARTED,EVT_TASK_FINISHED,EVT_JOB_FAILED);
    g.compute().run(F.noop());
    assertEquals(4,cnt.get());
  }
  finally {
    stopAllGrids();
  }
}
