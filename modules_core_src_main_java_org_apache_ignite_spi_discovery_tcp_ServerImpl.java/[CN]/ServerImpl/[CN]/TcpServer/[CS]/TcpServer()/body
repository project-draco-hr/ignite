{
  super(spi.ignite().name(),"tcp-disco-srvr",log);
  setPriority(spi.threadPri);
  int lastPort=spi.locPortRange == 0 ? spi.locPort : spi.locPort + spi.locPortRange - 1;
  for (port=spi.locPort; port <= lastPort; port++) {
    try {
      if (spi.isSslEnabled())       srvrSock=spi.sslSrvSockFactory.createServerSocket(port,0,spi.locHost);
 else       srvrSock=new ServerSocket(port,0,spi.locHost);
      if (log.isInfoEnabled())       log.info("Successfully bound to TCP port [port=" + port + ", localHost="+ spi.locHost+ ']');
      return;
    }
 catch (    IOException e) {
      if (log.isDebugEnabled())       log.debug("Failed to bind to local port (will try next port within range) " + "[port=" + port + ", localHost="+ spi.locHost+ ']');
      onException("Failed to bind to local port. " + "[port=" + port + ", localHost="+ spi.locHost+ ']',e);
    }
  }
  throw new IgniteSpiException("Failed to bind TCP server socket (possibly all ports in range " + "are in use) [firstPort=" + spi.locPort + ", lastPort="+ lastPort+ ", addr="+ spi.locHost+ ']');
}
