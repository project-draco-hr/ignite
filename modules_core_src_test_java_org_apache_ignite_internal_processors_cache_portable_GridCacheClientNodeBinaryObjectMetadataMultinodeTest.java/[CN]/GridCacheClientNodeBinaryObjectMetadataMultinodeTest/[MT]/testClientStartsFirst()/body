{
  client=true;
  Ignite ignite0=startGrid(0);
  assertTrue(ignite0.configuration().isClientMode());
  client=false;
  Ignite ignite1=startGrid(1);
  assertFalse(ignite1.configuration().isClientMode());
  IgniteBinary portables=ignite(1).binary();
  IgniteCache<Object,Object> cache=ignite(1).cache(null).withKeepBinary();
  for (int i=0; i < 100; i++) {
    BinaryObjectBuilder builder=portables.builder("type-" + i);
    builder.setField("f0",i);
    cache.put(i,builder.build());
  }
  assertEquals(100,ignite(0).binary().metadata().size());
}
