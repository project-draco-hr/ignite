{
  grid(0).getOrCreateCache(getClientConfig());
  assertNull(grid(0).cache(CACHE_NAME_CLIENT).get(KEY_VAL));
  grid(0).cache(CACHE_NAME_CLIENT).put(KEY_VAL,KEY_VAL);
  assertEquals(KEY_VAL,grid(0).cache(CACHE_NAME_CLIENT).get(KEY_VAL));
  assertEquals(KEY_VAL,grid(1).cache(CACHE_NAME_CLIENT).get(KEY_VAL));
  assertEquals(KEY_VAL,grid(2).cache(CACHE_NAME_CLIENT).get(KEY_VAL));
  assertTrue(grid(2).configuration().isClientMode());
  IgniteCache<Object,Object> cache=grid(2).cache(CACHE_NAME_CLIENT);
  cache.destroy();
  checkDestroyed(cache);
}
