{
  super.prepareMarshal(ctx);
  if (writes != null) {
    marshalTx(writes,ctx);
    writesBytes=new ArrayList<>(writes.size());
    for (    GridCacheTxEntry<K,V> e : writes)     writesBytes.add(ctx.marshaller().marshal(e));
  }
  if (reads != null) {
    marshalTx(reads,ctx);
    readsBytes=new ArrayList<>(reads.size());
    for (    GridCacheTxEntry<K,V> e : reads)     readsBytes.add(ctx.marshaller().marshal(e));
  }
  if (grpLockKey != null && grpLockKeyBytes == null)   grpLockKeyBytes=ctx.marshaller().marshal(grpLockKey);
  if (dhtVers != null && dhtVersBytes == null)   dhtVersBytes=ctx.marshaller().marshal(dhtVers);
  if (txNodes != null)   txNodesBytes=ctx.marshaller().marshal(txNodes);
}
