{
  IgniteFs ggfs=grid(0).fileSystem("ggfs");
  IgniteFsPath path=new IgniteFsPath("/someFile");
  try (GridGgfsOutputStream out=ggfs.create(path,true)){
    for (int i=0; i < 10 * GGFS_GROUP_SIZE; i++) {
      byte[] data=new byte[GGFS_BLOCK_SIZE];
      Arrays.fill(data,(byte)i);
      out.write(data);
    }
  }
   long start=System.currentTimeMillis();
  do {
    try (GridGgfsInputStream in=ggfs.open(path)){
      for (int i=0; i < 10 * GGFS_GROUP_SIZE; i++) {
        for (int j=0; j < GGFS_BLOCK_SIZE; j++)         assertEquals(i & 0xFF,in.read());
      }
      assertEquals(-1,in.read());
    }
   }
 while (System.currentTimeMillis() - start < 7000);
}
