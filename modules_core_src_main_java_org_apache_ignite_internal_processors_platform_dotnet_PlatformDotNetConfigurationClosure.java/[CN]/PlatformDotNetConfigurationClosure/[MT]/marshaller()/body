{
  try {
    PortableContext ctx=new PortableContext(BinaryNoopMetadataHandler.instance(),new IgniteConfiguration());
    BinaryMarshaller marsh=new BinaryMarshaller();
    marsh.setContext(new MarshallerContextImpl(null));
    ctx.configure(marsh,new IgniteConfiguration());
    return new GridPortableMarshaller(ctx);
  }
 catch (  IgniteCheckedException e) {
    throw U.convertException(e);
  }
}
