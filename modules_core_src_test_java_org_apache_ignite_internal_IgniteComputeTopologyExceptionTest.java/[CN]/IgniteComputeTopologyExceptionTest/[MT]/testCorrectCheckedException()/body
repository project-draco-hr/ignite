{
  IgniteKernal ignite0=(IgniteKernal)ignite(0);
  Collection<ClusterNode> nodes=F.asList(ignite(1).cluster().localNode());
  stopGrid(1);
  IgniteInternalFuture<?> fut=ignite0.context().closure().callAsyncNoFailover(BALANCE,new IgniteCallable<Object>(){
    @Override public Object call() throws Exception {
      fail("Should not be called.");
      return null;
    }
  }
,nodes,false);
  try {
    fut.get();
    fail();
  }
 catch (  ClusterTopologyCheckedException e) {
    log.info("Expected exception: " + e);
  }
}
