{
  this.ch=ch;
  this.fut=fut;
  this.log=log;
  this.sslEngine=sslEngine;
  int netBufSize=sslEngine.getSession().getPacketBufferSize() + 50;
  outNetBuf=ByteBuffer.allocate(netBufSize);
  inNetBuf=ByteBuffer.allocate(netBufSize);
  outNetBuf.position(0);
  outNetBuf.limit(0);
  appBuf=allocateAppBuff();
  handshakeStatus=sslEngine.getHandshakeStatus();
  sslEngine.setUseClientMode(true);
  if (log.isDebugEnabled())   log.debug("Started SSL session [netBufSize=" + netBufSize + ", appBufSize="+ appBuf.capacity()+ ']');
}
