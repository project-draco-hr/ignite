{
  WindowHolder tup=ref.get();
  if (!unique) {
    tup.collection().add(new Holder<>(evt,ts,orderCnt.incrementAndGet()));
    tup.size().incrementAndGet();
  }
 else {
    if (tup.set().add(evt)) {
      tup.collection().add(new Holder<>(evt,ts,orderCnt.incrementAndGet()));
      tup.size().incrementAndGet();
    }
  }
}
