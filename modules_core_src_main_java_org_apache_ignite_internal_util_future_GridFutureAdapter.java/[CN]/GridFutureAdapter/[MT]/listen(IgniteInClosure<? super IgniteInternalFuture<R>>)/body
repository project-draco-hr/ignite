{
  if (lsnr0 != null) {
    boolean done=isDone();
    if (!done) {
synchronized (this) {
        done=isDone();
        if (!done) {
          if (lsnr == null)           lsnr=lsnr0;
 else           if (lsnr instanceof ArrayListener)           ((ArrayListener)lsnr).add(lsnr0);
 else {
            lsnr=(IgniteInClosure)new ArrayListener<IgniteInternalFuture>(lsnr,lsnr0);
          }
          return;
        }
      }
    }
    assert done;
    notifyListener(lsnr0);
  }
}
