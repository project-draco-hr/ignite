{
  byte type=in.readByte();
  Object res;
switch (type) {
case TYPE_NULL:
    res=null;
  break;
case TYPE_BYTE:
res=in.readByte();
break;
case TYPE_INT:
res=in.readInt();
break;
case TYPE_LONG:
res=in.readLong();
break;
case TYPE_STRING:
res=readStringValue();
break;
case TYPE_USER_OBJECT:
res=readPortable();
break;
default :
throw new IOException("Invalid type: " + type);
}
return (T)res;
}
