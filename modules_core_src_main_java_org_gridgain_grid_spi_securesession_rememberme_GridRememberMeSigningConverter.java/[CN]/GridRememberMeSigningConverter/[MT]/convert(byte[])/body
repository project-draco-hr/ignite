{
  try {
    MessageDigest digest=provider == null ? MessageDigest.getInstance(algo) : MessageDigest.getInstance(algo,provider);
    return digest.digest(data);
  }
 catch (  NoSuchAlgorithmException e) {
    throw new GridSpiException("Invalid hashing algorithm: " + algo,e);
  }
catch (  NoSuchProviderException e) {
    throw new GridSpiException("Invalid security provider: " + provider,e);
  }
}
