{
  super.prepareMarshal(ctx);
  if (ownedBytes == null && owned != null) {
    ownedBytes=CU.marshal(ctx,owned);
    if (ctx.deploymentEnabled()) {
      for (      IgniteTxKey<K> k : owned.keySet())       prepareObject(k,ctx);
    }
  }
  if (nearWrites != null) {
    marshalTx(nearWrites,ctx);
    nearWritesBytes=new ArrayList<>(nearWrites.size());
    for (    IgniteTxEntry<K,V> e : nearWrites)     nearWritesBytes.add(ctx.marshaller().marshal(e));
  }
}
