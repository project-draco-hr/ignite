{
  if (fileLock != null)   throw new GridException("Already locked [lockFile=" + file + ']');
  try {
    fileLock=raFile.getChannel().tryLock(0,Long.MAX_VALUE,shared);
    if (fileLock == null)     throw new GridException("Failed to get exclusive lock on lock file [lockFile=" + file + ']');
  }
 catch (  IOException|OverlappingFileLockException e) {
    throw new GridException("Failed to get exclusive lock on lock file [lockFile=" + file + ']',e);
  }
}
