{
  for (  KeyCacheObject key : keys) {
    Object val=map.get(key);
    if (val != null) {
      Object v;
      GridCacheVersion ver;
      if (needVer) {
        T2<Object,GridCacheVersion> t=(T2)val;
        v=t.get1();
        ver=t.get2();
      }
 else {
        v=val;
        ver=null;
      }
      c.apply(key,v,ver);
    }
 else     c.apply(key,null,IgniteTxEntry.SER_READ_EMPTY_ENTRY_VER);
  }
}
