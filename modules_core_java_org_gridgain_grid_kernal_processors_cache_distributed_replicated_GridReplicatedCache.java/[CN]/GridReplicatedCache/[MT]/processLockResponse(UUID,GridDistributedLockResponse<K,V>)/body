{
  GridReplicatedLockFuture<K,V> fut=futurex(res.version(),res.futureId());
  if (fut == null) {
    U.warn(log,"Received lock response for non-existing future (will ignore): " + res);
  }
 else {
    fut.onResult(nodeId,res);
    if (fut.isDone()) {
      ctx.mvcc().removeFuture(fut);
      if (log.isDebugEnabled())       log.debug("Received all replies for future (future was removed): " + fut);
    }
  }
}
