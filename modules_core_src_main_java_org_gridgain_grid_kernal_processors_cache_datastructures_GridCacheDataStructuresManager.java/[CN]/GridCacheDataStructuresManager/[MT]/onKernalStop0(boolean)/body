{
  super.onKernalStop0(cancel);
  busyLock.block();
  cctx.events().removeListener(discoLsnr);
  if (queueQry != null) {
    try {
      queueQry.close();
    }
 catch (    GridException e) {
      U.warn(log,"Failed to cancel queue header query.",e);
    }
  }
  for (  GridCacheQueueProxy q : queuesMap.values())   q.delegate().onKernalStop();
}
