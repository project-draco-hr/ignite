{
  GridCache<String,Integer> cache=cache();
  long start=System.currentTimeMillis();
  long ops;
  for (ops=0; ops < 20 * 1000 * 1000; ops++) {
    cache.affinity().mapKeyToPrimaryAndBackups(Long.toString(ops));
    if (ops % 1000 == 0 && Thread.interrupted()) {
      Thread.currentThread().interrupt();
      break;
    }
  }
  long opsPerMs=ops / (System.currentTimeMillis() - start);
  info("Operations per ms [opsPerMs=" + opsPerMs + ']');
  assertTrue("Expect more then 1000 operations per ms [opsPerMs=" + opsPerMs + ']',opsPerMs > 1000);
}
