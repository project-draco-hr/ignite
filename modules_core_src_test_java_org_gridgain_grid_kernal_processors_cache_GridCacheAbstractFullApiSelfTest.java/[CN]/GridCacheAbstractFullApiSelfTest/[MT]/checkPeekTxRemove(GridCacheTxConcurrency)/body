{
  if (txEnabled()) {
    GridCache<String,Integer> cache=primaryCache("key");
    cache.put("key",1);
    GridCacheTx tx=cache.txStart(concurrency,READ_COMMITTED);
    try {
      cache.remove("key");
      assertNull(cache.peek("key"));
      tx.commit();
    }
  finally {
      tx.close();
    }
  }
}
