{
  byte flag=readByte();
  if (flag == NULL)   return null;
  if (flag != STRING)   throw new PortableException("Failed to deserialize String.");
  boolean convert=readBoolean();
  int len=readInt();
  String str;
  if (convert) {
    str=new String(arr,pos,len,UTF_8);
    pos+=len;
  }
 else {
    str=String.valueOf(PRIM.readCharArray(arr,pos,len));
    pos+=len << 1;
  }
  return str;
}
