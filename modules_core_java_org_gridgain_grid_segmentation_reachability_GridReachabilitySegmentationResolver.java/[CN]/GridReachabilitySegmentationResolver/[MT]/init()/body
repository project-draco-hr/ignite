{
  if (initGuard.compareAndSet(false,true)) {
    try {
      if (addr == null)       throw new GridException("Property 'address' cannot be null: " + this);
      if (itf == null && itfAddr != null)       itf=NetworkInterface.getByInetAddress(itfAddr);
      if (ttl < 0)       throw new GridException("Property 'TTL' cannot be negative: " + this);
      if (timeout < 0)       throw new GridException("Property 'timeout' cannot be negative: " + this);
      init=true;
    }
 catch (    SocketException e) {
      throw new GridException("Failed to get network interface: " + this,e);
    }
 finally {
      initLatch.countDown();
    }
  }
 else {
    U.await(initLatch);
    if (!init)     throw new GridException("Segmentation resolver was not properly initialized.");
  }
}
