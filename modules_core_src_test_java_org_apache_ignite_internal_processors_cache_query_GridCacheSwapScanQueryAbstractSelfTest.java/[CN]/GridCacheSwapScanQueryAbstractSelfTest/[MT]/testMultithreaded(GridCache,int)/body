{
  log.info("Starting multithreaded queries.");
  GridTestUtils.runMultiThreaded(new Callable<Void>(){
    @SuppressWarnings("unchecked") @Override public Void call() throws Exception {
      CacheQuery<Map.Entry<Key,Person>> qry=cache.queries().createScanQuery(new IgniteBiPredicate<Key,Person>(){
        @Override public boolean apply(        Key key,        Person p){
          assertEquals(key.id,(Integer)p.salary);
          return key.id % 2 == 0;
        }
      }
);
      for (int i=0; i < 250; i++) {
        Collection<Map.Entry<Key,Person>> res=qry.execute().get();
        assertEquals(expCnt,res.size());
        if (i % 50 == 0)         log.info("Iteration " + i);
      }
      return null;
    }
  }
,8,"test");
}
