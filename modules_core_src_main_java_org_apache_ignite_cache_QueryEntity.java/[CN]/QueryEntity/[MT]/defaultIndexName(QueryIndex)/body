{
  StringBuilder idxName=new StringBuilder();
  for (  Map.Entry<String,Boolean> field : idx.getFields().entrySet()) {
    idxName.append(field.getKey());
    idxName.append('_');
    idxName.append(field.getValue() ? "asc_" : "desc_");
  }
  for (int i=0; i < idxName.length(); i++) {
    char ch=idxName.charAt(i);
    if (Character.isWhitespace(ch))     idxName.setCharAt(i,'_');
 else     idxName.setCharAt(i,Character.toLowerCase(ch));
  }
  idxName.append("idx");
  return idxName.toString();
}
