{
  Lock l=lock.writeLock();
  l.lock();
  try {
    if (stopped)     return false;
    stopped=true;
    return true;
  }
  finally {
    l.unlock();
  }
}
