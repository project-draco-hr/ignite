{
  if (curFut == null)   throw new IllegalStateException();
  GridFuture<?> fut=curFut.get();
  if (fut == null)   throw new IllegalStateException();
  curFut.set(null);
  return (GridFuture<R>)fut;
}
