{
  this.log=log;
  this.client=client;
  Map<Byte,GridClientMarshaller> tmpMap=new GridLeanMap<>(3);
  tmpMap.put(U.PORTABLE_OBJECT_PROTO_ID,new GridClientPortableMarshaller());
  tmpMap.put(U.OPTIMIZED_CLIENT_PROTO_ID,new GridClientOptimizedMarshaller());
  tmpMap.put(U.JDK_CLIENT_PROTO_ID,new GridClientJdkMarshaller());
  suppMarshMap=Collections.unmodifiableMap(tmpMap);
}
