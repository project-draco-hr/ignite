{
  GridCache<Integer,Object> dimCache=Ignition.grid().cache(REPLICATED_CACHE_NAME);
  GridCache<Integer,FactPurchase> factCache=Ignition.grid().cache(PARTITIONED_CACHE_NAME);
  GridCacheProjection<Integer,DimProduct> prods=dimCache.projection(Integer.class,DimProduct.class);
  DimProduct p1=rand(prods.values());
  DimProduct p2=rand(prods.values());
  DimProduct p3=rand(prods.values());
  System.out.println("IDs of products [p1=" + p1.getId() + ", p2="+ p2.getId()+ ", p3="+ p3.getId()+ ']');
  GridCacheQuery<Map.Entry<Integer,FactPurchase>> prodPurchases=factCache.queries().createSqlQuery(FactPurchase.class,"from \"replicated\".DimStore, \"replicated\".DimProduct, \"partitioned\".FactPurchase " + "where DimStore.id=FactPurchase.storeId and DimProduct.id=FactPurchase.productId " + "and DimStore.name=? and DimProduct.id in(?, ?, ?)");
  printQueryResults("All purchases made at store2 for 3 specific products:",prodPurchases.execute("Store2",p1.getId(),p2.getId(),p3.getId()).get());
}
