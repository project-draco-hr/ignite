{
  Path fsHome=new Path(primaryFsUri);
  final Path srcFile=new Path(fsHome,"srcFile");
  final Path dstFile=new Path(fsHome,"dstFile");
  FSDataOutputStream os=fs.create(srcFile,EnumSet.noneOf(CreateFlag.class),Options.CreateOpts.perms(FsPermission.getDefault()));
  os.close();
  os=fs.create(dstFile,EnumSet.noneOf(CreateFlag.class),Options.CreateOpts.perms(FsPermission.getDefault()));
  os.close();
  GridTestUtils.assertThrows(log,new Callable<Object>(){
    @Override public Object call() throws Exception {
      fs.rename(srcFile,dstFile);
      return null;
    }
  }
,FileAlreadyExistsException.class,null);
  assertPathExists(fs,srcFile);
  assertPathExists(fs,dstFile);
}
