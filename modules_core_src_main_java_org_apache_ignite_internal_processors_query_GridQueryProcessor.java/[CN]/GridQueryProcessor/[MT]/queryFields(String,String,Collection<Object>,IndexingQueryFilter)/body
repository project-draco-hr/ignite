{
  checkEnabled();
  if (!busyLock.enterBusy())   throw new IllegalStateException("Failed to execute query (grid is stopping).");
  try {
    final GridCacheContext<?,?> cctx=ctx.cache().internalCache(space).context();
    return executeQuery(cctx,new IgniteOutClosureX<GridQueryFieldsResult>(){
      @Override public GridQueryFieldsResult applyx() throws IgniteCheckedException {
        return idx.queryFields(space,clause,params,filters);
      }
    }
);
  }
  finally {
    busyLock.leaveBusy();
  }
}
