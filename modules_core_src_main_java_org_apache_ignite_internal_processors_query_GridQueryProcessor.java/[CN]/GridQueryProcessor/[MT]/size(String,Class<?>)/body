{
  checkEnabled();
  if (!busyLock.enterBusy())   throw new IllegalStateException("Failed to get space size (grid is stopping).");
  try {
    TypeDescriptor desc=types.get(new TypeId(space,valType));
    if (desc == null || !desc.registered())     return -1;
    return idx.size(space,desc,null);
  }
  finally {
    busyLock.leaveBusy();
  }
}
