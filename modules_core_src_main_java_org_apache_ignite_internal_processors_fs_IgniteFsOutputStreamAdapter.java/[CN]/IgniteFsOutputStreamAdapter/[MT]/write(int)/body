{
  checkClosed(null,0);
  long startTime=System.nanoTime();
  b&=0xFF;
  if (buf == null)   buf=ByteBuffer.allocate(bufSize);
  buf.put((byte)b);
  if (buf.position() >= bufSize)   sendData(true);
  time+=System.nanoTime() - startTime;
}
