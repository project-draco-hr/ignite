{
  ClusterMetricsSnapshot metrics=new ClusterMetricsSnapshot();
  ByteBuffer buf=ByteBuffer.wrap(data,off,METRICS_SIZE);
  metrics.setLastUpdateTime(U.currentTimeMillis());
  metrics.setMaximumActiveJobs(buf.getInt());
  metrics.setCurrentActiveJobs(buf.getInt());
  metrics.setAverageActiveJobs(buf.getFloat());
  metrics.setMaximumWaitingJobs(buf.getInt());
  metrics.setCurrentWaitingJobs(buf.getInt());
  metrics.setAverageWaitingJobs(buf.getFloat());
  metrics.setMaximumRejectedJobs(buf.getInt());
  metrics.setCurrentRejectedJobs(buf.getInt());
  metrics.setAverageRejectedJobs(buf.getFloat());
  metrics.setMaximumCancelledJobs(buf.getInt());
  metrics.setCurrentCancelledJobs(buf.getInt());
  metrics.setAverageCancelledJobs(buf.getFloat());
  metrics.setTotalRejectedJobs(buf.getInt());
  metrics.setTotalCancelledJobs(buf.getInt());
  metrics.setTotalExecutedJobs(buf.getInt());
  metrics.setMaximumJobWaitTime(buf.getLong());
  metrics.setCurrentJobWaitTime(buf.getLong());
  metrics.setAverageJobWaitTime(buf.getDouble());
  metrics.setMaximumJobExecuteTime(buf.getLong());
  metrics.setCurrentJobExecuteTime(buf.getLong());
  metrics.setAverageJobExecuteTime(buf.getDouble());
  metrics.setTotalExecutedTasks(buf.getInt());
  metrics.setCurrentIdleTime(buf.getLong());
  metrics.setTotalIdleTime(buf.getLong());
  metrics.setAvailableProcessors(buf.getInt());
  metrics.setCurrentCpuLoad(buf.getDouble());
  metrics.setAverageCpuLoad(buf.getDouble());
  metrics.setCurrentGcCpuLoad(buf.getDouble());
  metrics.setHeapMemoryInitialized(buf.getLong());
  metrics.setHeapMemoryUsed(buf.getLong());
  metrics.setHeapMemoryCommitted(buf.getLong());
  metrics.setHeapMemoryMaximum(buf.getLong());
  metrics.setHeapMemoryTotal(buf.getLong());
  metrics.setNonHeapMemoryInitialized(buf.getLong());
  metrics.setNonHeapMemoryUsed(buf.getLong());
  metrics.setNonHeapMemoryCommitted(buf.getLong());
  metrics.setNonHeapMemoryMaximum(buf.getLong());
  metrics.setNonHeapMemoryTotal(buf.getLong());
  metrics.setStartTime(buf.getLong());
  metrics.setNodeStartTime(buf.getLong());
  metrics.setUpTime(buf.getLong());
  metrics.setCurrentThreadCount(buf.getInt());
  metrics.setMaximumThreadCount(buf.getInt());
  metrics.setTotalStartedThreadCount(buf.getLong());
  metrics.setCurrentDaemonThreadCount(buf.getInt());
  metrics.setLastDataVersion(buf.getLong());
  metrics.setSentMessagesCount(buf.getInt());
  metrics.setSentBytesCount(buf.getLong());
  metrics.setReceivedMessagesCount(buf.getInt());
  metrics.setReceivedBytesCount(buf.getLong());
  metrics.setOutboundMessagesQueueSize(buf.getInt());
  metrics.setTotalNodes(buf.getInt());
  return metrics;
}
