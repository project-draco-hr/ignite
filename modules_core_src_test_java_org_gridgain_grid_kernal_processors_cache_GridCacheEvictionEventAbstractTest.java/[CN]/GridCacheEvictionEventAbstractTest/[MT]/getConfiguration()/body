{
  IgniteConfiguration c=super.getConfiguration();
  GridTcpDiscoverySpi disco=new GridTcpDiscoverySpi();
  disco.setIpFinder(ipFinder);
  c.setDiscoverySpi(disco);
  GridCacheConfiguration cc=defaultCacheConfiguration();
  cc.setCacheMode(cacheMode());
  cc.setAtomicityMode(atomicityMode());
  cc.setEvictNearSynchronized(isNearEvictSynchronized());
  c.setCacheConfiguration(cc);
  c.setIncludeEventTypes(EVT_CACHE_ENTRY_EVICTED,EVT_TASK_FAILED,EVT_TASK_FINISHED,EVT_JOB_MAPPED);
  return c;
}
