{
  IgniteConfiguration c=super.getConfiguration(gridName);
  TcpDiscoverySpi disco=new TcpDiscoverySpi();
  disco.setIpFinder(ipFinder);
  c.setDiscoverySpi(disco);
  c.setIncludeEventTypes(EVT_TASK_FAILED,EVT_TASK_FINISHED,EVT_JOB_MAPPED);
  c.setIncludeProperties();
  c.setDeploymentMode(IgniteDeploymentMode.SHARED);
  c.setNetworkTimeout(10000);
  c.setClientConnectionConfiguration(null);
  c.setMarshaller(new IgniteOptimizedMarshaller(false));
  c.setExecutorService(new IgniteThreadPoolExecutor(10,10,0,new LinkedBlockingQueue<Runnable>()));
  c.setSystemExecutorService(new IgniteThreadPoolExecutor(10,10,0,new LinkedBlockingQueue<Runnable>()));
  c.setPeerClassLoadingExecutorService(new IgniteThreadPoolExecutor(3,3,0,new LinkedBlockingQueue<Runnable>()));
  c.setLifecycleBeans(lifecycleBean);
  return c;
}
