{
  IgniteConfiguration c=super.getConfiguration(gridName);
  TcpDiscoverySpi disco=new TcpDiscoverySpi();
  disco.setIpFinder(ipFinder);
  c.setDiscoverySpi(disco);
  c.setIncludeEventTypes(EVT_TASK_FAILED,EVT_TASK_FINISHED,EVT_JOB_MAPPED);
  c.setIncludeProperties();
  c.setDeploymentMode(IgniteDeploymentMode.SHARED);
  c.setNetworkTimeout(10000);
  c.setMarshaller(new IgniteOptimizedMarshaller(false));
  c.setExecutorService(10);
  c.setSystemExecutorService(10);
  c.setPeerClassLoadingExecutorService(3);
  c.setLifecycleBeans(lifecycleBean);
  return c;
}
