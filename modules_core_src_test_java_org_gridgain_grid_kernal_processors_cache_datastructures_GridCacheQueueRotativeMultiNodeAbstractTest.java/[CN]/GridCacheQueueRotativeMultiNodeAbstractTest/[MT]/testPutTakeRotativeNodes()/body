{
  String queueName=UUID.randomUUID().toString();
  GridCacheQueue<Integer> queue=grid(0).cache(null).dataStructures().queue(queueName,QUEUE_CAPACITY,true,true);
  assertTrue(queue.isEmpty());
  for (int i=GRID_CNT; i < GRID_CNT * 3; i++) {
    startGrid(i);
    grid(i).forLocal().compute().call(new PutTakeJob(queueName,RETRIES)).get();
    if (i < (GRID_CNT * 3) - 1)     stopGrid(i);
  }
  queue=grid((GRID_CNT * 3) - 1).cache(null).dataStructures().queue(queueName,QUEUE_CAPACITY,true,false);
  assertEquals(0,queue.size());
}
