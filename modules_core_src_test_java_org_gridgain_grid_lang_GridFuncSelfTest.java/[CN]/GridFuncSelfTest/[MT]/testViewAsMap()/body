{
  Set<Integer> c=F.asSet(1,2,3);
  GridClosure<Integer,String> clo=new C1<Integer,String>(){
    @Override public String apply(    Integer e){
      return String.valueOf(e);
    }
  }
;
  Map<Integer,String> m=F.viewAsMap(c,clo);
  assertEquals("1",m.get(1));
  assertEquals("2",m.get(2));
  assertEquals("3",m.get(3));
  assertNull(m.get(4));
  m=F.viewAsMap(c,clo,new P1<Integer>(){
    @Override public boolean apply(    Integer e){
      return (e & 1) == 0;
    }
  }
);
  assertNull(m.get(1));
  assertEquals("2",m.get(2));
  assertFalse(m.containsKey(3));
}
