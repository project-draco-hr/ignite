{
  storeEnabled=true;
  startGridsMultiThreaded(3);
  Ignite g0=grid(0);
  Ignite g1=grid(1);
  Ignite g2=grid(2);
  try {
    int k0=forPrimary(g0);
    int k1=forPrimary(g0,k0);
    int k2=forPrimary(g0,k1);
    checkStoreWithValues(F.asMap(k0,String.valueOf(k0),k1,String.valueOf(k1),k2,String.valueOf(k2)));
    k1=forPrimary(g1);
    k2=forPrimary(g2);
    checkStoreWithValues(F.asMap(k0,String.valueOf(k0),k1,String.valueOf(k1),k2,String.valueOf(k2)));
    checkStoreWithValues(F.asMap(k1,String.valueOf(k1),k2,String.valueOf(k2)));
  }
  finally {
    stopAllGrids();
  }
}
