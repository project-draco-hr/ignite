{
  IgniteOptimizedMarshaller marsh=new IgniteOptimizedMarshaller();
  marsh.setRequireSerializable(false);
  byte[] bytes=marsh.marshal(new TestTcpDiscoveryIpFinderAdapter());
  TcpDiscoveryIpFinder ipFinder=marsh.unmarshal(bytes,null);
  assertFalse(ipFinder.isShared());
}
