{
  bean=new LifeCycleExceptionBean(AFTER_GRID_START,gridErr);
  try {
    startGrid();
    assertTrue(false);
  }
 catch (  GridException expected) {
    info("Got expected exception: " + expected);
    assertEquals(GridGainState.STOPPED,G.state(getTestGridName()));
  }
 finally {
    stopAllGrids();
  }
  assertEquals(1,bean.count(BEFORE_GRID_START));
  assertEquals(0,bean.count(AFTER_GRID_START));
  assertEquals(1,bean.count(BEFORE_GRID_STOP));
  assertEquals(1,bean.count(AFTER_GRID_STOP));
}
