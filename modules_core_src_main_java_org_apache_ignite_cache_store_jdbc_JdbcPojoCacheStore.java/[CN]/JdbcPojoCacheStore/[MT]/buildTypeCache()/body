{
  typeMapping=U.newHashMap(typeMetadata.size());
  mtdsCache=U.newHashMap(typeMetadata.size() * 2);
  for (  CacheQueryTypeMetadata type : typeMetadata) {
    PojoMethodsCache keyCache=new PojoMethodsCache(type.getKeyType(),type.getKeyDescriptors());
    mtdsCache.put(type.getKeyType(),keyCache);
    typeMapping.put(new IgniteBiTuple<String,Object>(null,keyId(type.getKeyType())),new EntryMapping(dialect,type));
    mtdsCache.put(type.getType(),new PojoMethodsCache(type.getType(),type.getValueDescriptors()));
  }
  typeMapping=Collections.unmodifiableMap(typeMapping);
  mtdsCache=Collections.unmodifiableMap(mtdsCache);
}
