{
  CollectionConfiguration colCfg=new CollectionConfiguration();
  CacheConfiguration cfg=ignite.cache(CACHE_NAME).getConfiguration(CacheConfiguration.class);
  colCfg.atomicityMode(cfg.getAtomicityMode());
  colCfg.memoryMode(cfg.getMemoryMode());
  colCfg.cacheMode(cfg.getCacheMode());
  colCfg.backups(cfg.getBackups());
  colCfg.offHeapMaxMem(cfg.getOffHeapMaxMemory());
  IgniteQueue<String> queue=ignite.queue(queueName,0,colCfg);
  for (int i=0; i < ignite.cluster().nodes().size() * RETRIES * 2; i++)   queue.put(Integer.toString(i));
  System.out.println("Queue size after initializing: " + queue.size());
  return queue;
}
