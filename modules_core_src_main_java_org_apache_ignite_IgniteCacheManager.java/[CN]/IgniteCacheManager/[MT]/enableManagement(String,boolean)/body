{
  ensureNotClosed();
  if (cacheName == null)   throw new NullPointerException();
  IgniteBiTuple<Ignite,IgniteCacheMXBean> tuple;
synchronized (igniteMap) {
    tuple=igniteMap.get(cacheName);
  }
  ObjectName objName=getObjectName(cacheName,false);
  MBeanServer mBeanSrv=tuple.get1().configuration().getMBeanServer();
  try {
    if (enabled) {
      if (mBeanSrv.queryNames(objName,null).isEmpty())       mBeanSrv.registerMBean(tuple.get2(),objName);
    }
 else {
      for (      ObjectName n : mBeanSrv.queryNames(objName,null))       mBeanSrv.unregisterMBean(n);
    }
  }
 catch (  InstanceAlreadyExistsException|InstanceNotFoundException ignored) {
  }
catch (  MBeanRegistrationException|NotCompliantMBeanException e) {
    throw new CacheException(e);
  }
}
