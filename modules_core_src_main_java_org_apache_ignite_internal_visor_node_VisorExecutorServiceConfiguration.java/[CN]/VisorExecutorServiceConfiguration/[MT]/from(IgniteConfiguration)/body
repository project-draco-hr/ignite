{
  VisorExecutorServiceConfiguration cfg=new VisorExecutorServiceConfiguration();
  cfg.executeService(compactClass(c.getExecutorService()));
  cfg.executeServiceShutdown(c.getExecutorServiceShutdown());
  cfg.systemExecutorService(compactClass(c.getSystemExecutorService()));
  cfg.systemExecutorServiceShutdown(c.getSystemExecutorServiceShutdown());
  cfg.p2pExecutorService(compactClass(c.getPeerClassLoadingExecutorService()));
  cfg.p2pExecutorServiceShutdown(c.getSystemExecutorServiceShutdown());
  ClientConnectionConfiguration cc=c.getClientConnectionConfiguration();
  if (cc != null) {
    cfg.restExecutorService(compactClass(cc.getExecutorService()));
    cfg.restExecutorServiceShutdown(cc.isExecutorServiceShutdown());
  }
  return cfg;
}
