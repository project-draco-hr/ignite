{
  try (Ignite ignite=Ignition.start("examples/config/example-ignite.xml")){
    System.out.println();
    System.out.println(">>> Cache store example started.");
    System.out.println(">>> Store: " + STORE);
    CacheConfiguration<Long,Person> cacheCfg=CacheStoreExampleCacheConfigurator.cacheConfiguration();
    try (IgniteCache<Long,Person> cache=ignite.createCache(cacheCfg)){
      try (Transaction tx=ignite.transactions().txStart()){
        Person val=cache.get(id);
        System.out.println("Read value: " + val);
        val=cache.getAndPut(id,new Person(id,"Isaac","Newton"));
        System.out.println("Overwrote old value: " + val);
        val=cache.get(id);
        System.out.println("Read value: " + val);
        tx.commit();
      }
       System.out.println("Read value after commit: " + cache.get(id));
      if (STORE.equals(AUTO)) {
        System.out.println(">>> Example of CacheJdbcPojoStore special feature: load from DB with custom SQL.");
        cache.clear();
        System.out.println("Cache size: " + cache.size());
        cache.loadCache(null,"java.lang.Long","select * from PERSON where id = 2");
        System.out.println("Cache size: " + cache.size());
        System.out.println("Person: " + cache.get(2L));
      }
    }
   }
 }
