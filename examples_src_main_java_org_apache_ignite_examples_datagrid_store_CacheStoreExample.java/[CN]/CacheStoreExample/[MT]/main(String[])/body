{
  IgniteConfiguration cfg=CacheNodeWithStoreStartup.configure();
  try (Ignite ignite=Ignition.start(cfg)){
    System.out.println();
    System.out.println(">>> Cache store example started.");
    System.out.println(">>> Store: " + STORE);
    IgniteCache<Long,Person> cache=ignite.jcache(null);
    cache.clear();
    try (Transaction tx=ignite.transactions().txStart()){
      Person val=cache.get(id);
      System.out.println("Read value: " + val);
      val=cache.getAndPut(id,person(id,"Isaac","Newton"));
      System.out.println("Overwrote old value: " + val);
      val=cache.get(id);
      System.out.println("Read value: " + val);
      tx.commit();
    }
     System.out.println("Read value after commit: " + cache.get(id));
    if (STORE.equals(AUTO)) {
      System.out.println(">>> Example of CacheJdbcPojoStore special feature: load from DB with custom SQL.");
      cache.clear();
      System.out.println("Cache size: " + cache.size());
      cache.loadCache(null,"java.lang.Long","select * from PERSON where id = 2");
      System.out.println("Cache size: " + cache.size());
      System.out.println("Person: " + cache.get(2L));
    }
  }
 }
