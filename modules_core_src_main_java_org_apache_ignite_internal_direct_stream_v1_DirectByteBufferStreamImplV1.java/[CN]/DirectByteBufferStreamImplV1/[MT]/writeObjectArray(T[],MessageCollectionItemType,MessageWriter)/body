{
  if (arr != null) {
    if (arrIt == null) {
      writeInt(arr.length);
      if (!lastFinished)       return;
      arrIt=arrayIterator(arr);
    }
    while (arrIt.hasNext() || arrCur != NULL) {
      if (arrCur == NULL)       arrCur=arrIt.next();
      write(itemType,arrCur,writer);
      if (!lastFinished)       return;
      arrCur=NULL;
    }
    arrIt=null;
  }
 else   writeInt(-1);
}
