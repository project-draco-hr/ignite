{
  Ignite ignite=startGrid(0,new GridSpringResourceContextImpl(new GenericApplicationContext()));
  try {
    ignite.compute().execute(SharedResourceTask1.class,null);
    ignite.compute().execute(SharedResourceTask2.class,null);
    checkUsageCount(createClss,UserResource1.class,2);
    checkUsageCount(createClss,UserResource2.class,2);
    checkUsageCount(deployClss,UserResource1.class,2);
    checkUsageCount(deployClss,UserResource2.class,2);
  }
  finally {
    GridTestUtils.close(ignite,log());
  }
  checkUsageCount(undeployClss,UserResource1.class,2);
  checkUsageCount(undeployClss,UserResource2.class,2);
}
