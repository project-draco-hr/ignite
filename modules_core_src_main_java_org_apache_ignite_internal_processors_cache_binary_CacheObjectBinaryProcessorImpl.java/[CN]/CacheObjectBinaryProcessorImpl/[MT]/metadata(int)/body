{
  try {
    if (clientNode) {
      BinaryType typeMeta=clientMetaDataCache.get(typeId);
      if (typeMeta != null)       return typeMeta;
      BinaryMetadata meta=metaDataCache.getTopologySafe(new PortableMetadataKey(typeId));
      return meta != null ? meta.wrap(portableCtx) : null;
    }
 else {
      PortableMetadataKey key=new PortableMetadataKey(typeId);
      BinaryMetadata meta=metaDataCache.localPeek(key);
      if (meta == null && !metaDataCache.context().preloader().syncFuture().isDone())       meta=metaDataCache.getTopologySafe(key);
      return meta != null ? meta.wrap(portableCtx) : null;
    }
  }
 catch (  CacheException e) {
    throw new BinaryObjectException(e);
  }
}
