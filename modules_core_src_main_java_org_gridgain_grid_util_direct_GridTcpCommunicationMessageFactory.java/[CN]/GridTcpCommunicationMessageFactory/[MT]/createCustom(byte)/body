{
  GridOutClosure<GridTcpCommunicationMessageAdapter> c=CUSTOM.get(type);
  if (c == null)   throw new IllegalStateException("Invalid message type: " + type);
  return c.apply();
}
