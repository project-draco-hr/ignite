{
  if (doReadBoolean(raw)) {
    if (!in.hasArray())     return new String(doReadByteArray(raw),UTF_8);
    int strLen=doReadInt(raw);
    int strOff=raw ? rawOff : off;
    String res=new String(in.array(),strOff,strLen,UTF_8);
    if (raw)     rawOff+=strLen;
 else     off+=strLen;
    return res;
  }
 else   return String.valueOf(doReadCharArray(raw));
}
