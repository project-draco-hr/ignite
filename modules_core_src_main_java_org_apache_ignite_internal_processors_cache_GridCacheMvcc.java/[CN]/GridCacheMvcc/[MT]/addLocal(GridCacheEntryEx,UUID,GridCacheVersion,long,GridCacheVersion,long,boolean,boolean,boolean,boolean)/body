{
  if (log.isDebugEnabled())   log.debug("Adding local candidate [mvcc=" + this + ", parent="+ parent+ ", threadId="+ threadId+ ", ver="+ ver+ ", timeout="+ timeout+ ", reenter="+ reenter+ ", tx="+ tx+ "]");
  if (!dhtLoc && !reenter) {
    GridCacheMvccCandidate owner=localOwner();
    if (owner != null && owner.threadId() == threadId)     return null;
  }
  if (timeout < 0) {
    if (locs != null || rmts != null) {
      GridCacheMvccCandidate owner=localOwner();
      if (owner == null || owner.threadId() != threadId)       return null;
    }
  }
  UUID locNodeId=cctx.nodeId();
  GridCacheMvccCandidate cand=new GridCacheMvccCandidate(parent,locNodeId,nearNodeId,nearVer,threadId,ver,timeout,true,false,tx,implicitSingle,false,dhtLoc);
  cctx.mvcc().addLocal(cand);
  add0(cand);
  return cand;
}
