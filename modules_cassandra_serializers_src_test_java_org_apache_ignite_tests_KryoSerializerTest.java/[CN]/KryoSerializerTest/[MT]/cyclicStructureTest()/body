{
  MyPojo pojo1=new MyPojo("123",1,123423453467L,new Date(),null);
  MyPojo pojo2=new MyPojo("321",2,123456L,new Date(),pojo1);
  pojo1.setRef(pojo2);
  KryoSerializer ser=new KryoSerializer();
  ByteBuffer buff1=ser.serialize(pojo1);
  ByteBuffer buff2=ser.serialize(pojo2);
  MyPojo pojo3=(MyPojo)ser.deserialize(buff1);
  MyPojo pojo4=(MyPojo)ser.deserialize(buff2);
  assertEquals("Kryo cyclic structure serialization test failed",pojo1,pojo3);
  assertEquals("Kryo cyclic structure serialization test failed",pojo1.getRef(),pojo3.getRef());
  assertEquals("Kryo cyclic structure serialization test failed",pojo2,pojo4);
  assertEquals("Kryo cyclic structure serialization test failed",pojo2.getRef(),pojo4.getRef());
}
