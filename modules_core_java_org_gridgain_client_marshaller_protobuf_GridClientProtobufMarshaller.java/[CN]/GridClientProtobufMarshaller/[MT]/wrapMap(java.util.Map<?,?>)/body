{
  ClientMessagesProtocols.Map.Builder builder=ClientMessagesProtocols.Map.newBuilder();
  if (map != null && !map.isEmpty()) {
    java.util.Collection<KeyValue> res=new ArrayList<>(map.size());
    for (    java.util.Map.Entry o : map.entrySet()) {
      KeyValue.Builder entryBuilder=KeyValue.newBuilder();
      entryBuilder.setKey(wrapObject(o.getKey())).setValue(wrapObject(o.getValue()));
      res.add(entryBuilder.build());
    }
    builder.addAllEntry(res);
  }
  return builder.build();
}
