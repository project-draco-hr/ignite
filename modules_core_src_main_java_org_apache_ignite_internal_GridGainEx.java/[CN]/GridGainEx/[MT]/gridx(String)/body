{
  GridNamedInstance grid=name != null ? grids.get(name) : dfltGrid;
  IgniteKernal res;
  if (grid == null || (res=grid.gridx()) == null)   throw new IllegalStateException("Grid instance was not properly started or was already stopped: " + name);
  return res;
}
