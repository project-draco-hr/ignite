{
  IgniteConfiguration cfg=super.getConfiguration(gridName);
  final int idx=cnt.getAndIncrement();
  TcpDiscoverySpi discoSpi=new TcpDiscoverySpi(){
    @Override public void setNodeAttributes(    Map<String,Object> attrs,    IgniteProductVersion ver){
      Map<String,Object> overrideAttrs=new HashMap<>(attrs);
      if (idx % 2 == 0)       overrideAttrs.put(IgniteNodeAttributes.ATTR_BUILD_VER,firstNodeVer);
 else       overrideAttrs.put(IgniteNodeAttributes.ATTR_BUILD_VER,secondNodeVer);
      super.setNodeAttributes(overrideAttrs,ver);
    }
  }
;
  discoSpi.setIpFinder(IP_FINDER);
  cfg.setDiscoverySpi(discoSpi);
  return cfg;
}
