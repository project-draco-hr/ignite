{
  CacheConfiguration ccfg=null;
  for (  CacheConfiguration ccfg0 : ctx.config().getCacheConfiguration()) {
    if (F.eq(cacheName,ccfg0.getName())) {
      ccfg=ccfg0;
      break;
    }
  }
  if (ccfg != null) {
    CacheMemoryMode memMode=ccfg.getMemoryMode();
    return new CacheObjectContext(ctx,new GridCacheDefaultAffinityKeyMapper(),ccfg.isCopyOnRead() && memMode == ONHEAP_TIERED,ctx.config().isPeerClassLoadingEnabled() || ccfg.isQueryIndexEnabled());
  }
 else   return new CacheObjectContext(ctx,new GridCacheDefaultAffinityKeyMapper(),false,ctx.config().isPeerClassLoadingEnabled());
}
