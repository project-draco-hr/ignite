{
  if (closed())   throw new GridException("Client was closed: " + this);
  try {
    out.write(data,0,len);
    metricsLsnr.onBytesSent(len);
  }
 catch (  IOException e) {
    throw new GridException("Failed to send message to remote node: " + sock.getRemoteSocketAddress(),e);
  }
  markUsed();
}
