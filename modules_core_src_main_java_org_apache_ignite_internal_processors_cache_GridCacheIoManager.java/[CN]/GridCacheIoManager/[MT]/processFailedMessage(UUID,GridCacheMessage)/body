{
  GridCacheContext ctx=cctx.cacheContext(msg.cacheId());
switch (msg.directType()) {
case 38:
{
      GridDhtAtomicUpdateRequest req=(GridDhtAtomicUpdateRequest)msg;
      GridDhtAtomicUpdateResponse res=new GridDhtAtomicUpdateResponse(ctx.cacheId(),req.futureVersion());
      res.onError(req.classError());
      sendResponseOnFailedMessage(nodeId,res,ctx);
    }
  break;
case 40:
{
  GridNearAtomicUpdateRequest req=(GridNearAtomicUpdateRequest)msg;
  GridNearAtomicUpdateResponse res=new GridNearAtomicUpdateResponse(ctx.cacheId(),nodeId,req.futureVersion());
  res.onError(req.classError());
  sendResponseOnFailedMessage(nodeId,res,ctx);
}
break;
case 49:
{
GridNearGetRequest req=(GridNearGetRequest)msg;
GridNearGetResponse res=new GridNearGetResponse(ctx.cacheId(),req.futureId(),req.miniId(),req.version());
res.error(req.classError());
sendResponseOnFailedMessage(nodeId,res,ctx);
}
break;
}
}
