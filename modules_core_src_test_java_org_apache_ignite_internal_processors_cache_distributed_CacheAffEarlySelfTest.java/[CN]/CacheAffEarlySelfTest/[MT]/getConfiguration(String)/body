{
  IgniteConfiguration cfg=super.getConfiguration(gridName);
  TcpDiscoveryVmIpFinder finder=new TcpDiscoveryVmIpFinder(true);
  finder.setAddresses(Collections.singletonList("127.0.0.1:47500..47510"));
  TcpDiscoverySpi discoSpi=new TcpDiscoverySpi();
  discoSpi.setIpFinder(finder);
  cfg.setDiscoverySpi(discoSpi);
  OptimizedMarshaller marsh=new OptimizedMarshaller();
  marsh.setRequireSerializable(false);
  cfg.setMarshaller(marsh);
  return cfg;
}
