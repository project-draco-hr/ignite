{
  busyLock.block();
  boolean interrupted=Thread.interrupted();
  for (  IgfsFileWorker w : workerMap.values())   w.cancel();
  for (  IgfsFileWorker w : workerMap.values()) {
    try {
      w.join();
    }
 catch (    InterruptedException e) {
      U.error(log,e.getMessage(),e);
    }
  }
  workerMap.clear();
  if (secondaryFs instanceof AutoCloseable)   U.closeQuiet((AutoCloseable)secondaryFs);
  igfsCtx.kernalContext().io().removeMessageListener(topic,delMsgLsnr);
  igfsCtx.kernalContext().event().removeLocalEventListener(delDiscoLsnr);
  if (interrupted)   Thread.currentThread().interrupt();
}
