{
  IgniteConfiguration cfg=super.getConfiguration(gridName);
  cfg.setDiscoverySpi(discoverySpi());
  if (gridName.equals(getTestGridName(0)))   cfg.setCacheConfiguration(cacheConfiguration(null,CacheDistributionMode.PARTITIONED_ONLY));
 else   if (gridName.equals(getTestGridName(1)))   cfg.setCacheConfiguration(cacheConfiguration(CACHE_NAME,CacheDistributionMode.NEAR_ONLY));
 else   if (gridName.equals(getTestGridName(2)) || gridName.equals(getTestGridName(3)))   cfg.setCacheConfiguration(cacheConfiguration(null,CacheDistributionMode.CLIENT_ONLY),cacheConfiguration(CACHE_NAME,CacheDistributionMode.NEAR_PARTITIONED));
 else   cfg.setCacheConfiguration();
  return cfg;
}
