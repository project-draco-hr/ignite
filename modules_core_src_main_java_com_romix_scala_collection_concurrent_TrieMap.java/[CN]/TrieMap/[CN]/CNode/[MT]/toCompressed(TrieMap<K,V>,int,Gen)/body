{
  int bmp=bitmap;
  int i=0;
  BasicNode[] arr=array;
  BasicNode[] tmparray=new BasicNode[arr.length];
  while (i < arr.length) {
    BasicNode sub=arr[i];
    if (sub instanceof INode) {
      INode<K,V> in=(INode<K,V>)sub;
      MainNode<K,V> inodemain=in.gcasRead(ct);
      assert(inodemain != null);
      tmparray[i]=resurrect(in,inodemain);
    }
 else     if (sub instanceof SNode) {
      tmparray[i]=sub;
    }
    i+=1;
  }
  return new CNode<K,V>(bmp,tmparray,gen).toContracted(lev);
}
