{
  for (  GridCacheVersion ver : res.futureVersions()) {
    GridDhtAtomicUpdateFuture updateFut=(GridDhtAtomicUpdateFuture)ctx.mvcc().atomicFuture(ver);
    if (updateFut != null) {
      if (msgLog.isDebugEnabled()) {
        msgLog.debug("Received DHT atomic deferred update response [futId=" + ver + ", writeVer="+ res+ ", node="+ nodeId+ ']');
      }
      updateFut.onResult(nodeId);
    }
 else {
      U.warn(msgLog,"Failed to find DHT update future for deferred update response [futId=" + ver + ", nodeId="+ nodeId+ ", res="+ res+ ']');
    }
  }
}
