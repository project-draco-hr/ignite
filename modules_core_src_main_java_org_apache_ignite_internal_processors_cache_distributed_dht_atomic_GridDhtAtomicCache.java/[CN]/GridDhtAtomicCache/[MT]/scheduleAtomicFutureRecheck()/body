{
  final long timeout=ctx.kernalContext().config().getNetworkTimeout();
  ctx.time().addTimeoutObject(new GridTimeoutObjectAdapter(timeout * 2){
    @Override public void onTimeout(){
      boolean leave=false;
      try {
        ctx.gate().enter();
        leave=true;
        for (        GridCacheAtomicFuture fut : ctx.mvcc().atomicFutures())         fut.checkTimeout(timeout);
      }
 catch (      IllegalStateException ignored) {
        if (log.isDebugEnabled())         log.debug("Will not check pending atomic update futures for timeout (Grid is stopping).");
      }
 finally {
        if (leave)         ctx.gate().leave();
      }
    }
  }
);
}
