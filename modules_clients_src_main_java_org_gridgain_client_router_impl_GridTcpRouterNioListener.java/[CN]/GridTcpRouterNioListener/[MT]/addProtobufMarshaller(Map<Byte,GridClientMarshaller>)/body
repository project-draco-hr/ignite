{
  try {
    Class<?> cls=Class.forName(PROTOBUF_MARSH_CLS);
    Constructor<?> cons=cls.getConstructor();
    GridClientMarshaller marsh=(GridClientMarshaller)cons.newInstance();
    map.put(marsh.getProtocolId(),marsh);
  }
 catch (  ClassNotFoundException ignored) {
    U.quietAndWarn(log,"Failed to create Protobuf marshaller for router (C++ and .NET clients won't work). " + "Consider adding gridgain-protobuf module to classpath.");
  }
catch (  InvocationTargetException|NoSuchMethodException|InstantiationException|IllegalAccessException e) {
    U.error(log,"Failed to create Protobuf marshaller for router.",e);
  }
}
