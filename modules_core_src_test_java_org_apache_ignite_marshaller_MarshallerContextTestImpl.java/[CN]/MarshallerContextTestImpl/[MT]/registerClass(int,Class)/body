{
  Class old=map.putIfAbsent(id,cls);
  if (old != null && !cls.getName().equals(old.getName()))   throw new IllegalStateException("Collision [id=" + id + ", cls1="+ cls.getName()+ ", cls2="+ old.getName()+ ']');
}
