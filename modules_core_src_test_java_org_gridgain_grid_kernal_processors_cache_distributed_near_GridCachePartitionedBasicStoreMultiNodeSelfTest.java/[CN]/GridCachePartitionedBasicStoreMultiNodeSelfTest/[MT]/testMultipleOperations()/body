{
  GridCache<Integer,String> cache=cache(0);
  try (IgniteTx tx=cache.txStart(OPTIMISTIC,REPEATABLE_READ)){
    cache.put(1,"val");
    cache.put(2,"val");
    cache.put(3,"val");
    cache.get(4);
    cache.putAll(F.asMap(5,"val",6,"val"));
    tx.commit();
  }
   assertEquals(4,store.getLoadCount());
  assertEquals(0,store.getPutCount());
  assertEquals(1,store.getPutAllCount());
  Collection<IgniteTx> txs=store.transactions();
  assertEquals(1,txs.size());
}
