{
  VisorGgfsConfiguration cfg=new VisorGgfsConfiguration();
  cfg.name(ggfs.getName());
  cfg.metaCacheName(ggfs.getMetaCacheName());
  cfg.dataCacheName(ggfs.getDataCacheName());
  cfg.blockSize(ggfs.getBlockSize());
  cfg.prefetchBlocks(ggfs.getPrefetchBlocks());
  cfg.streamBufferSize(ggfs.getStreamBufferSize());
  cfg.perNodeBatchSize(ggfs.getPerNodeBatchSize());
  cfg.perNodeParallelBatchCount(ggfs.getPerNodeParallelBatchCount());
  Igfs secFs=ggfs.getSecondaryFileSystem();
  if (secFs != null) {
    Map<String,String> props=secFs.properties();
    cfg.secondaryHadoopFileSystemUri(props.get(SECONDARY_FS_URI));
    cfg.secondaryHadoopFileSystemConfigPath(props.get(SECONDARY_FS_CONFIG_PATH));
  }
  cfg.defaultMode(ggfs.getDefaultMode());
  cfg.pathModes(ggfs.getPathModes());
  cfg.dualModePutExecutorService(compactClass(ggfs.getDualModePutExecutorService()));
  cfg.dualModePutExecutorServiceShutdown(ggfs.getDualModePutExecutorServiceShutdown());
  cfg.dualModeMaxPendingPutsSize(ggfs.getDualModeMaxPendingPutsSize());
  cfg.maxTaskRangeLength(ggfs.getMaximumTaskRangeLength());
  cfg.fragmentizerConcurrentFiles(ggfs.getFragmentizerConcurrentFiles());
  cfg.fragmentizerLocalWritesRatio(ggfs.getFragmentizerLocalWritesRatio());
  cfg.fragmentizerEnabled(ggfs.isFragmentizerEnabled());
  cfg.fragmentizerThrottlingBlockLength(ggfs.getFragmentizerThrottlingBlockLength());
  cfg.fragmentizerThrottlingDelay(ggfs.getFragmentizerThrottlingDelay());
  Map<String,String> endpointCfg=ggfs.getIpcEndpointConfiguration();
  cfg.ipcEndpointConfiguration(endpointCfg != null ? endpointCfg.toString() : null);
  cfg.ipcEndpointEnabled(ggfs.isIpcEndpointEnabled());
  cfg.maxSpace(ggfs.getMaxSpaceSize());
  cfg.managementPort(ggfs.getManagementPort());
  cfg.sequenceReadsBeforePrefetch(ggfs.getSequentialReadsBeforePrefetch());
  cfg.trashPurgeTimeout(ggfs.getTrashPurgeTimeout());
  return cfg;
}
