{
  AffinityTopologyVersion topVer=cctx.mvcc().lastExplicitLockTopologyVersion(Thread.currentThread().getId());
  if (topVer != null && tx != null)   tx.topologyVersion(topVer);
  if (topVer == null && tx != null)   topVer=tx.topologyVersionSnapshot();
  if (topVer != null) {
    this.topVer.compareAndSet(null,topVer);
    map(keys);
    markInitialized();
    return;
  }
  mapOnTopology();
}
