{
  if (!isDone() && initialized() && !hasPending()) {
    for (int i=0; i < entries.size(); i++) {
      while (true) {
        GridCacheEntryEx<K,V> cached=entries.get(i);
        try {
          if (!locked(cached)) {
            if (log.isDebugEnabled())             log.debug("Lock is still not acquired for entry (will keep waiting) [entry=" + cached + ", fut="+ this+ ']');
            return false;
          }
          break;
        }
 catch (        GridCacheEntryRemovedException ignore) {
          if (log.isDebugEnabled())           log.debug("Got removed entry in onOwnerChanged method (will retry): " + cached);
          entries.set(i,(GridDistributedCacheEntry<K,V>)cctx.cache().entryEx(cached.key()));
        }
      }
    }
    if (log.isDebugEnabled())     log.debug("Local lock acquired for entries [fut=" + this + ", entries="+ entries+ "]");
    onComplete(true,true);
    return true;
  }
  return false;
}
