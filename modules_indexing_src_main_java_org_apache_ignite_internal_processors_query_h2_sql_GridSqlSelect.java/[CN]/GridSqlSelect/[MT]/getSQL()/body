{
  StatementBuilder buff=new StatementBuilder(explain() ? "EXPLAIN SELECT" : "SELECT");
  if (distinct)   buff.append(" DISTINCT");
  for (  GridSqlElement expression : select) {
    buff.appendExceptFirst(",");
    buff.append('\n');
    buff.append(StringUtils.indent(expression.getSQL(),4,false));
  }
  buff.append("\nFROM ").append(from.getSQL());
  if (where != null)   buff.append("\nWHERE ").append(StringUtils.unEnclose(where.getSQL()));
  if (!groups.isEmpty()) {
    buff.append("\nGROUP BY ");
    buff.resetCount();
    for (    GridSqlElement expression : groups) {
      buff.appendExceptFirst(", ");
      if (expression instanceof GridSqlAlias)       buff.append(StringUtils.unEnclose((expression.child().getSQL())));
 else       buff.append(StringUtils.unEnclose(expression.getSQL()));
    }
  }
  if (having != null)   buff.append("\nHAVING ").append(StringUtils.unEnclose(having.getSQL()));
  getSortLimitSQL(buff);
  return buff.toString();
}
