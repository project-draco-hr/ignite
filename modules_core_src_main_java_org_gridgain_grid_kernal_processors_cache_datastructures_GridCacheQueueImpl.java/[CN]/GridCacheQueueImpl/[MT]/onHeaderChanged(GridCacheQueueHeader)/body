{
synchronized (mux) {
    if (rmvd)     return;
    if (!globalHdr.empty()) {
      readSem.drainPermits();
      readSem.release(globalHdr.size());
    }
    if (bounded) {
      writeSem.drainPermits();
      if (!globalHdr.full())       writeSem.release(globalHdr.capacity() - globalHdr.size());
    }
  }
  if (log.isDebugEnabled())   log.debug("Queue header has changed [hdr=" + globalHdr + ", queue="+ this+ ']');
}
