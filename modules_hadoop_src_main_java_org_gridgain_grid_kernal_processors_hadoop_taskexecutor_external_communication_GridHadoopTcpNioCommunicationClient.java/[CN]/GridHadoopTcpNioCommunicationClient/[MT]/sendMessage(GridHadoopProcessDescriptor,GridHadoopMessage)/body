{
  if (closed())   throw new GridException("Client was closed: " + this);
  GridNioFuture<?> fut=ses.send(msg);
  if (fut.isDone()) {
    try {
      fut.get();
    }
 catch (    IOException e) {
      throw new GridException("Failed to send message [client=" + this + ']',e);
    }
  }
}
