{
  IgniteConfiguration c=super.getConfiguration(gridName);
  TcpDiscoverySpi disco=new TcpDiscoverySpi();
  disco.setIpFinder(ipFinder);
  c.setDiscoverySpi(disco);
  CacheConfiguration ccfg=new CacheConfiguration();
  ccfg.setName(CACHE_NAME);
  ccfg.setDefaultTimeToLive(120000);
  ccfg.setAtomicityMode(CacheAtomicityMode.TRANSACTIONAL);
  ccfg.setWriteSynchronizationMode(CacheWriteSynchronizationMode.PRIMARY_SYNC);
  ccfg.setBackups(2);
  ccfg.setCacheMode(CacheMode.PARTITIONED);
  ccfg.setStartSize(100000);
  ccfg.setEvictionPolicy(new LruEvictionPolicy(100000));
  ccfg.setEvictSynchronized(true);
  c.setCacheConfiguration(ccfg);
  return c;
}
