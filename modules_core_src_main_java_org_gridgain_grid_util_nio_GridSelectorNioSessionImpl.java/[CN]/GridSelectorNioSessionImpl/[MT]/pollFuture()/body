{
  GridNioFuture<?> last=queue.poll();
  if (last != null) {
    queueSize.decrementAndGet();
    if (sem != null && !last.messageThread())     sem.release();
  }
  return last;
}
