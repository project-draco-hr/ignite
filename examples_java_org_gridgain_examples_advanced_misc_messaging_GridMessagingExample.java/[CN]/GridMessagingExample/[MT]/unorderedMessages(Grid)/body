{
  System.out.println(">>> Starting Unordered Messages Example.");
  grid.message().remoteListen(null,new GridBiPredicate<UUID,Object>(){
    @Override public boolean apply(    UUID nodeId,    Object msg){
      System.out.println(">>> Received message [msg=" + msg + ", originatingNodeId="+ nodeId+ ']');
      return !"stop".equals(msg);
    }
  }
).get();
  grid.message().remoteListen(CustomTopic.INFO,new GridBiPredicate<UUID,Object>(){
    @Override public boolean apply(    UUID nodeId,    Object msg){
      System.out.println(">>> Received INFO message [msg=" + msg + ", originatingNodeId="+ nodeId+ ']');
      return false;
    }
  }
).get();
  grid.message().remoteListen(CustomTopic.ALARM,new GridBiPredicate<UUID,Object>(){
    @Override public boolean apply(    UUID nodeId,    Object msg){
      System.out.println(">>> Received ALARM message [msg=" + msg + ", originatingNodeId="+ nodeId+ ']');
      return false;
    }
  }
).get();
  grid.message().localListen(CustomTopic.LOCAL_ONLY,new GridBiPredicate<UUID,Object>(){
    @Override public boolean apply(    UUID nodeId,    Object msg){
      System.out.println(">>> Received LOCAL_ONLY message [msg=" + msg + ", originatingNodeId="+ nodeId+ "]. This message should be seen only on node, started within example.");
      return false;
    }
  }
);
  grid.message().send(null,"MSG-1");
  grid.message().send(null,"MSG-2");
  grid.message().send(null,"MSG-3");
  grid.message().send(CustomTopic.INFO,"This is an info message.");
  grid.message().send(CustomTopic.ALARM,"Something nasty happened!");
  grid.message().send(CustomTopic.LOCAL_ONLY,"Local message.");
  Thread.sleep(1000);
  grid.message().send(null,"stop");
  Thread.sleep(1000);
  grid.message().send(null,"This message won't be received, because listener is already unregistered.");
  System.out.println(">>>");
  System.out.println(">>> Finished executing Grid Messaging Example.");
  System.out.println(">>> Check local node output.");
  System.out.println(">>>");
}
