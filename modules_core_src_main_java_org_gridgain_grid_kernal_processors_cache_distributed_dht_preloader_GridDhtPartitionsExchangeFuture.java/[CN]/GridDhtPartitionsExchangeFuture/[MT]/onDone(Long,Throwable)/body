{
  if (err == null)   cctx.affinity().cleanUpCache(res - 10);
  if (super.onDone(res,err) && !dummy && !forcePreload) {
    if (exchId.event() == GridEventType.EVT_NODE_FAILED || exchId.event() == GridEventType.EVT_NODE_LEFT)     cctx.config().getAffinity().removeNode(exchId.nodeId());
    if (log.isDebugEnabled())     log.debug("Completed partition exchange [localNode=" + cctx.nodeId() + ", exchange= "+ this+ ']');
    initFut.onDone(err == null);
    GridTimeoutObject timeoutObj=this.timeoutObj;
    if (timeoutObj != null)     cctx.time().removeTimeoutObject(timeoutObj);
    ((GridDhtPreloader<K,V>)cctx.preloader()).onExchangeDone(this);
    return true;
  }
  return dummy;
}
