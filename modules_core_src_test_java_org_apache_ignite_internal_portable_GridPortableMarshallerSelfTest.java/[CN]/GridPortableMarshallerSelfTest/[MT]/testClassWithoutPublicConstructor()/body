{
  PortableMarshaller marsh=new PortableMarshaller();
  marsh.setTypeConfigurations(Arrays.asList(new PortableTypeConfiguration(NoPublicConstructor.class.getName()),new PortableTypeConfiguration(NoPublicDefaultConstructor.class.getName()),new PortableTypeConfiguration(ProtectedConstructor.class.getName())));
  initPortableContext(marsh);
  NoPublicConstructor npc=new NoPublicConstructor();
  PortableObject npc2=marshal(npc,marsh);
  assertEquals("test",npc2.<NoPublicConstructor>deserialize().val);
  NoPublicDefaultConstructor npdc=new NoPublicDefaultConstructor(239);
  PortableObject npdc2=marshal(npdc,marsh);
  assertEquals(239,npdc2.<NoPublicDefaultConstructor>deserialize().val);
  ProtectedConstructor pc=new ProtectedConstructor();
  PortableObject pc2=marshal(pc,marsh);
  assertEquals(ProtectedConstructor.class,pc2.<ProtectedConstructor>deserialize().getClass());
}
