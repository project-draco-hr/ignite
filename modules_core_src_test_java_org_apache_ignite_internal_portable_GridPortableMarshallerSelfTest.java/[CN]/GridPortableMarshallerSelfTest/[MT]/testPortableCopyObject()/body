{
  PortableMarshaller marsh=new PortableMarshaller();
  marsh.setTypeConfigurations(Arrays.asList(new PortableTypeConfiguration(SimpleObject.class.getName())));
  SimpleObject obj=simpleObject();
  PortableObject po=marshal(obj,marsh);
  SimpleObject newObj=new SimpleObject();
  newObj.i=12345;
  newObj.fArr=new float[]{5,8,0};
  newObj.str="newStr";
  PortableObject copy=copy(po,F.<String,Object>asMap("inner",newObj));
  assertEquals(newObj,copy.<PortableObject>field("inner").deserialize());
  SimpleObject obj0=copy.deserialize();
  assertEquals(newObj,obj0.inner);
}
