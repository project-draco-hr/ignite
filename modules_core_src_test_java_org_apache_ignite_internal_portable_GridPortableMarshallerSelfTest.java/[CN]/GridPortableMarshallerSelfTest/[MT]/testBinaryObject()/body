{
  PortableMarshaller marsh=new PortableMarshaller();
  marsh.setTypeConfigurations(Arrays.asList(new BinaryTypeConfiguration(SimpleObject.class.getName())));
  SimpleObject obj=simpleObject();
  BinaryObject po=marshal(obj,marsh);
  BinaryObject po0=marshalUnmarshal(po,marsh);
  assertTrue(po.hasField("b"));
  assertTrue(po.hasField("s"));
  assertTrue(po.hasField("i"));
  assertTrue(po.hasField("l"));
  assertTrue(po.hasField("f"));
  assertTrue(po.hasField("d"));
  assertTrue(po.hasField("c"));
  assertTrue(po.hasField("bool"));
  assertFalse(po.hasField("no_such_field"));
  assertEquals(obj,po.deserialize());
  assertEquals(obj,po0.deserialize());
}
