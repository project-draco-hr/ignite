{
  PortableContext ctx=portableContext();
  PortableMarshaller marsh=portableMarshaller();
  marsh.setClassNames(Arrays.asList("org.apache.ignite.internal.portable.test.*","unknown.*"));
  ctx.configure(marsh);
  Map<Integer,Class> typeIds=U.field(ctx,"userTypes");
  assertEquals(3,typeIds.size());
  assertTrue(typeIds.containsKey("gridportabletestclass1".hashCode()));
  assertTrue(typeIds.containsKey("gridportabletestclass2".hashCode()));
  assertTrue(typeIds.containsKey("innerclass".hashCode()));
}
