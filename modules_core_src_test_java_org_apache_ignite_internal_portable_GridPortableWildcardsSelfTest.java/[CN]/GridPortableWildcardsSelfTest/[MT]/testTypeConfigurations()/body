{
  BinaryMarshaller marsh=portableMarshaller(Arrays.asList(new BinaryTypeConfiguration("org.apache.ignite.internal.portable.test.*"),new BinaryTypeConfiguration("unknown.*")));
  PortableContext ctx=portableContext(marsh);
  Map<Integer,Class> typeIds=U.field(ctx,"userTypes");
  assertEquals(3,typeIds.size());
  assertTrue(typeIds.containsKey("gridportabletestclass1".hashCode()));
  assertTrue(typeIds.containsKey("gridportabletestclass2".hashCode()));
  assertTrue(typeIds.containsKey("innerclass".hashCode()));
}
