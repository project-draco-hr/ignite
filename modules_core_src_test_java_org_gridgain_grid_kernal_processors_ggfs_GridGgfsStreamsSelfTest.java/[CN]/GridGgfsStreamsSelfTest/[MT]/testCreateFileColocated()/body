{
  IgniteFsPath path=new IgniteFsPath("/colocated");
  UUID uuid=UUID.randomUUID();
  IgniteUuid affKey;
  long idx=0;
  while (true) {
    affKey=new IgniteUuid(uuid,idx);
    if (grid(0).mapKeyToNode(DATA_CACHE_NAME,affKey).id().equals(grid(0).localNode().id()))     break;
    idx++;
  }
  try (IgniteFsOutputStream out=fs.create(path,1024,true,affKey,0,1024,null)){
    for (int i=0; i < 15; i++)     out.write(new byte[1024 * 1024]);
  }
   IgniteFsFile info=fs.info(path);
  Collection<IgniteFsBlockLocation> affNodes=fs.affinity(path,0,info.length());
  assertEquals(1,affNodes.size());
  Collection<UUID> nodeIds=F.first(affNodes).nodeIds();
  assertEquals(1,nodeIds.size());
  assertEquals(grid(0).localNode().id(),F.first(nodeIds));
}
