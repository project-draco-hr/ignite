{
  GridArgumentCheck.notNull(val,name);
  if (assignedVals == null)   assignedVals=new LinkedHashMap<>();
  Object oldVal=assignedVals.put(name,val);
  if (oldVal instanceof PortableValueWithType) {
    ((PortableValueWithType)oldVal).value(val);
    assignedVals.put(name,oldVal);
  }
  return this;
}
