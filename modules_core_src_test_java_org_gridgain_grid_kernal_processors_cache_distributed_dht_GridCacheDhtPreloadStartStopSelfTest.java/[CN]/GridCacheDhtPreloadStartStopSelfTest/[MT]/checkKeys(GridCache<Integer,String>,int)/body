{
  GridCacheAffinity<Integer> aff=affinity(c);
  boolean sync=isSync(c);
  Grid grid=c.gridProjection().grid();
  for (int i=0; i < cnt; i++) {
    if (aff.mapPartitionToPrimaryAndBackups(aff.partition(i)).contains(grid.localNode())) {
      String val=sync ? c.peek(i) : c.get(i);
      assertEquals("Key check failed [grid=" + grid.name() + ", cache="+ c.name()+ ", key="+ i+ ']',Integer.toString(i),val);
    }
  }
}
