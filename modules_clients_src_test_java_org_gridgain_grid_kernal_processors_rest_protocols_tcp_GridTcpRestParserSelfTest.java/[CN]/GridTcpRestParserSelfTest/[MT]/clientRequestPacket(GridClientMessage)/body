{
  byte[] data=marshaller.marshal(msg);
  ByteBuffer res=ByteBuffer.allocate(data.length + 45);
  res.put(GRIDGAIN_REQ_FLAG);
  res.put(U.intToBytes(data.length + 40));
  res.put(U.longToBytes(msg.requestId()));
  res.put(U.uuidToBytes(msg.clientId()));
  res.put(U.uuidToBytes(msg.destinationId()));
  res.put(data);
  res.flip();
  return res;
}
