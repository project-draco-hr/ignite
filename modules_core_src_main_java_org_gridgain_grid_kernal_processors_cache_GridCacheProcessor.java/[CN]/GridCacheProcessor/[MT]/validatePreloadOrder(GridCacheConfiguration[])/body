{
  int maxOrder=0;
  for (  GridCacheConfiguration cfg : cfgs) {
    int preloadOrder=cfg.getPreloadOrder();
    if (preloadOrder > 0) {
      if (cfg.getCacheMode() == LOCAL)       throw new GridException("Preload order set for local cache (fix configuration and restart the " + "node): " + cfg.getName());
      if (cfg.getPreloadMode() == GridCachePreloadMode.NONE)       throw new GridException("Only caches with SYNC or ASYNC preload mode can be set as preload " + "dependency for other caches [cacheName=" + cfg.getName() + ", preloadMode="+ cfg.getPreloadMode()+ ", preloadOrder="+ cfg.getPreloadOrder()+ ']');
      maxOrder=Math.max(maxOrder,preloadOrder);
    }
 else     if (preloadOrder < 0)     throw new GridException("Preload order cannot be negative for cache (fix configuration and restart " + "the node) [cacheName=" + cfg.getName() + ", preloadOrder="+ preloadOrder+ ']');
  }
  return maxOrder;
}
