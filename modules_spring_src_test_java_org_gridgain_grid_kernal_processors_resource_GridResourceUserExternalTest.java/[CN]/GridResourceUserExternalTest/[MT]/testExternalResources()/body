{
  Ignite ignite1=null;
  Ignite ignite2=null;
  try {
    ignite1=startGrid(1,new GridSpringResourceContextImpl(new GenericApplicationContext()));
    ignite2=startGrid(2,new GridSpringResourceContextImpl(new GenericApplicationContext()));
    GridTestClassLoader tstClsLdr=new GridTestClassLoader(null,getClass().getClassLoader(),GridUserExternalResourceTask1.class.getName(),GridUserExternalResourceTask2.class.getName(),GridUserExternalResourceTask1.GridUserExternalResourceJob1.class.getName(),GridUserExternalResourceTask2.GridUserExternalResourceJob2.class.getName(),GridAbstractUserExternalResource.class.getName(),GridUserExternalResource1.class.getName(),GridUserExternalResource2.class.getName());
    Class<? extends ComputeTask<Object,Object>> taskCls1=(Class<? extends ComputeTask<Object,Object>>)tstClsLdr.loadClass(GridUserExternalResourceTask1.class.getName());
    Class<? extends ComputeTask<Object,Object>> taskCls2=(Class<? extends ComputeTask<Object,Object>>)tstClsLdr.loadClass(GridUserExternalResourceTask2.class.getName());
    ignite1.compute().execute(taskCls1,null);
    ignite1.compute().execute(taskCls2,null);
  }
  finally {
    GridTestUtils.close(ignite1,log());
    GridTestUtils.close(ignite2,log());
  }
}
