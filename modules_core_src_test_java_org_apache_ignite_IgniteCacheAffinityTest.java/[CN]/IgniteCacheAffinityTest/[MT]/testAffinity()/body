{
  GridCache<String,Integer> cache0=grid(0).cache(null);
  GridCache<String,Integer> cache1=grid(1).cache(CACHE1);
  GridCache<String,Integer> cache2=grid(3).cache(CACHE2);
  cache0.affinity();
  for (int i=0; i < 10; ++i)   cache0.put(Integer.toString(i),i);
  for (int i=10; i < 20; ++i)   cache1.put(Integer.toString(i),i);
  for (int i=20; i < 30; ++i)   cache2.put(Integer.toString(i),i);
  checkAffinity(gridCount());
  startGrid(4);
  startGrid(5);
  checkAffinity(6);
}
