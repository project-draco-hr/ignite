{
  IgniteConfiguration cfg=super.getConfiguration(gridName);
  CacheConfiguration cache0=cacheConfiguration(null);
  CacheConfiguration cache1=cacheConfiguration(null);
  cache1.setName(CACHE1);
  cache1.setAffinity(new CacheConsistentHashAffinityFunction());
  CacheConfiguration cache2=cacheConfiguration(null);
  cache2.setName(CACHE2);
  cache2.setAffinity(new CachePartitionFairAffinity());
  CacheConfiguration cache3=cacheConfiguration(null);
  cache3.setName(CACHE3);
  cache3.setAffinity(new CacheRendezvousAffinityFunction());
  if (gridName.contains("0"))   cfg.setCacheConfiguration(cache0);
 else   cfg.setCacheConfiguration(cache0,cache1,cache2,cache3);
  return cfg;
}
