{
  StringBuilder data=new StringBuilder();
  for (  Map.Entry<String,Object> e : params.entrySet()) {
    if (!(e.getValue() instanceof String))     throw new IllegalArgumentException("Http connection supports only string arguments in requests" + ", while received [key=" + e.getKey() + ", value="+ e.getValue()+ "]");
    if (data.length() > 0)     data.append('&');
    data.append(URLEncoder.encode(e.getKey(),"UTF-8")).append('=').append(URLEncoder.encode((String)e.getValue(),"UTF-8"));
  }
  return data;
}
