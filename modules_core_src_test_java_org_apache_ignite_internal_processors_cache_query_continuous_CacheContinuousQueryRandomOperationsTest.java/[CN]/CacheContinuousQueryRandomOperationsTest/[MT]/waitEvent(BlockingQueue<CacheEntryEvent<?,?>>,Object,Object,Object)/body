{
  if (val == null && oldVal == null) {
    checkNoEvent(evtsQueue);
    return;
  }
  CacheEntryEvent<?,?> evt=evtsQueue.poll(5,SECONDS);
  assertNotNull("Failed to wait for event [key=" + key + ", val="+ val+ ", oldVal="+ oldVal+ ']',evt);
  assertEquals(key,evt.getKey());
  assertEquals(val,evt.getValue());
  assertEquals(oldVal,evt.getOldValue());
}
