{
  createCache(CacheMemoryMode.OFFHEAP_TIERED,0,false);
  for (int i=0; i < KEYS_CNT; i++)   cache.put(i,i);
  printStat();
  assertEquals(cache.metrics().getCacheEvictions(),cache.metrics().getOffHeapPuts());
  assertEquals(KEYS_CNT,cache.metrics().getOffHeapGets());
  assertEquals(0,cache.metrics().getOffHeapHits());
  assertEquals(0f,cache.metrics().getOffHeapHitPercentage());
  assertEquals(KEYS_CNT,cache.metrics().getOffHeapMisses());
  assertEquals(100f,cache.metrics().getOffHeapMissPercentage());
  assertEquals(0,cache.metrics().getOffHeapRemovals());
  assertEquals(0,cache.metrics().getOffHeapEvictions());
  assertEquals(cache.metrics().getCacheEvictions(),cache.metrics().getOffHeapEntriesCount());
  assertEquals(cache.metrics().getCacheEvictions(),cache.metrics().getOffHeapPrimaryEntriesCount());
  assertEquals(0,cache.metrics().getOffHeapBackupEntriesCount());
  for (int i=0; i < KEYS_CNT; i++)   cache.get(i);
  printStat();
  assertEquals(cache.metrics().getCacheEvictions(),cache.metrics().getOffHeapGets());
  assertEquals(KEYS_CNT * 2,cache.metrics().getOffHeapGets());
  assertEquals(KEYS_CNT,cache.metrics().getOffHeapHits());
  assertEquals(100 * KEYS_CNT / (KEYS_CNT * 2.0),cache.metrics().getOffHeapHitPercentage(),0.1);
  assertEquals(KEYS_CNT,cache.metrics().getOffHeapMisses());
  assertEquals(100 * KEYS_CNT / (KEYS_CNT * 2.0),cache.metrics().getOffHeapMissPercentage(),0.1);
  assertEquals(0,cache.metrics().getOffHeapRemovals());
  assertEquals(0,cache.metrics().getOffHeapEvictions());
  assertEquals(KEYS_CNT,cache.metrics().getOffHeapEntriesCount());
  assertEquals(KEYS_CNT,cache.metrics().getOffHeapPrimaryEntriesCount());
  assertEquals(0,cache.metrics().getOffHeapBackupEntriesCount());
  for (int i=KEYS_CNT; i < KEYS_CNT * 2; i++)   cache.get(i);
  printStat();
  assertEquals(cache.metrics().getCacheEvictions(),cache.metrics().getOffHeapGets());
  assertEquals(KEYS_CNT * 3,cache.metrics().getOffHeapGets());
  assertEquals(KEYS_CNT,cache.metrics().getOffHeapHits());
  assertEquals(100 / 3.0,cache.metrics().getOffHeapHitPercentage(),0.1);
  assertEquals(KEYS_CNT * 2,cache.metrics().getOffHeapMisses());
  assertEquals(100 - (100 / 3.0),cache.metrics().getOffHeapMissPercentage(),0.1);
  assertEquals(0,cache.metrics().getOffHeapRemovals());
  assertEquals(0,cache.metrics().getOffHeapEvictions());
  assertEquals(KEYS_CNT,cache.metrics().getOffHeapEntriesCount());
  assertEquals(KEYS_CNT,cache.metrics().getOffHeapPrimaryEntriesCount());
  assertEquals(0,cache.metrics().getOffHeapBackupEntriesCount());
  for (int i=0; i < KEYS_CNT; i++)   cache.remove(i);
  printStat();
  assertEquals(cache.metrics().getCacheEvictions(),cache.metrics().getOffHeapGets());
  assertEquals(KEYS_CNT * 4,cache.metrics().getOffHeapGets());
  assertEquals(KEYS_CNT * 2,cache.metrics().getOffHeapHits());
  assertEquals(100 * (KEYS_CNT * 2.0) / (KEYS_CNT * 4.0),cache.metrics().getOffHeapHitPercentage(),0.1);
  assertEquals(KEYS_CNT * 2,cache.metrics().getOffHeapMisses());
  assertEquals(100 * KEYS_CNT * 2.0 / (KEYS_CNT * 4.0),cache.metrics().getOffHeapMissPercentage(),0.1);
  assertEquals(KEYS_CNT,cache.metrics().getOffHeapRemovals());
  assertEquals(0,cache.metrics().getOffHeapEvictions());
  assertEquals(0,cache.metrics().getOffHeapEntriesCount());
  assertEquals(0,cache.metrics().getOffHeapPrimaryEntriesCount());
  assertEquals(0,cache.metrics().getOffHeapBackupEntriesCount());
}
