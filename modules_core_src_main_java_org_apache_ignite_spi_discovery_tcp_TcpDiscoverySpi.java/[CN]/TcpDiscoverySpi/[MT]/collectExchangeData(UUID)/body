{
  Map<Integer,Serializable> data=exchange.collect(nodeId);
  if (data == null)   return null;
  Map<Integer,byte[]> data0=U.newHashMap(data.size());
  for (  Map.Entry<Integer,Serializable> entry : data.entrySet()) {
    try {
      byte[] bytes=marsh.marshal(entry.getValue());
      data0.put(entry.getKey(),bytes);
    }
 catch (    IgniteCheckedException e) {
      U.error(log,"Failed to marshal discovery data " + "[comp=" + entry.getKey() + ", data="+ entry.getValue()+ ']',e);
    }
  }
  return data0;
}
