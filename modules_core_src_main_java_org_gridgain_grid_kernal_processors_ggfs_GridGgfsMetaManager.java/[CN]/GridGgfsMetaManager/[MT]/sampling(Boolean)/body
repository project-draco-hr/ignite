{
  validTxState(false);
  GridCacheTx tx=metaCache.txStart(PESSIMISTIC,REPEATABLE_READ);
  try {
    Object prev=val != null ? metaCache.put(sampling,val) : metaCache.remove(sampling);
    tx.commit();
    return !F.eq(prev,val);
  }
  finally {
    tx.close();
  }
}
