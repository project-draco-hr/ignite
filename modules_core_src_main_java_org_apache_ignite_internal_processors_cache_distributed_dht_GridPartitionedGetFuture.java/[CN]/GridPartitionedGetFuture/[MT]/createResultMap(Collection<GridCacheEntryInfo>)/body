{
  int keysSize=infos.size();
  try {
    if (keysSize != 0) {
      Map<K,V> map=new GridLeanMap<>(keysSize);
      for (      GridCacheEntryInfo info : infos) {
        info.unmarshalValue(cctx,cctx.deploy().globalLoader());
        K key=info.key().value(cctx);
        V val=info.value().value(cctx);
        if (cctx.portableEnabled()) {
          key=(K)cctx.unwrapPortableIfNeeded(key,!deserializePortable);
          val=(V)cctx.unwrapPortableIfNeeded(val,!deserializePortable);
        }
        map.put(key,val);
      }
      return map;
    }
  }
 catch (  IgniteCheckedException e) {
    onDone(e);
  }
  return Collections.emptyMap();
}
