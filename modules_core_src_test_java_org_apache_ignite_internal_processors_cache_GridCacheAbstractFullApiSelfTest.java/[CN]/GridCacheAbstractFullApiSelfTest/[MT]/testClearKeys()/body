{
  GridCache<String,Integer> cache=cache();
  Collection<String> keys=primaryKeysForCache(cache,3);
  for (  String key : keys)   assertNull(cache.get(key));
  String lastKey=F.last(keys);
  Collection<String> subKeys=new ArrayList<>(keys);
  subKeys.remove(lastKey);
  Map<String,Integer> vals=new HashMap<>();
  int i=0;
  for (  String key : keys)   vals.put(key,i++);
  cache.putAll(vals);
  for (  String subKey : subKeys)   cache.clearLocally(subKey);
  for (  String key : subKeys)   assertNull(cache.peek(key));
  assertEquals(vals.get(lastKey),cache.peek(lastKey));
  cache.clear();
  vals.put(lastKey,102);
  cache.putAll(vals);
  for (  String key : keys)   cache.projection(gte100).clearLocally(key);
  assertNull(cache.peek(lastKey));
  for (  String key : subKeys)   assertEquals(vals.get(key),cache.peek(key));
}
