{
  GridClientData partitioned=client.data(PARTITIONED_CACHE_NAME);
  Collection<Object> keys=new ArrayList<>();
  keys.addAll(Arrays.asList(Boolean.TRUE,Boolean.FALSE,1,Integer.MAX_VALUE));
  Random rnd=new Random();
  StringBuilder sb=new StringBuilder();
  for (int i=0; i < 100; i++) {
    sb.setLength(0);
    for (int j=0; j < 255; j++)     sb.append((char)(rnd.nextInt(0x7f - 0x20) + 0x20));
    keys.add(sb.toString());
  }
  for (int i=0; i < 100; i++)   keys.add(UUID.randomUUID());
  for (  Object key : keys) {
    UUID nodeId=grid(0).mapKeyToNode(PARTITIONED_CACHE_NAME,key).id();
    UUID clientNodeId=partitioned.affinity(key);
    assertEquals("Invalid affinity mapping for REST response for key: " + key,nodeId,clientNodeId);
  }
}
