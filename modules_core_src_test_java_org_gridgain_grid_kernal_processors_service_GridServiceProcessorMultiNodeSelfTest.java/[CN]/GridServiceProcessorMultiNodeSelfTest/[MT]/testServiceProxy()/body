{
  Grid g=randomGrid();
  GridServices services=grid().forNode(g.localNode()).services();
  services.deployNodeSingleton("test",new DummyService()).get();
  services.deployNodeSingleton("test2",new DummyService()).get();
  assertEquals(2,grid().services().deployedServices().size());
  GridService dummySrvc=grid().services().service("test");
  DummyService dummySrvcProxy=grid().services().serviceProxy("test",DummyService.class,false);
  assertEquals(dummySrvc.getClass(),dummySrvcProxy.getClass());
}
