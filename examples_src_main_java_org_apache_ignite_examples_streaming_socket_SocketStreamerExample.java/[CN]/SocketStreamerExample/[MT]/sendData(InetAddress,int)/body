{
  try (Socket sock=new Socket(addr,port);OutputStream oos=new BufferedOutputStream(sock.getOutputStream())){
    while (true) {
      try (InputStream in=StreamWords.class.getResourceAsStream("../wordcount/alice-in-wonderland.txt");LineNumberReader rdr=new LineNumberReader(new InputStreamReader(in))){
        for (String line=rdr.readLine(); line != null; line=rdr.readLine()) {
          for (          String word : line.split(" ")) {
            if (!word.isEmpty()) {
              try (ByteArrayOutputStream bos=new ByteArrayOutputStream();ObjectOutputStream out=new ObjectOutputStream(bos)){
                out.writeObject(word);
                byte[] arr=bos.toByteArray();
                oos.write(arr.length >>> 24);
                oos.write(arr.length >>> 16);
                oos.write(arr.length >>> 8);
                oos.write(arr.length);
                oos.write(arr);
              }
             }
          }
        }
      }
     }
  }
 }
