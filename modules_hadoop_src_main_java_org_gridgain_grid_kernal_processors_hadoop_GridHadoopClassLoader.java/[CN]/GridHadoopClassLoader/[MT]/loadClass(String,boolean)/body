{
  if (isHadoop(name)) {
    if (name.endsWith(".util.ShutdownHookManager"))     name=ShutdownHookManager.class.getName();
    return loadClassExplicitly(name,resolve);
  }
  if (isGgfsOrGgHadoop(name)) {
    Boolean hasDeps=cache.get(name);
    if (hasDeps == null) {
      hasDeps=hasExternalDependencies(name,new HashSet<String>());
      cache.put(name,hasDeps);
    }
    if (hasDeps)     return loadClassExplicitly(name,resolve);
  }
  return super.loadClass(name,resolve);
}
