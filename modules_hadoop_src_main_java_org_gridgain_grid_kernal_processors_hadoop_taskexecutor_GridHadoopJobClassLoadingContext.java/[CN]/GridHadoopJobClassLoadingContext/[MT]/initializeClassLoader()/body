{
  try {
    outBase=U.resolveWorkDirectory("hadoop",false);
    long start=System.currentTimeMillis();
    final Collection<URL> jars=new ArrayList<>();
    File dir=jobJarsFolder(job.id(),locNodeId);
    if (!dir.exists())     return;
    Files.walkFileTree(dir.toPath(),new SimpleFileVisitor<java.nio.file.Path>(){
      @Override public FileVisitResult visitFile(      java.nio.file.Path file,      BasicFileAttributes attrs) throws IOException {
        if (file.getFileName().toString().endsWith(".jar")) {
          String jar=file.normalize().toAbsolutePath().toString();
          if (log.isDebugEnabled())           log.debug("Adding to job context classpath [jobId=" + job.id() + ", jar="+ jar+ ']');
          jars.add(file.toUri().toURL());
        }
        return super.visitFile(file,attrs);
      }
    }
);
    URL[] urls=new URL[jars.size()];
    jars.toArray(urls);
    final URLClassLoader urlLdr=new URLClassLoader(urls);
    jobLdr=new ClassLoaderWrapper(urlLdr,getClass().getClassLoader());
    long end=System.currentTimeMillis();
    if (log.isDebugEnabled())     log.debug("Task shared context class loader initialized in: " + (end - start));
  }
 catch (  IOException e) {
    throw new GridException(e);
  }
}
