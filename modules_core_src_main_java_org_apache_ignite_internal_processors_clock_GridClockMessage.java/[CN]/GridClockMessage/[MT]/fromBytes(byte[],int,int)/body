{
  if (len < PACKET_SIZE)   throw new IgniteCheckedException("Failed to assemble time server packet (message is too short).");
  long lsb=IgniteByteUtils.bytesToLong(buf,off);
  long msb=IgniteByteUtils.bytesToLong(buf,off + 8);
  UUID origNodeId=new UUID(msb,lsb);
  lsb=IgniteByteUtils.bytesToLong(buf,off + 16);
  msb=IgniteByteUtils.bytesToLong(buf,off + 24);
  UUID targetNodeId=new UUID(msb,lsb);
  long origTs=IgniteByteUtils.bytesToLong(buf,off + 32);
  long replyTs=IgniteByteUtils.bytesToLong(buf,off + 40);
  return new GridClockMessage(origNodeId,targetNodeId,origTs,replyTs);
}
