{
  A.notNull(keys,"keys");
  final Collection<? extends K> keys0;
  if (ctx.portableEnabled() && !F.isEmpty(keys)) {
    keys0=F.viewReadOnly(keys,new C1<K,K>(){
      @Override public K apply(      K k){
        return (K)ctx.marshalToPortable(k);
      }
    }
);
  }
 else   keys0=keys;
  return getAllAsync(keys0,false,false,null,null,null,false,true).chain(new CX1<IgniteInternalFuture<Map<K,V>>,Boolean>(){
    @Override public Boolean applyx(    IgniteInternalFuture<Map<K,V>> fut) throws IgniteCheckedException {
      Map<K,V> kvMap=fut.get();
      if (keys0.size() != kvMap.size())       return false;
      for (      Map.Entry<K,V> entry : kvMap.entrySet()) {
        if (entry.getValue() == null)         return false;
      }
      return true;
    }
  }
);
}
