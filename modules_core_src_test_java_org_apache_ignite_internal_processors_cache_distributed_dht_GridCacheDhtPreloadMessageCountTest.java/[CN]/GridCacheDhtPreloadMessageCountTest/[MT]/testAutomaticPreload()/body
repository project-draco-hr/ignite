{
  Ignite g0=startGrid(0);
  int cnt=KEY_CNT;
  IgniteCache<String,Integer> c0=g0.cache(null);
  for (int i=0; i < cnt; i++)   c0.put(Integer.toString(i),i);
  Ignite g1=startGrid(1);
  Ignite g2=startGrid(2);
  U.sleep(1000);
  IgniteCache<String,Integer> c1=g1.cache(null);
  IgniteCache<String,Integer> c2=g2.cache(null);
  TestRecordingCommunicationSpi spi0=(TestRecordingCommunicationSpi)g0.configuration().getCommunicationSpi();
  TestRecordingCommunicationSpi spi1=(TestRecordingCommunicationSpi)g1.configuration().getCommunicationSpi();
  TestRecordingCommunicationSpi spi2=(TestRecordingCommunicationSpi)g2.configuration().getCommunicationSpi();
  info(spi0.recordedMessages().size() + " " + spi1.recordedMessages().size()+ " "+ spi2.recordedMessages().size());
  checkCache(c0,cnt);
  checkCache(c1,cnt);
  checkCache(c2,cnt);
}
