{
  Ignite g0=startGrid(0);
  int cnt=KEY_CNT;
  IgniteCache<String,Integer> c0=g0.cache(null);
  for (int i=0; i < cnt; i++)   c0.put(Integer.toString(i),i);
  Ignite g1=startGrid(1);
  Ignite g2=startGrid(2);
  U.sleep(1000);
  IgniteCache<String,Integer> c1=g1.cache(null);
  IgniteCache<String,Integer> c2=g2.cache(null);
  TestCommunicationSpi spi0=(TestCommunicationSpi)g0.configuration().getCommunicationSpi();
  TestCommunicationSpi spi1=(TestCommunicationSpi)g1.configuration().getCommunicationSpi();
  TestCommunicationSpi spi2=(TestCommunicationSpi)g2.configuration().getCommunicationSpi();
  info(spi0.sentMessages().size() + " " + spi1.sentMessages().size()+ " "+ spi2.sentMessages().size());
  checkCache(c0,cnt);
  checkCache(c1,cnt);
  checkCache(c2,cnt);
}
