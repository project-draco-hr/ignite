{
  DiscoverySpi spi=ignite.configuration().getDiscoverySpi();
  assertSame(TcpDiscoverySpi.class,spi.getClass());
  TcpDiscoverySpi spi0=(TcpDiscoverySpi)spi;
  assertSame(TcpDiscoveryMulticastIpFinder.class,spi0.getIpFinder().getClass());
  assertEquals(client,spi0.isClientMode());
  Collection<Object> addrSnds=GridTestUtils.getFieldValue(spi0.getIpFinder(),"addrSnds");
  assertNotNull(addrSnds);
  if (client)   assertTrue(addrSnds.isEmpty());
 else   assertFalse(addrSnds.isEmpty());
}
