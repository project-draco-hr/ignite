{
  IgniteTx tx=ses != null ? ses.transaction() : null;
  if (tx == null)   return;
  txs.add(tx);
  IgniteTxEx tx0=(IgniteTxEx)tx;
  if (!tx0.local())   throw new IgniteException("Tx is not local: " + tx);
  if (tx0.dht())   throw new IgniteException("Tx is DHT: " + tx);
}
