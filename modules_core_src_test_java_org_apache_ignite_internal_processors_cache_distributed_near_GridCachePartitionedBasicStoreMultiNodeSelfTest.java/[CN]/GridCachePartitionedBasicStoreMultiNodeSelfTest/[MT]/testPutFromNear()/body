{
  GridCache<Integer,String> cache=cache(0);
  int key=0;
  while (true) {
    boolean found=false;
    for (    ClusterNode n : grid(0).nodes()) {
      if (!cache.affinity().isPrimaryOrBackup(n,key)) {
        found=true;
        break;
      }
    }
    if (found)     break;
  }
  assertNull(cache.put(key,"val"));
  checkStoreUsage(1,1,0,1);
}
