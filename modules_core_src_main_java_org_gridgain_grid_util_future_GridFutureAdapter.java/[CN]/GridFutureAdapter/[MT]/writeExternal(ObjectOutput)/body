{
  int state0=getState();
  out.writeByte(state0);
  out.writeBoolean(syncNotify);
  out.writeBoolean(concurNotify);
  if (state0 != INIT) {
    try {
      acquireSharedInterruptibly(0);
    }
 catch (    InterruptedException e) {
      Thread.currentThread().interrupt();
      throw new IOException("Thread has been interrupted.",e);
    }
    out.writeObject(res);
    out.writeObject(err);
    out.writeObject(ctx);
  }
}
