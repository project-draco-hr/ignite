{
  owner=primaryStage;
  primaryStage.setTitle("Apache Ignite Auto Schema Load Utility");
  primaryStage.getIcons().addAll(image("ignite",16),image("ignite",24),image("ignite",32),image("ignite",48),image("ignite",64),image("ignite",128));
  pi=progressIndicator(50);
  createGeneratePane();
  hdrPane=createHeaderPane();
  rootPane=borderPane(hdrPane,createConnectionPane(),createButtonsPane(),null,null);
  primaryStage.setScene(scene(rootPane));
  primaryStage.setWidth(650);
  primaryStage.setMinWidth(650);
  primaryStage.setHeight(650);
  primaryStage.setMinHeight(650);
  prev();
  Preferences prefs=Preferences.userNodeForPackage(getClass());
  for (  Preset preset : presets) {
    String key="presets." + preset.pref + ".";
    preset.jar=prefs.get(key + "jar",preset.jar);
    preset.drv=prefs.get(key + "drv",preset.drv);
    preset.url=prefs.get(key + "url",preset.url);
    preset.user=prefs.get(key + "user",preset.user);
  }
  if (prefs.get("window.x",null) != null) {
    double x=prefs.getDouble("window.x",100);
    double y=prefs.getDouble("window.y",100);
    double w=prefs.getDouble("window.width",650);
    double h=prefs.getDouble("window.height",650);
    if (!Screen.getScreensForRectangle(x,y,w,h).isEmpty()) {
      if (x > 0)       primaryStage.setX(x);
      if (y > 0)       primaryStage.setY(y);
      primaryStage.setWidth(w);
      primaryStage.setHeight(h);
    }
  }
 else   primaryStage.centerOnScreen();
  String userHome=System.getProperty("user.home").replace('\\','/');
  rdbmsCb.getSelectionModel().select(prefs.getInt("jdbc.db.preset",0));
  jdbcDrvJarTf.setText(prefs.get("jdbc.driver.jar","h2.jar"));
  jdbcDrvClsTf.setText(prefs.get("jdbc.driver.class","org.h2.Driver"));
  jdbcUrlTf.setText(prefs.get("jdbc.url","jdbc:h2:" + userHome + "/ignite-schema-load/db"));
  userTf.setText(prefs.get("jdbc.user","sa"));
  outFolderTf.setText(prefs.get("out.folder",userHome + "/ignite-schema-load/out"));
  pkgTf.setText(prefs.get("pojo.package","org.apache.ignite"));
  pojoIncludeKeysCh.setSelected(prefs.getBoolean("pojo.include",true));
  pojoConstructorCh.setSelected(prefs.getBoolean("pojo.constructor",false));
  xmlSingleFileCh.setSelected(prefs.getBoolean("xml.single",true));
  regexTf.setText(prefs.get("naming.pattern","(\\w+)"));
  replaceTf.setText(prefs.get("naming.replace","$1_SomeText"));
  primaryStage.show();
}
