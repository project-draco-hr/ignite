{
  owner=primaryStage;
  if (prefsFile.exists())   try (BufferedInputStream in=new BufferedInputStream(new FileInputStream(prefsFile))){
    prefs.load(in);
  }
 catch (  IOException ignore) {
  }
  for (  Preset preset : presets) {
    String key="presets." + preset.pref + ".";
    preset.jar=getStringProp(key + "jar",preset.jar);
    preset.drv=getStringProp(key + "drv",preset.drv);
    preset.url=getStringProp(key + "url",preset.url);
    preset.user=getStringProp(key + "user",preset.user);
  }
  primaryStage.setTitle("Apache Ignite Auto Schema Load Utility");
  primaryStage.getIcons().addAll(image("ignite",16),image("ignite",24),image("ignite",32),image("ignite",48),image("ignite",64),image("ignite",128));
  pi=progressIndicator(50);
  createGeneratePane();
  hdrPane=createHeaderPane();
  rootPane=borderPane(hdrPane,createConnectionPane(),createButtonsPane(),null,null);
  primaryStage.setScene(scene(rootPane));
  primaryStage.setWidth(650);
  primaryStage.setMinWidth(650);
  primaryStage.setHeight(650);
  primaryStage.setMinHeight(650);
  prev();
  if (prefs.getProperty("window.x") != null) {
    int x=getIntProp("window.x",100);
    int y=getIntProp("window.y",100);
    int w=getIntProp("window.width",650);
    int h=getIntProp("window.height",650);
    if (!Screen.getScreensForRectangle(x,y,w,h).isEmpty()) {
      if (x > 0)       primaryStage.setX(x);
      if (y > 0)       primaryStage.setY(y);
      primaryStage.setWidth(w);
      primaryStage.setHeight(h);
    }
  }
 else   primaryStage.centerOnScreen();
  String userHome=System.getProperty("user.home").replace('\\','/');
  rdbmsCb.getSelectionModel().select(getIntProp("jdbc.db.preset",0));
  jdbcDrvJarTf.setText(getStringProp("jdbc.driver.jar","h2.jar"));
  jdbcDrvClsTf.setText(getStringProp("jdbc.driver.class","org.h2.Driver"));
  jdbcUrlTf.setText(getStringProp("jdbc.url","jdbc:h2:" + userHome + "/ignite-schema-load/db"));
  userTf.setText(getStringProp("jdbc.user","sa"));
  outFolderTf.setText(getStringProp("out.folder",userHome + "/ignite-schema-load/out"));
  pkgTf.setText(getStringProp("pojo.package","org.apache.ignite"));
  pojoIncludeKeysCh.setSelected(getBoolProp("pojo.include",true));
  pojoConstructorCh.setSelected(getBoolProp("pojo.constructor",false));
  xmlSingleFileCh.setSelected(getBoolProp("xml.single",true));
  regexTf.setText(getStringProp("naming.pattern","(\\w+)"));
  replaceTf.setText(getStringProp("naming.replace","$1_SomeText"));
  primaryStage.show();
}
