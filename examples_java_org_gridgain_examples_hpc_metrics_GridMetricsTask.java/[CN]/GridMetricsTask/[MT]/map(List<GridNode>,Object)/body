{
  Map<GridComputeJobAdapter,GridNode> jobs=new HashMap<>(subgrid.size());
  for (  GridNode node : subgrid) {
    GridNodeMetrics metrics=node.metrics();
    System.out.println("Checking node metrics [nodeId=" + node.id() + ", cpuLoad="+ metrics.getCurrentCpuLoad()+ ", cpus="+ metrics.getTotalCpus()+ ']');
    if (metrics.getTotalCpus() > 1 && metrics.getCurrentCpuLoad() < 0.5)     jobs.put(new GridMetricsJob(),node);
  }
  if (jobs.isEmpty())   jobs.put(new GridMetricsJob(),grid.localNode());
  return jobs;
}
