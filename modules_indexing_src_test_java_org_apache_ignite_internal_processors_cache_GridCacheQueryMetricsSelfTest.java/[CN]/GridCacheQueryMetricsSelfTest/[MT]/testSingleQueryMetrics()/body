{
  GridCacheAdapter<String,Integer> cache=((IgniteKernal)grid(0)).internalCache();
  CacheQuery<Map.Entry<String,Integer>> qry=cache.queries().createSqlQuery(Integer.class,"_val >= 0").projection(grid(0).cluster());
  qry.execute().get();
  QueryMetrics m=qry.metrics();
  info("Metrics: " + m);
  assertEquals(1,m.executions());
  assertEquals(0,m.fails());
  assertTrue(m.averageTime() >= 0);
  assertTrue(m.maximumTime() >= 0);
  assertTrue(m.minimumTime() >= 0);
  qry.execute().get();
  m=qry.metrics();
  info("Metrics: " + m);
  assertEquals(2,m.executions());
  assertEquals(0,m.fails());
  assertTrue(m.averageTime() >= 0);
  assertTrue(m.maximumTime() >= 0);
  assertTrue(m.minimumTime() >= 0);
}
