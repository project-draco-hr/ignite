{
  log.info(">>> Stop node [nodeId=" + grid.localNode().id() + ", name='"+ grid.name()+ "']");
  String prefix=GridClientStartNodeTask.getConfig(gridType).getGridName() + " (";
  if (!grid.name().startsWith(prefix)) {
    int stoppedCnt=0;
    for (    Grid g : G.allGrids())     if (g.name().startsWith(prefix)) {
      try {
        log.info(">>> Grid stopping [nodeId=" + g.localNode().id() + ", name='"+ g.name()+ "']");
        G.stop(g.name(),true);
        stoppedCnt++;
      }
 catch (      IllegalStateException e) {
        log.warning("Failed to stop grid.",e);
      }
    }
    return stoppedCnt;
  }
  return 0;
}
