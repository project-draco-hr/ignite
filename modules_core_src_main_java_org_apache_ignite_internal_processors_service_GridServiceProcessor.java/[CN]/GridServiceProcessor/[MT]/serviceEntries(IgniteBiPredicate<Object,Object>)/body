{
  if (!cache.context().affinityNode()) {
    ClusterNode oldestSrvNode=CU.oldestAliveCacheServerNode(cache.context().shared(),AffinityTopologyVersion.NONE);
    if (oldestSrvNode == null)     return new GridEmptyIterator<>();
    GridCacheQueryManager qryMgr=cache.context().queries();
    CacheQuery<Map.Entry<Object,Object>> qry=qryMgr.createScanQuery(p,null,false);
    qry.keepAll(false);
    qry.projection(ctx.cluster().get().forNode(oldestSrvNode));
    return cache.context().itHolder().iterator(qry.execute(),new CacheIteratorConverter<Object,Map.Entry<Object,Object>>(){
      @Override protected Object convert(      Map.Entry<Object,Object> e){
        return new CacheEntryImpl<>(e.getKey(),e.getValue());
      }
      @Override protected void remove(      Object item){
        throw new UnsupportedOperationException();
      }
    }
);
  }
 else   return cache.entrySetx().iterator();
}
