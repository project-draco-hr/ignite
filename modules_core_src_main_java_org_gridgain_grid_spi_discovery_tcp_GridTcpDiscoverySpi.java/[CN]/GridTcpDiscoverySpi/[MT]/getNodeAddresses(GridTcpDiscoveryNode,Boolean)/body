{
  LinkedHashSet<InetSocketAddress> res;
  if (sameHost == null)   res=new LinkedHashSet<>(node.socketAddresses());
 else {
    ArrayList<InetSocketAddress> addrs=new ArrayList<>(node.socketAddresses());
    Collections.sort(addrs,inetAddressesComparator(sameHost));
    res=new LinkedHashSet<>(addrs);
  }
  Collection<InetSocketAddress> extAddrs=node.attribute(createSpiAttributeName(ATTR_EXT_ADDRS));
  if (extAddrs != null)   res.addAll(extAddrs);
  return res;
}
