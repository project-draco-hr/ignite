{
  if (log.isDebugEnabled())   log.debug("Metrics update notifier has been started.");
  while (!isInterrupted()) {
    Thread.sleep(metricsStore.getMetricsExpireTime());
    if (spiStateCopy() != CONNECTED) {
      if (log.isDebugEnabled())       log.debug("Stopping metrics update notifier (SPI is not connected to topology).");
      return;
    }
    long tstamp=U.currentTimeMillis();
    for (    GridTcpDiscoveryNode node : ring.remoteNodes()) {
      node.lastUpdateTime(tstamp);
      notifyDiscovery(EVT_NODE_METRICS_UPDATED,ring.topologyVersion(),node);
    }
  }
}
