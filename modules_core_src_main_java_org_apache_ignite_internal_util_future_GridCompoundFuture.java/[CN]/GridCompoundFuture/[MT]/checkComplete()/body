{
  Throwable err=this.err.get();
  boolean ignore=ignoreFailure(err);
  if (init.get() && (res.isMarked() || lsnrCalls.get() == futs.sizex() || (err != null && !ignore)) && finished.compareAndSet(false,true)) {
    try {
      if (err == null && rdc != null && !res.isMarked())       res.compareAndSet(null,rdc.reduce(),false,true);
    }
 catch (    RuntimeException e) {
      U.error(log,"Failed to execute compound future reducer: " + this,e);
      onDone(e);
      return;
    }
catch (    AssertionError e) {
      U.error(log,"Failed to execute compound future reducer: " + this,e);
      onDone(e);
      throw e;
    }
    onDone(res.getReference(),ignore ? null : err);
  }
}
