{
  Random rand=new Random();
  new Waiter().start();
  while (semaphore) {
    int interval=rand.nextInt(getMaxInterval() - 1) + 1;
    toggleState();
    if (isRunning) {
      info("Spi stopped for the interval of " + interval + " seconds...");
    }
 else {
      info("Spi started for the interval of " + interval + " seconds...");
    }
    try {
      Thread.sleep(interval * 1000);
    }
 catch (    InterruptedException e) {
      error("Got interrupted",e);
      break;
    }
  }
  info("Spi stopped...");
}
