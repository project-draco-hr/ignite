{
  waitInitialization();
  final boolean colloc0=create && (cctx.cache().configuration().getCacheMode() != PARTITIONED || colloc);
  if (cctx.atomic())   return queue0(name,cap,colloc0,create);
  return CU.outTx(new Callable<GridCacheQueueProxy<T>>(){
    @Nullable @Override public GridCacheQueueProxy<T> call() throws Exception {
      return queue0(name,cap,colloc0,create);
    }
  }
,cctx);
}
