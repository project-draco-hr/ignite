{
  if (!nodeId.equals(ctx.localNodeId())) {
    pendingLock.lock();
    try {
      pending.put(nodeId,new HashSet<GridContinuousMessage>());
      DiscoveryData data=new DiscoveryData(ctx.localNodeId());
      for (      Map.Entry<UUID,LocalRoutineInfo> e : locInfos.entrySet()) {
        UUID routineId=e.getKey();
        LocalRoutineInfo info=e.getValue();
        data.addItem(new DiscoveryDataItem(routineId,info.prjPred,info.hnd,info.bufSize,info.interval));
      }
      return data;
    }
  finally {
      pendingLock.unlock();
    }
  }
 else   return null;
}
