{
  DiscoveryData data=(DiscoveryData)obj;
  if (!ctx.isDaemon() && data != null) {
    for (    DiscoveryDataItem item : data.items) {
      try {
        if (item.prjPred != null)         ctx.resource().injectGeneric(item.prjPred);
        if (item.prjPred == null || item.prjPred.apply(ctx.discovery().localNode())) {
          if (registerHandler(data.nodeId,item.routineId,item.hnd,item.bufSize,item.interval,item.autoUnsubscribe,false))           item.hnd.onListenerRegistered(item.routineId,ctx);
        }
      }
 catch (      IgniteCheckedException e) {
        U.error(log,"Failed to register continuous handler.",e);
      }
    }
    for (    Map.Entry<UUID,Map<UUID,LocalRoutineInfo>> entry : data.clientInfos.entrySet()) {
      Map<UUID,LocalRoutineInfo> map=clientInfos.get(entry.getKey());
      if (map == null) {
        map=new HashMap<>();
        clientInfos.put(entry.getKey(),map);
      }
      map.putAll(entry.getValue());
    }
  }
}
