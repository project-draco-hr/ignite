{
  if (metricsProvider != null)   metrics=metricsProvider.getMetrics();
 else   if (metricsStore != null)   try {
    GridNodeMetrics metrics=metricsStore.metrics(Collections.singletonList(id)).get(id);
    if (metrics != null)     this.metrics=metrics;
  }
 catch (  GridSpiException e) {
    LT.error(log,e,"Failed to get metrics from metrics store for node: " + this);
  }
  return metrics;
}
