{
  ByteArrayInputStream stream=null;
  ObjectInputStream in=null;
  try {
    stream=new ByteArrayInputStream(buf.array());
    in=new ObjectInputStream(stream);
    return in.readObject();
  }
 catch (  Throwable e) {
    throw new IgniteException("Failed to deserialize object from byte stream",e);
  }
 finally {
    U.closeQuiet(in);
    U.closeQuiet(stream);
  }
}
