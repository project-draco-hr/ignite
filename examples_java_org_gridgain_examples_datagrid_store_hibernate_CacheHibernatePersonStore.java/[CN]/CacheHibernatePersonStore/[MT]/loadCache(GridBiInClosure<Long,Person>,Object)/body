{
  if (args == null || args.length == 0 || args[0] == null)   throw new GridException("Expected entry count parameter is not provided.");
  final int entryCnt=(Integer)args[0];
  Session ses=session(null);
  try {
    int cnt=0;
    List res=ses.createCriteria(Person.class).list();
    if (res != null) {
      Iterator iter=res.iterator();
      while (cnt < entryCnt && iter.hasNext()) {
        Person person=(Person)iter.next();
        clo.apply(person.getId(),person);
        cnt++;
      }
    }
    System.out.println(">>> Loaded " + cnt + " values into cache.");
  }
 catch (  HibernateException e) {
    throw new GridException("Failed to load values from cache store.",e);
  }
 finally {
    end(ses,null);
  }
}
