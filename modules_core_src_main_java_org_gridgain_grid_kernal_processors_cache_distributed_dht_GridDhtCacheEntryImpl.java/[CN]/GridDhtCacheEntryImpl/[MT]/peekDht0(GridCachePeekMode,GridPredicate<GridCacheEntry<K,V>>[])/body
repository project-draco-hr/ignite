{
  if (mode == null)   mode=SMART;
  while (true) {
    GridCacheProjectionImpl<K,V> prjPerCall=proxy.gateProjection();
    if (prjPerCall != null)     filter=ctx.vararg(F.and(ctx.vararg(proxy.predicate()),filter));
    GridCacheProjectionImpl<K,V> prev=ctx.gate().enter(prjPerCall);
    try {
      GridCacheEntryEx<K,V> entry=dht().peekEx(key);
      return entry == null ? null : ctx.cloneOnFlag(entry.peek(mode,filter));
    }
 catch (    GridCacheEntryRemovedException ignore) {
    }
 finally {
      ctx.gate().leave(prev);
    }
  }
}
