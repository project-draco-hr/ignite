{
  List<Ignite> allGrids=Ignition.allGrids();
  assertFalse("There are no alive nodes.",F.isEmpty(allGrids));
  Ignite ignite=allGrids.get(0);
  Affinity<Object> aff=ignite.affinity(cacheName);
  ClusterNode node=aff.mapKeyToNode(key);
  assertNotNull("There are no cache affinity nodes",node);
  return grid(node);
}
