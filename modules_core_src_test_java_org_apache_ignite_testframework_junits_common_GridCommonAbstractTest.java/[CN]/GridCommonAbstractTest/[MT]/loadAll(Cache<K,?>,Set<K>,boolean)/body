{
  final AtomicReference<Exception> ex=new AtomicReference<>();
  final CountDownLatch latch=new CountDownLatch(1);
  cache.loadAll(keys,replaceExistingValues,new CompletionListener(){
    @Override public void onCompletion(){
      latch.countDown();
    }
    @Override public void onException(    Exception e){
      ex.set(e);
      latch.countDown();
    }
  }
);
  latch.await();
  if (ex.get() != null)   throw ex.get();
}
