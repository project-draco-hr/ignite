{
  if (lastSnapshot != null) {
    m.setCurrentActiveJobs(lastSnapshot.getActiveJobs());
    m.setCurrentWaitingJobs(lastSnapshot.getPassiveJobs());
    m.setCurrentCancelledJobs(lastSnapshot.getCancelJobs());
    m.setCurrentRejectedJobs(lastSnapshot.getRejectJobs());
    m.setCurrentJobExecutionTime(lastSnapshot.getMaximumExecutionTime());
    m.setCurrentJobWaitTime(lastSnapshot.getMaximumWaitTime());
  }
  if (cnt > 0) {
    m.setAverageActiveJobs((float)totalActiveJobs / cnt);
    m.setAverageWaitingJobs((float)totalWaitingJobs / cnt);
    m.setAverageCancelledJobs((float)totalCancelledJobs / cnt);
    m.setAverageRejectedJobs((float)totalRejectedJobs / cnt);
    m.setAverageCpuLoad(totalCpuLoad / cnt);
  }
  m.setAverageJobExecutionTime(totalFinishedJobs > 0 ? (double)totalExecTime / totalFinishedJobs : 0);
  m.setAverageJobWaitTime(totalStartedJobs > 0 ? (double)totalWaitTime / totalStartedJobs : 0);
  return m;
}
