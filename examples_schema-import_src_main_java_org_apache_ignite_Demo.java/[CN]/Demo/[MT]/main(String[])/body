{
  System.out.println(">>> Start demo...");
  IgniteConfiguration cfg=new IgniteConfiguration();
  CacheConfiguration ccfg=new CacheConfiguration<>();
  ccfg.setCacheStoreFactory(new FactoryBuilder.SingletonFactory(ConfigurationSnippet.store()));
  ccfg.setReadThrough(true);
  ccfg.setWriteThrough(true);
  ccfg.setTypeMetadata(ConfigurationSnippet.typeMetadata());
  cfg.setCacheConfiguration(ccfg);
  try (Ignite ignite=Ignition.start(cfg)){
    IgniteCache<PersonKey,Person> cache=ignite.jcache(null);
    cache.loadCache(null,"org.apache.ignite.examples.demo.PersonKey","select * from PERSON where ID = 3");
    System.out.println(">>> Loaded Person: " + cache.get(new PersonKey(3)));
  }
 }
