{
  IgniteCache<Integer,Integer> c=grid(0).cache(null);
  Integer val=key;
  c.put(key,val);
  assertNull(c.localPeek(key,CachePeekMode.ONHEAP));
  Lock lock=c.lock(key);
  lock.lock();
  assertTrue(c.isLocalLocked(key,false));
  lock.unlock();
  assertFalse(c.isLocalLocked(key,false));
  assertNull(c.localPeek(key,CachePeekMode.ONHEAP));
  checkValue(key,val);
}
