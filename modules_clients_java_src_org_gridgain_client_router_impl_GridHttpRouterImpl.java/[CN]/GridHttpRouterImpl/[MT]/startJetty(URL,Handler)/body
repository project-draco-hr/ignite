{
  XmlConfiguration cfg;
  try {
    cfg=new XmlConfiguration(cfgUrl);
  }
 catch (  FileNotFoundException e) {
    throw new GridException("Failed to find configuration file: " + cfgUrl,e);
  }
catch (  SAXException e) {
    throw new GridException("Failed to parse configuration file: " + cfgUrl,e);
  }
catch (  IOException e) {
    throw new GridException("Failed to load configuration file: " + cfgUrl,e);
  }
  try {
    httpSrv=(Server)cfg.configure();
    httpSrv.setHandler(hnd);
    httpSrv.start();
    if (!httpSrv.isStarted())     throw new GridException("Jetty server did not start.");
    if (log.isInfoEnabled())     log.info("HTTP router successfully started for endpoints: " + getEndpoints());
  }
 catch (  BindException e) {
    throw new GridException("Failed to bind HTTP server to configured endpoints: " + getEndpoints(),e);
  }
catch (  MultiException e) {
    throw new GridException("Caught multi exception.",e);
  }
catch (  Exception e) {
    throw new GridException("Unexpected exception when starting Jetty.",e);
  }
}
