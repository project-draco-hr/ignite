{
  Configuration cfg=new Configuration();
  cfg.addAnnotatedClass(Entity1.class);
  cfg.addAnnotatedClass(Entity2.class);
  cfg.addAnnotatedClass(Entity3.class);
  cfg.addAnnotatedClass(Entity4.class);
  cfg.setProperty(DFLT_ACCESS_TYPE_PROPERTY,AccessType.NONSTRICT_READ_WRITE.name());
  cfg.setProperty(HBM2DDL_AUTO,"create");
  cfg.setProperty(GENERATE_STATISTICS,"true");
  cfg.setProperty(USE_SECOND_LEVEL_CACHE,"true");
  cfg.setProperty(USE_QUERY_CACHE,"true");
  cfg.setProperty(CACHE_REGION_FACTORY,HibernateRegionFactory.class.getName());
  cfg.setProperty(RELEASE_CONNECTIONS,"on_close");
  cfg.setProperty(GRID_NAME_PROPERTY,gridName);
  cfg.setProperty(REGION_CACHE_PROPERTY + ENTITY1_NAME,"cache1");
  cfg.setProperty(REGION_CACHE_PROPERTY + ENTITY2_NAME,"cache2");
  cfg.setProperty(REGION_CACHE_PROPERTY + TIMESTAMP_CACHE,TIMESTAMP_CACHE);
  cfg.setProperty(REGION_CACHE_PROPERTY + QUERY_CACHE,QUERY_CACHE);
  if (dfltCache)   cfg.setProperty(DFLT_CACHE_NAME_PROPERTY,"cache3");
  return cfg;
}
