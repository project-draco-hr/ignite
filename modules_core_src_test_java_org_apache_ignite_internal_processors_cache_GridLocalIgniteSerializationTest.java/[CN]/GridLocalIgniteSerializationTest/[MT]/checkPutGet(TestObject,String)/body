{
  GridTestUtils.runAsync(new Callable<Object>(){
    @Override public Object call() throws Exception {
      try (final Ignite ignite=startGrid(gridName)){
        if (ignite.configuration().getMarshaller() instanceof AbstractNodeNameAwareMarshaller) {
          final IgniteCache<Integer,TestObject> cache=ignite.getOrCreateCache(CACHE_NAME);
          assertNull(obj.ignite());
          cache.put(1,obj);
          assertNotNull(obj.ignite());
          final TestObject loadedObj=cache.get(1);
          assertNotNull(loadedObj.ignite());
          assertEquals(obj,loadedObj);
        }
      }
       return null;
    }
  }
).get();
}
