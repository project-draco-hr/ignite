{
  super.prepareMarshal(ctx);
  if (writes != null)   marshalTx(writes,ctx);
  if (reads != null)   marshalTx(reads,ctx);
  if (dhtVers != null) {
    for (    IgniteTxKey key : dhtVers.keySet()) {
      GridCacheContext cctx=ctx.cacheContext(key.cacheId());
      key.prepareMarshal(cctx);
    }
    dhtVerKeys=dhtVers.keySet();
    dhtVerVals=dhtVers.values();
  }
  if (txNodes != null)   txNodesBytes=ctx.marshaller().marshal(txNodes);
}
