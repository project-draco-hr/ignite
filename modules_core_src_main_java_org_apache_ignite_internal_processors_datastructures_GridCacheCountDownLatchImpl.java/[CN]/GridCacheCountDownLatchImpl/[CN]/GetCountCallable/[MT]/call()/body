{
  Integer val;
  try (IgniteInternalTx tx=CU.txStartInternal(ctx,latchView,PESSIMISTIC,REPEATABLE_READ)){
    GridCacheCountDownLatchValue latchVal=latchView.get(key);
    if (latchVal == null)     return 0;
    val=latchVal.get();
    tx.rollback();
  }
   return val;
}
