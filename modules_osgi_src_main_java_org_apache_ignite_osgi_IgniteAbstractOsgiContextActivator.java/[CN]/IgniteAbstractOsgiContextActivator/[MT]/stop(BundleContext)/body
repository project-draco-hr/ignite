{
  onBeforeStop(ctx);
  try {
    ignite.close();
  }
 catch (  Throwable t) {
    U.error(log,"Failed to stop Ignite via OSGi Activator [errMsg=" + t.getMessage() + ']',t);
    onAfterStop(ctx,t);
    return;
  }
  if (log.isInfoEnabled())   log.info("Stopped Ignite from OSGi Activator [name=" + ignite.name() + ']');
  IgniteOsgiUtils.classloaders().remove(ignite);
  onAfterStop(ctx,null);
}
