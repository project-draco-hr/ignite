{
  tx.commitError(e);
  if (err.compareAndSet(null,e)) {
    boolean marked=tx.setRollbackOnly();
    if (e instanceof GridCacheTxRollbackException && marked)     rollback();
    onComplete();
  }
}
