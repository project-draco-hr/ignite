{
  List<GridStreamerIndexProvider<String,String,Integer>> idxps=Arrays.asList(indexProvider(true,"tree",updater,GridStreamerIndexPolicy.EVENT_TRACKING_ON,false),indexProvider(false,"hash",updater,GridStreamerIndexPolicy.EVENT_TRACKING_ON,false));
  for (  GridStreamerIndexProvider<String,String,Integer> idxp : idxps) {
    GridStreamerUnboundedWindow<String> win=new GridStreamerUnboundedWindow<>();
    win.setIndexes(idxp);
    win.start();
    win.enqueue("A");
    win.enqueue("A");
    win.enqueue("B");
    GridStreamerIndex<String,Object,Object> idx=win.index(idxp.getName());
    assertNotNull(idx);
    assertNull(idx.entry("A"));
    assertNotNull(idx.entry("B"));
  }
}
