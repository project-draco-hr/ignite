{
  A.ensure(ttl >= 0,"ttl should not be negative");
  this.ttl=ttl;
  GridCacheTxLocalAdapter<K,V> tx;
  if (ctx.isDht())   tx=ctx.dht().near().context().tm().localTx();
 else   tx=ctx.tm().localTx();
  if (tx != null)   tx.entryTtl(ctx.txKey(key),ttl);
}
