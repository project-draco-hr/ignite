{
  GridTestUtils.assertThrowsInherited(log,new Callable<Object>(){
    @Override public Object call() throws Exception {
      final Ignite kernal=grid(0);
      CacheConfiguration ccfgDynamic=new CacheConfiguration();
      ccfgDynamic.setWriteSynchronizationMode(CacheWriteSynchronizationMode.FULL_SYNC);
      ccfgDynamic.setName(DYNAMIC_CACHE_NAME);
      ccfgDynamic.setNodeFilter(NODE_FILTER);
      CacheConfiguration ccfgStatic=new CacheConfiguration();
      ccfgStatic.setWriteSynchronizationMode(CacheWriteSynchronizationMode.FULL_SYNC);
      ccfgStatic.setName(STATIC_CACHE_NAME);
      ccfgStatic.setNodeFilter(NODE_FILTER);
      return kernal.createCaches(F.asList(ccfgDynamic,ccfgStatic));
    }
  }
,CacheExistsException.class,null);
  assertNull(grid(0).cache(DYNAMIC_CACHE_NAME));
}
