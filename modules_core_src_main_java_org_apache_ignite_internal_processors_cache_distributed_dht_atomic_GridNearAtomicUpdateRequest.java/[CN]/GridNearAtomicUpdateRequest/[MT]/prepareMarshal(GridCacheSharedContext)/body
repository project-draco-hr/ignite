{
  super.prepareMarshal(ctx);
  GridCacheContext cctx=ctx.cacheContext(cacheId);
  prepareMarshalCacheObjects(keys,cctx);
  if (op == TRANSFORM)   entryProcessorsBytes=marshalCollection(entryProcessors,ctx);
 else   prepareMarshalCacheObjects(vals,cctx);
  if (filter != null) {
    boolean hasFilter=false;
    for (    CacheEntryPredicate p : filter) {
      if (p != null) {
        hasFilter=true;
        p.prepareMarshal(cctx);
      }
    }
    if (!hasFilter)     filter=null;
  }
  invokeArgsBytes=marshalInvokeArguments(invokeArgs,ctx);
  if (expiryPlc != null)   expiryPlcBytes=CU.marshal(ctx,new IgniteExternalizableExpiryPolicy(expiryPlc));
}
