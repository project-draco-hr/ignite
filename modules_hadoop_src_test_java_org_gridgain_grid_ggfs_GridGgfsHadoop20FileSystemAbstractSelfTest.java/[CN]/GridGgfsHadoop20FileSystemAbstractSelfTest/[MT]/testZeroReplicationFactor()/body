{
  if (mode == PRIMARY) {
    Path ggfsHome=new Path(primaryFsUri);
    Path file=new Path(ggfsHome,"someFile");
    try (FSDataOutputStream out=fs.create(file,EnumSet.noneOf(CreateFlag.class),Options.CreateOpts.perms(FsPermission.getDefault()),Options.CreateOpts.repFac((short)1))){
      out.write(new byte[1024 * 1024]);
    }
     IgniteFs igniteFs=grid(0).fileSystem("ggfs");
    IgniteFsPath filePath=new IgniteFsPath("/someFile");
    IgniteFsFile fileInfo=igniteFs.info(filePath);
    Collection<IgniteFsBlockLocation> locations=igniteFs.affinity(filePath,0,fileInfo.length());
    assertEquals(1,locations.size());
    IgniteFsBlockLocation location=F.first(locations);
    assertEquals(1,location.nodeIds().size());
  }
}
