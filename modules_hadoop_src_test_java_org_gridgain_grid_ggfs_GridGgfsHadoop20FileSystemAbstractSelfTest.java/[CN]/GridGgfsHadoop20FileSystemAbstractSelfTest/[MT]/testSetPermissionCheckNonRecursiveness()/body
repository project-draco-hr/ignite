{
  Path fsHome=new Path(primaryFsUri);
  Path file=new Path(fsHome,"/tmp/my");
  FSDataOutputStream os=fs.create(file,EnumSet.noneOf(CreateFlag.class),Options.CreateOpts.perms(FsPermission.getDefault()));
  os.close();
  Path tmpDir=new Path(fsHome,"/tmp");
  FsPermission perm=new FsPermission((short)123);
  fs.setPermission(tmpDir,perm);
  assertEquals(perm,fs.getFileStatus(tmpDir).getPermission());
  assertEquals(FsPermission.getDefault(),fs.getFileStatus(file).getPermission());
}
