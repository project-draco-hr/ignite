{
  super(F.<IgniteInternalTx>identityReducer(tx));
  this.cctx=cctx;
  this.tx=tx;
  this.commit=commit;
  ignoreInterrupts(true);
  mappings=tx.mappings();
  futId=IgniteUuid.randomUuid();
  CacheWriteSynchronizationMode syncMode;
  if (tx.explicitLock())   syncMode=FULL_SYNC;
 else   syncMode=tx.syncMode();
  tx.syncMode(syncMode);
  if (log == null) {
    msgLog=cctx.txFinishMessageLogger();
    log=U.logger(cctx.kernalContext(),logRef,GridNearTxFinishFuture.class);
  }
}
