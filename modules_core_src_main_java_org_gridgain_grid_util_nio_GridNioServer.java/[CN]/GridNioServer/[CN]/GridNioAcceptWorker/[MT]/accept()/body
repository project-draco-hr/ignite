{
  try {
    while (!closed && selector.isOpen() && !Thread.currentThread().isInterrupted()) {
      if (selector.select(2000) > 0)       processSelectedKeys(selector.selectedKeys());
    }
  }
 catch (  ClosedByInterruptException e) {
    if (log.isDebugEnabled())     log.debug("Closing selector due to thread interruption [srvr=" + this + ", err="+ e.getMessage()+ ']');
  }
catch (  ClosedSelectorException e) {
    throw new GridException("Selector got closed while active: " + this,e);
  }
catch (  IOException e) {
    throw new GridException("Failed to accept connection: " + this,e);
  }
 finally {
    closeSelector();
  }
}
