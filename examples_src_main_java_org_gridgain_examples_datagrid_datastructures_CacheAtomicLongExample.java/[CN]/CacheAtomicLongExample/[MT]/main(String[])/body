{
  try (Grid g=GridGain.start("examples/config/example-cache.xml")){
    System.out.println();
    System.out.println(">>> Cache atomic long example started.");
    String atomicName=UUID.randomUUID().toString();
    final GridCacheAtomicLong atomicLong=g.cache(CACHE_NAME).dataStructures().atomicLong(atomicName,0,true);
    System.out.println();
    System.out.println("Atomic long initial value : " + atomicLong.get() + '.');
    g.forCache(CACHE_NAME).compute().call(new GridCallable<Object>(){
      @Override public Object call() throws Exception {
        for (int i=0; i < RETRIES; i++)         System.out.println("AtomicLong value has been incremented: " + atomicLong.incrementAndGet());
        return null;
      }
    }
).get();
    System.out.println();
    System.out.println("Atomic long value after successful CAS: " + atomicLong.get());
  }
 }
