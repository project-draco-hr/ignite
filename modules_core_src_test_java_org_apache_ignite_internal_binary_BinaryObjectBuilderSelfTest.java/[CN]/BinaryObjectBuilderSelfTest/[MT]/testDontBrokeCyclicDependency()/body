{
  GridBinaryTestClasses.TestObjectOuter outer=new GridBinaryTestClasses.TestObjectOuter();
  outer.inner=new GridBinaryTestClasses.TestObjectInner();
  outer.inner.outer=outer;
  outer.foo="a";
  BinaryObjectBuilder builder=builder(toPortable(outer));
  builder.setField("foo","b");
  GridBinaryTestClasses.TestObjectOuter res=builder.build().deserialize();
  assertEquals("b",res.foo);
  assertSame(res,res.inner.outer);
}
