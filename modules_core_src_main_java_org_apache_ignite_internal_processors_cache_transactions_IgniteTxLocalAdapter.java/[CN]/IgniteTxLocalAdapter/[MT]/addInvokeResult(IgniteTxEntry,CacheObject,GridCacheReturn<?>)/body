{
  GridCacheContext ctx=txEntry.context();
  Object key0=null;
  Object val0=null;
  try {
    Object res=null;
    for (    T2<EntryProcessor<Object,Object,Object>,Object[]> t : txEntry.entryProcessors()) {
      CacheInvokeEntry<Object,Object> invokeEntry=new CacheInvokeEntry(txEntry.context(),txEntry.key(),key0,cacheVal,val0);
      EntryProcessor<Object,Object,?> entryProcessor=t.get1();
      res=entryProcessor.process(invokeEntry,t.get2());
      val0=invokeEntry.value();
      key0=invokeEntry.key();
    }
    if (res != null) {
      if (key0 == null)       key0=txEntry.key().value(ctx.cacheObjectContext(),true);
      ret.addEntryProcessResult(key0,new CacheInvokeResult<>(res));
    }
  }
 catch (  Exception e) {
    if (key0 == null)     key0=txEntry.key().value(ctx.cacheObjectContext(),true);
    ret.addEntryProcessResult(key0,new CacheInvokeResult(e));
  }
}
