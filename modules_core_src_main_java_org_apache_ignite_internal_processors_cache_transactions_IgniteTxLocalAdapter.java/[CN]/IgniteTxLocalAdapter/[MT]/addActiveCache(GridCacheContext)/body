{
  int cacheId=cacheCtx.cacheId();
  if (!activeCacheIds.contains(cacheId)) {
    if (!cctx.txCompatible(this,activeCacheIds,cacheCtx)) {
      StringBuilder cacheNames=new StringBuilder();
      int idx=0;
      for (      Integer activeCacheId : activeCacheIds) {
        cacheNames.append(cctx.cacheContext(activeCacheId).name());
        if (idx++ < activeCacheIds.size() - 1)         cacheNames.append(", ");
      }
      throw new IgniteCheckedException("Failed to enlist new cache to existing transaction " + "(cache configurations are not compatible) [" + "activeCaches=[" + cacheNames + "]"+ ", cacheName="+ cacheCtx.name()+ ", cacheSystem="+ cacheCtx.system()+ ", txSystem="+ system()+ ']');
    }
 else     activeCacheIds.add(cacheId);
  }
}
