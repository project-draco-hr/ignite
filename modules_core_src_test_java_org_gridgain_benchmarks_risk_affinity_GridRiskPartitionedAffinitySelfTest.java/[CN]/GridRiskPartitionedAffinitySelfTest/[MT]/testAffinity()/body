{
  GridRiskPartitionedAffinityFunction aff=new GridRiskPartitionedAffinityFunction();
  aff.setFactor1(FACTOR1);
  aff.setFactor2(FACTOR2);
  for (int i=0; i < FACTOR1.size(); i++) {
    for (int j=0; j < FACTOR2.size(); j++) {
      GridRiskAffinityKey key=new GridRiskAffinityKey(FACTOR1.get(i),FACTOR2.get(j));
      int part=aff.partition(key);
      Assert.assertEquals(i * FACTOR1.size() + j,part);
    }
  }
  Assert.assertEquals(FACTOR1.size() * FACTOR2.size(),aff.getPartitions());
  Assert.assertEquals(FACTOR1.size() * FACTOR2.size(),aff.partitions());
}
