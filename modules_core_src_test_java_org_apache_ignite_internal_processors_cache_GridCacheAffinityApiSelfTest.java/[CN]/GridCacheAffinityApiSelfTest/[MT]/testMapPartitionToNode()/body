{
  int part=RND.nextInt(affinity().partitions());
  AffinityFunctionContext ctx=new GridAffinityFunctionContextImpl(new ArrayList<>(grid(0).cluster().nodes()),null,null,new AffinityTopologyVersion(1),1);
  AffinityFunction aff=affinity();
  List<List<ClusterNode>> assignment=aff.assignPartitions(ctx);
  assertEquals(F.first(nodes(assignment,aff,part)),grid(0).affinity(null).mapPartitionToNode(part));
}
