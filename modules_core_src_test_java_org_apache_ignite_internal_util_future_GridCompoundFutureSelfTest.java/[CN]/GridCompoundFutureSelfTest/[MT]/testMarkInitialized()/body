{
  GridTestKernalContext ctx=new GridTestKernalContext(log);
  GridCompoundFuture<Boolean,Boolean> fut=new GridCompoundFuture<>();
  for (int i=0; i < 5; i++) {
    IgniteFuture<Boolean> part=new GridFinishedFuture<>(ctx,true);
    part.syncNotify(true);
    fut.add(part);
  }
  assertFalse(fut.isDone());
  assertFalse(fut.isCancelled());
  fut.markInitialized();
  assertTrue(fut.isDone());
}
