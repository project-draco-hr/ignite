{
  if (duration != null) {
    if (duration.isEternal())     out.writeLong(0);
 else     if (duration.getDurationAmount() == 0)     out.writeLong(1);
 else     out.writeLong(duration.getTimeUnit().toMillis(duration.getDurationAmount()));
  }
}
