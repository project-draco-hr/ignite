{
  if (duration != null) {
    if (duration.getDurationAmount() == 0L) {
      if (duration.isEternal())       out.writeLong(0);
 else       out.writeLong(CU.TTL_ZERO);
    }
 else     out.writeLong(duration.getTimeUnit().toMillis(duration.getDurationAmount()));
  }
}
