{
  GridGgfsImpl ggfs=(GridGgfsImpl)grid(0).fileSystem("ggfs");
  for (int i=0; i < 30; i++) {
    IgniteFsPath path=new IgniteFsPath("/someFile" + i);
    try (IgniteFsOutputStream out=ggfs.create(path,true)){
      for (int j=0; j < 5 * GGFS_GROUP_SIZE; j++)       out.write(new byte[GGFS_BLOCK_SIZE]);
    }
     U.sleep(200);
  }
  ggfs.delete(new IgniteFsPath("/"),true);
  ggfs.awaitDeletesAsync().get();
  GridTestUtils.retryAssert(log,50,100,new CA(){
    @Override public void apply(){
      for (int i=0; i < NODE_CNT; i++) {
        GridEx g=grid(i);
        GridCache<Object,Object> cache=g.cachex(DATA_CACHE_NAME);
        assertTrue("Data cache is not empty [keys=" + cache.keySet() + ", node="+ g.localNode().id()+ ']',cache.isEmpty());
      }
    }
  }
);
}
