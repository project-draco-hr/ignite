{
  cpy=cpy && needCopy(ctx);
  if (cpy) {
    try {
      return (T)ctx.portable().unmarshal(ctx.cacheObjectContext(),valBytes,ctx.deploy().globalLoader());
    }
 catch (    IgniteCheckedException e) {
      throw new IgniteException("Failed to unmarshal object.",e);
    }
  }
  return (T)val;
}
