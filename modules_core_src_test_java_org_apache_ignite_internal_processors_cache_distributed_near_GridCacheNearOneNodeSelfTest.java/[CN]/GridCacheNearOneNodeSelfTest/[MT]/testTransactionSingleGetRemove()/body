{
  Cache<Integer,String> cache=cache();
  cache.put(1,"val1");
  assertEquals("val1",dht().peek(1));
  assertNull(near().peekNearOnly(1));
  IgniteTx tx=cache.txStart(PESSIMISTIC,REPEATABLE_READ);
  assertEquals("val1",cache.get(1));
  assertTrue(cache.removex(1));
  tx.commit();
  assertNull(dht().peek(1));
  assertNull(near().peekNearOnly(1));
}
