{
  IgniteCache<Integer,String> near=jcache();
  near.lock(1).lock();
  try {
    near.put(1,"1");
    near.put(2,"2");
    String one=near.getAndPut(1,"3");
    assertNotNull(one);
    assertEquals("1",one);
  }
  finally {
    near.lock(1).unlock();
  }
}
