{
switch (type) {
case OP_GET_NAME:
    w.writeObject(cache.getName());
  break;
case OP_METRICS:
CacheMetrics metrics=cache.metrics();
w.writeLong(metrics.getCacheGets());
w.writeLong(metrics.getCachePuts());
w.writeLong(metrics.getCacheHits());
w.writeLong(metrics.getCacheMisses());
w.writeLong(metrics.getCacheTxCommits());
w.writeLong(metrics.getCacheTxRollbacks());
w.writeLong(metrics.getCacheEvictions());
w.writeLong(metrics.getCacheRemovals());
w.writeFloat(metrics.getAveragePutTime());
w.writeFloat(metrics.getAverageGetTime());
w.writeFloat(metrics.getAverageRemoveTime());
w.writeFloat(metrics.getAverageTxCommitTime());
w.writeFloat(metrics.getAverageTxRollbackTime());
w.writeString(metrics.name());
w.writeLong(metrics.getOverflowSize());
w.writeLong(metrics.getOffHeapEntriesCount());
w.writeLong(metrics.getOffHeapAllocatedSize());
w.writeInt(metrics.getSize());
w.writeInt(metrics.getKeySize());
w.writeBoolean(metrics.isEmpty());
w.writeInt(metrics.getDhtEvictQueueCurrentSize());
w.writeInt(metrics.getTxThreadMapSize());
w.writeInt(metrics.getTxXidMapSize());
w.writeInt(metrics.getTxCommitQueueSize());
w.writeInt(metrics.getTxPrepareQueueSize());
w.writeInt(metrics.getTxStartVersionCountsSize());
w.writeInt(metrics.getTxCommittedVersionsSize());
w.writeInt(metrics.getTxRolledbackVersionsSize());
w.writeInt(metrics.getTxDhtThreadMapSize());
w.writeInt(metrics.getTxDhtXidMapSize());
w.writeInt(metrics.getTxDhtCommitQueueSize());
w.writeInt(metrics.getTxDhtPrepareQueueSize());
w.writeInt(metrics.getTxDhtStartVersionCountsSize());
w.writeInt(metrics.getTxDhtCommittedVersionsSize());
w.writeInt(metrics.getTxDhtRolledbackVersionsSize());
w.writeBoolean(metrics.isWriteBehindEnabled());
w.writeInt(metrics.getWriteBehindFlushSize());
w.writeInt(metrics.getWriteBehindFlushThreadCount());
w.writeLong(metrics.getWriteBehindFlushFrequency());
w.writeInt(metrics.getWriteBehindStoreBatchSize());
w.writeInt(metrics.getWriteBehindTotalCriticalOverflowCount());
w.writeInt(metrics.getWriteBehindCriticalOverflowCount());
w.writeInt(metrics.getWriteBehindErrorRetryCount());
w.writeInt(metrics.getWriteBehindBufferSize());
w.writeString(metrics.getKeyType());
w.writeString(metrics.getValueType());
w.writeBoolean(metrics.isStoreByValue());
w.writeBoolean(metrics.isStatisticsEnabled());
w.writeBoolean(metrics.isManagementEnabled());
w.writeBoolean(metrics.isReadThrough());
w.writeBoolean(metrics.isWriteThrough());
w.writeFloat(metrics.getCacheHitPercentage());
w.writeFloat(metrics.getCacheMissPercentage());
break;
default :
throwUnsupported(type);
}
}
