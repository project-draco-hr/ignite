{
  try {
    IgniteInternalTx tx=cctx.tm().userTx();
    V val;
    if (tx != null) {
      val=(V)tx.writeMap().get(txKey());
      if (val == null)       val=(V)tx.readMap().get(txKey());
    }
 else     val=rawGetOrUnmarshal(false);
    CacheEntryImpl<K,V> entry=new CacheEntryImpl<>(key,val);
    entry.version(ver);
    return entry;
  }
 catch (  IgniteCheckedException e) {
    throw new IgniteException("Failed to wrap entry: " + this,e);
  }
}
