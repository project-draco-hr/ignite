{
  try {
    IgniteInternalTx tx=cctx.tm().userTx();
    CacheObject val;
    if (tx != null) {
      GridTuple<CacheObject> peek=tx.peek(cctx,false,key,null);
      val=peek == null ? rawGetOrUnmarshal(false) : peek.get();
    }
 else     val=rawGetOrUnmarshal(false);
    return new CacheEntryImpl<>(key.<K>value(cctx.cacheObjectContext(),false),CU.<V>value(val,cctx,false));
  }
 catch (  GridCacheFilterFailedException ignored) {
    throw new IgniteException("Should never happen.");
  }
catch (  IgniteCheckedException e) {
    throw new IgniteException("Failed to wrap entry: " + this,e);
  }
}
