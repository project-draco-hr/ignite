{
  IgniteTxLocalAdapter tx;
  if (cctx.isDht())   tx=cctx.dht().near().context().tm().localTx();
 else   tx=cctx.tm().localTx();
  if (tx != null) {
    long entryTtl=tx.entryTtl(txKey());
    if (entryTtl > 0)     return entryTtl;
  }
synchronized (this) {
    checkObsolete();
    return ttlExtras();
  }
}
