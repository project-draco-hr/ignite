{
  try {
    if (obsoleteOrDeleted() || (filter != CU.<K,V>empty() && !cctx.isAll(wrap(),filter)))     return false;
  }
 catch (  IgniteCheckedException e) {
    U.error(log,"An exception was thrown while filter checking.",e);
    RuntimeException ex=e.getCause(RuntimeException.class);
    if (ex != null)     throw ex;
    Error err=e.getCause(Error.class);
    if (err != null)     throw err;
    return false;
  }
  IgniteInternalTx<K,V> tx=cctx.tm().localTxx();
  return tx == null || !tx.removed(txKey());
}
