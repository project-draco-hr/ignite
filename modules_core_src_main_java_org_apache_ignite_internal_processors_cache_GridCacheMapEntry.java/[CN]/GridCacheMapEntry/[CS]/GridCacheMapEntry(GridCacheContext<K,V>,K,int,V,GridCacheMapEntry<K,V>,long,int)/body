{
  log=U.logger(cctx.kernalContext(),logRef,GridCacheMapEntry.class);
  if (cctx.portableEnabled())   key=(K)cctx.kernalContext().portable().detachPortable(key);
  this.key=key;
  this.hash=hash;
  this.cctx=cctx;
  ttlAndExpireTimeExtras(ttl,CU.toExpireTime(ttl));
  if (cctx.portableEnabled())   val=(V)cctx.kernalContext().portable().detachPortable(val);
synchronized (this) {
    value(val,null);
  }
  next(hdrId,next);
  ver=cctx.versions().next();
  startVer=ver.order();
}
