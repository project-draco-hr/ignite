{
  for (  CacheTypeFieldMetadata field : em.uniqValFields) {
    Object fieldVal=extractField(em.cacheName,em.valueType(),field.getJavaName(),val);
    try {
      if (fieldVal != null)       stmt.setObject(idx++,fieldVal);
 else       stmt.setNull(idx++,field.getDatabaseType());
    }
 catch (    SQLException e) {
      throw new CacheWriterException("Failed to set statement parameter name: " + field.getDatabaseName(),e);
    }
  }
  return idx;
}
