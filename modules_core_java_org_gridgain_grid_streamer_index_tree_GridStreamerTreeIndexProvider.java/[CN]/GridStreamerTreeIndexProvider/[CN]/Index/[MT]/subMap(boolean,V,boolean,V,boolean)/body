{
  if (fromVal != null && toVal != null) {
    int cmpRes=cmp != null ? cmp.compare(toVal,fromVal) : ((Comparable<V>)toVal).compareTo(fromVal);
    if ((asc && cmpRes < 0) || (!asc && cmpRes > 0))     throw new IllegalArgumentException("Boundaries are invalid [asc=" + asc + ", fromVal="+ fromVal+ ", toVal="+ toVal+ ']');
  }
  if (idx0.isEmpty())   return Collections.emptyMap();
  ConcurrentNavigableMap<IndexKey<V>,Entry<E,K,V>> map=asc ? idx0 : idx0.descendingMap();
  if (fromVal == null) {
    fromVal=map.firstKey().value();
    fromIncl=true;
  }
  if (toVal == null) {
    toVal=map.lastKey().value();
    toIncl=true;
  }
  return map.subMap(searchKeyFrom(fromVal,asc,fromIncl),fromIncl,searchKeyTo(toVal,asc,toIncl),toIncl);
}
