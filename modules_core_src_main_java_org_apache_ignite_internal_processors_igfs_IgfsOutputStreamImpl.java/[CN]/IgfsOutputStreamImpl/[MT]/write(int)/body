{
synchronized (mux) {
    checkClosed(null,0);
    b&=0xFF;
    long startTime=System.nanoTime();
    if (buf == null)     buf=allocateNewBuffer();
    buf.put((byte)b);
    sendBufferIfFull();
    time+=System.nanoTime() - startTime;
  }
}
