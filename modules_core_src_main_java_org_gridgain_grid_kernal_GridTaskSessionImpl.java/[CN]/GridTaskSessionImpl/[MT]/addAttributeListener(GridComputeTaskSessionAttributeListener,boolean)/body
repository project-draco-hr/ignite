{
  A.notNull(lsnr,"lsnr");
  checkFullSupport();
  Map<Object,Object> attrs=null;
  List<GridComputeTaskSessionAttributeListener> lsnrs;
synchronized (mux) {
    lsnrs=this.lsnrs != null ? new ArrayList<GridComputeTaskSessionAttributeListener>(this.lsnrs.size() + 1) : new ArrayList<GridComputeTaskSessionAttributeListener>(1);
    if (this.lsnrs != null)     lsnrs.addAll(this.lsnrs);
    lsnrs.add(lsnr);
    this.lsnrs=lsnrs;
    if (rewind && this.attrs != null)     attrs=new HashMap<>(this.attrs);
  }
  if (attrs != null)   for (  Map.Entry<Object,Object> entry : attrs.entrySet())   for (  GridComputeTaskSessionAttributeListener l : lsnrs)   l.onAttributeSet(entry.getKey(),entry.getValue());
}
