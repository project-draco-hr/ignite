{
  return options(karafDistributionConfiguration().frameworkUrl(maven().groupId("org.apache.karaf").artifactId("apache-karaf").type("tar.gz").versionAsInProject()).karafVersion(System.getProperty("karafVersion")).useDeployFolder(false).unpackDirectory(new File("target/paxexam/unpack")),junitBundles(),editConfigurationFileExtend("etc/jre.properties","jre-1.7","sun.nio.ch"),editConfigurationFileExtend("etc/jre.properties","jre-1.8","sun.nio.ch"),logLevel(LogLevelOption.LogLevel.INFO),features(mavenBundle().groupId("org.apache.ignite").artifactId("ignite-osgi-karaf").version(System.getProperty("projectVersion")).type("xml/features"),featuresToInstall().toArray(new String[0])),systemProperty("projectVersion").value(System.getProperty("projectVersion")));
}
