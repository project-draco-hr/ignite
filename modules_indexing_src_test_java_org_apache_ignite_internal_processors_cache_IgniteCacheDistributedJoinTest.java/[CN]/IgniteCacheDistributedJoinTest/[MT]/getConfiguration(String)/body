{
  IgniteConfiguration cfg=super.getConfiguration(gridName);
  TcpDiscoverySpi spi=((TcpDiscoverySpi)cfg.getDiscoverySpi());
  spi.setIpFinder(IP_FINDER);
  CacheConfiguration<Integer,A> ccfga=new CacheConfiguration<>();
  ccfga.setName("a");
  ccfga.setSqlSchema("A");
  ccfga.setAtomicityMode(CacheAtomicityMode.ATOMIC);
  ccfga.setBackups(1);
  ccfga.setCacheMode(CacheMode.PARTITIONED);
  ccfga.setIndexedTypes(Integer.class,A.class);
  CacheConfiguration<Integer,B> ccfgb=new CacheConfiguration<>();
  ccfgb.setName("b");
  ccfgb.setSqlSchema("B");
  ccfgb.setAtomicityMode(CacheAtomicityMode.ATOMIC);
  ccfgb.setBackups(1);
  ccfgb.setCacheMode(CacheMode.PARTITIONED);
  ccfgb.setIndexedTypes(Integer.class,B.class);
  CacheConfiguration<Integer,C> ccfgc=new CacheConfiguration<>();
  ccfgc.setName("c");
  ccfgc.setSqlSchema("C");
  ccfgc.setAtomicityMode(CacheAtomicityMode.ATOMIC);
  ccfgc.setBackups(1);
  ccfgc.setCacheMode(CacheMode.PARTITIONED);
  ccfgc.setIndexedTypes(Integer.class,C.class);
  cfg.setCacheConfiguration(ccfga,ccfgb,ccfgc);
  return cfg;
}
