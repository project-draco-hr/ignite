{
  final Node<K,V> nL=node.left;
  final Node<K,V> nR=node.right;
  if ((nL == null || nR == null) && node.vOpt == null) {
    return UnlinkRequired;
  }
  final int hN=node.height;
  final int hL0=height(nL);
  final int hR0=height(nR);
  final int hNRepl=1 + Math.max(hL0,hR0);
  final int bal=hL0 - hR0;
  if (bal < -1 || bal > 1) {
    return RebalanceRequired;
  }
  return hN != hNRepl ? hNRepl : NothingRequired;
}
