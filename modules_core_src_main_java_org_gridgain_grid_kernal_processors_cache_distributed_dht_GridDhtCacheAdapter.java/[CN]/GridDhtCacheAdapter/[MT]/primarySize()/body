{
  int sum=0;
  long topVer=ctx.affinity().affinityTopologyVersion();
  for (  GridDhtLocalPartition<K,V> p : topology().currentLocalPartitions()) {
    if (p.primary(topVer))     sum+=p.publicSize();
  }
  return sum;
}
