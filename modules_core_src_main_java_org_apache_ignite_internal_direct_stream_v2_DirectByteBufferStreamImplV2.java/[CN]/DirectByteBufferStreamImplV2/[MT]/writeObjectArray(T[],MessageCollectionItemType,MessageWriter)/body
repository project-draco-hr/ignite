{
  if (arr != null) {
    int len=arr.length;
    if (arrPos == -1) {
      writeInt(len);
      if (!lastFinished)       return;
      arrPos=0;
    }
    while (arrPos < len || arrCur != NULL) {
      if (arrCur == NULL)       arrCur=arr[arrPos++];
      write(itemType,arrCur,writer);
      if (!lastFinished)       return;
      arrCur=NULL;
    }
    arrPos=-1;
  }
 else   writeInt(-1);
}
