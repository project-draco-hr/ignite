{
  idxSpi.forceFail(true);
  GridTestUtils.assertThrows(log,new Callable<Object>(){
    @Override public Object call() throws Exception {
      return cache(0).putx(key,1);
    }
  }
,GridCacheTxHeuristicException.class,null);
}
