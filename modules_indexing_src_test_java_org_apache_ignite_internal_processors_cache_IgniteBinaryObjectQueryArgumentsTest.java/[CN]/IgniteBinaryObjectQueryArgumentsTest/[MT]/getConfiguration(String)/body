{
  IgniteConfiguration cfg=super.getConfiguration(gridName);
  ((TcpDiscoverySpi)cfg.getDiscoverySpi()).setIpFinder(IP_FINDER);
  CacheConfiguration ccfg=new CacheConfiguration();
  ccfg.setWriteSynchronizationMode(FULL_SYNC);
  QueryEntity person=new QueryEntity();
  person.setKeyType(TestKey.class.getName());
  person.setValueType(Person.class.getName());
  person.addQueryField("name",String.class.getName(),null);
  ccfg.setQueryEntities(Arrays.asList(person));
  cfg.setCacheConfiguration(ccfg);
  cfg.setMarshaller(null);
  return cfg;
}
