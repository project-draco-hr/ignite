{
  for (int i=0; i < nodes; i++) {
    final Ignite ignite=grid(i);
    GridTestUtils.assertThrows(log,new Callable<Void>(){
      @Override public Void call() throws Exception {
        ignite.cache(GridCacheUtils.UTILITY_CACHE_NAME);
        return null;
      }
    }
,IllegalStateException.class,null);
    GridTestUtils.assertThrows(log,new Callable<Void>(){
      @Override public Void call() throws Exception {
        ignite.cache(TEMPLATE1);
        return null;
      }
    }
,IllegalArgumentException.class,null);
    GridTestUtils.assertThrows(log,new Callable<Void>(){
      @Override public Void call() throws Exception {
        ignite.cache(TEMPLATE2);
        return null;
      }
    }
,IllegalArgumentException.class,null);
    GridTestUtils.assertThrows(log,new Callable<Void>(){
      @Override public Void call() throws Exception {
        ignite.cache(TEMPLATE3);
        return null;
      }
    }
,IllegalArgumentException.class,null);
  }
}
