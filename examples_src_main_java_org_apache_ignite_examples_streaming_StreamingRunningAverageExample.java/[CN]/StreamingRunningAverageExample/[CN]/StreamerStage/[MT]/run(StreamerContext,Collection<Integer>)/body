{
  ConcurrentMap<String,Average> loc=ctx.localSpace();
  Average avg=loc.get("avg");
  if (avg == null) {
    Average old=loc.putIfAbsent("avg",avg=new Average());
    if (old != null)     avg=old;
  }
  for (  Integer e : evts)   avg.add(e,1);
  StreamerWindow<Integer> win=ctx.window();
  win.enqueueAll(evts);
  while (true) {
    Integer e=win.pollEvicted();
    if (e == null)     break;
    avg.add(-e,-1);
  }
  return null;
}
