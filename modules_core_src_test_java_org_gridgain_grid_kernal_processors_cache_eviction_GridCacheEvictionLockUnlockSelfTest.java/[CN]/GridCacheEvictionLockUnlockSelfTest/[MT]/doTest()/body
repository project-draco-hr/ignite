{
  try {
    startGridsMultiThreaded(gridCnt);
    for (int i=0; i < gridCnt; i++)     grid(i).events().localListen(new EvictListener(),EVT_CACHE_ENTRY_EVICTED);
    for (int i=0; i < gridCnt; i++) {
      reset();
      GridCache<Object,Object> cache=cache(i);
      cache.lock("key",0L);
      cache.unlock("key");
      assertTrue(evictLatch.await(3,SECONDS));
      assertEquals(gridCnt,evictCnt.get());
      assertEquals(gridCnt,touchCnt.get());
      for (int j=0; j < gridCnt; j++)       assertFalse(cache(j).containsKey("key"));
    }
  }
  finally {
    stopAllGrids();
  }
}
