{
  if (dual)   return;
  if (appendSupported()) {
    create(igfs,paths(DIR,SUBDIR),null);
    createFile(igfs,FILE,false);
    GridTestUtils.assertThrowsInherited(log(),new Callable<Object>(){
      @Override public Object call() throws Exception {
        IgfsOutputStream os1=null;
        IgfsOutputStream os2=null;
        try {
          os1=igfs.append(FILE,false);
          os2=igfs.append(FILE,false);
        }
  finally {
          U.closeQuiet(os1);
          U.closeQuiet(os2);
        }
        return null;
      }
    }
,IgniteException.class,null);
  }
}
