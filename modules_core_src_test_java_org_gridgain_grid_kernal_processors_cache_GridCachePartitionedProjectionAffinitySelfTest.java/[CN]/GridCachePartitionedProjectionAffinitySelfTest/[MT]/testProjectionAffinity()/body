{
  waitTopologyUpdate();
  Ignite g0=grid(0);
  Ignite g1=grid(1);
  GridProjection g0Pinned=g0.cluster().forNodeIds(F.asList(g0.cluster().localNode().id()));
  GridProjection g01Pinned=g1.cluster().forNodeIds(F.asList(g0.cluster().localNode().id(),g1.cluster().localNode().id()));
  for (int i=0; i < 100; i++)   assertEquals(g0Pinned.grid().cluster().mapKeyToNode(null,i).id(),g01Pinned.grid().cluster().mapKeyToNode(null,i).id());
}
