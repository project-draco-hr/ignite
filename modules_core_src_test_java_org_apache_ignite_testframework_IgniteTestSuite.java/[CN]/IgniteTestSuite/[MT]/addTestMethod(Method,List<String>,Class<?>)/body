{
  String name=m.getName();
  if (names.contains(name))   return false;
  if (!isPublicTestMethod(m)) {
    if (isTestMethod(m))     addTest(warning("Test method isn't public: " + m.getName() + "("+ theClass.getCanonicalName()+ ")"));
    return false;
  }
  names.add(name);
  boolean hasIgnore=m.isAnnotationPresent(IgniteIgnore.class);
  if (ignoredOnly) {
    if (hasIgnore) {
      IgniteIgnore ignore=m.getAnnotation(IgniteIgnore.class);
      String reason=ignore.value();
      if (F.isEmpty(reason))       throw new IllegalArgumentException("Reason is not set for ignored test [class=" + theClass.getName() + ", method="+ name+ ']');
      Test test=createTest(theClass,name);
      if (ignore.forceFailure()) {
        if (test instanceof GridAbstractTest)         ((GridAbstractTest)test).forceFailure(ignore.value());
 else         test=new ForcedFailure(name,ignore.value());
      }
      addTest(test);
      return true;
    }
  }
 else {
    if (!hasIgnore) {
      addTest(createTest(theClass,name));
      return true;
    }
  }
  return false;
}
