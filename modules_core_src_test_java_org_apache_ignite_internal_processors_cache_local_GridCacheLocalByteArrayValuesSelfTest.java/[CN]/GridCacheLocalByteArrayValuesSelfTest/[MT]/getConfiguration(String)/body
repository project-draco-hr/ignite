{
  IgniteConfiguration c=super.getConfiguration(gridName);
  c.getTransactionConfiguration().setTxSerializableEnabled(true);
  CacheConfiguration cc1=new CacheConfiguration();
  cc1.setName(CACHE_REGULAR);
  cc1.setAtomicityMode(TRANSACTIONAL);
  cc1.setCacheMode(LOCAL);
  cc1.setWriteSynchronizationMode(FULL_SYNC);
  cc1.setSwapEnabled(true);
  cc1.setEvictSynchronized(false);
  cc1.setEvictNearSynchronized(false);
  CacheConfiguration cc2=new CacheConfiguration();
  cc2.setName(CACHE_OFFHEAP);
  cc2.setAtomicityMode(TRANSACTIONAL);
  cc2.setCacheMode(LOCAL);
  cc2.setWriteSynchronizationMode(FULL_SYNC);
  cc2.setMemoryMode(OFFHEAP_VALUES);
  cc2.setOffHeapMaxMemory(100 * 1024 * 1024);
  cc2.setQueryIndexEnabled(false);
  c.setCacheConfiguration(cc1,cc2);
  c.setSwapSpaceSpi(new FileSwapSpaceSpi());
  return c;
}
