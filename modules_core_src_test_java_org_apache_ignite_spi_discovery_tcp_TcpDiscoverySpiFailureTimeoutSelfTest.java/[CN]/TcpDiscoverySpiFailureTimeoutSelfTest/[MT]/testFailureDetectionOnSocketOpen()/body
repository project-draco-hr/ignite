{
  try {
    ClusterNode node=secondSpi().getLocalNode();
    firstSpi().openSocketTimeout=true;
    assertFalse(firstSpi().pingNode(node.id()));
    assertTrue(firstSpi().validTimeout);
    assertTrue(firstSpi().err.getMessage().equals("Timeout: openSocketTimeout"));
    firstSpi().openSocketTimeout=false;
    firstSpi().openSocketTimeoutWait=true;
    assertFalse(firstSpi().pingNode(node.id()));
    assertTrue(firstSpi().validTimeout);
    assertTrue(firstSpi().err.getMessage().equals("Timeout: openSocketTimeoutWait"));
  }
  finally {
    firstSpi().resetState();
  }
}
