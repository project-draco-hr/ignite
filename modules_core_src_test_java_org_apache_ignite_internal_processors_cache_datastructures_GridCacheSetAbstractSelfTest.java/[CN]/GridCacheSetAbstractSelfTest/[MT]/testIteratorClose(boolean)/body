{
  CollectionConfiguration colCfg=config(collocated);
  IgniteSet<Integer> set0=grid(0).set(SET_NAME,colCfg);
  for (int i=0; i < 5000; i++)   assertTrue(set0.add(i));
  createIterators(set0);
  System.gc();
  for (int i=0; i < 10; i++) {
    try {
      set0.size();
      assertSetIteratorsCleared();
    }
 catch (    AssertionFailedError e) {
      if (i == 9)       throw e;
      log.info("Set iterators not cleared, will wait");
      Thread.sleep(500);
    }
  }
  createIterators(set0);
  int idx=gridCount() > 1 ? 1 : 0;
  grid(idx).set(SET_NAME,null).close();
  for (int i=0; i < 10; i++) {
    try {
      assertSetIteratorsCleared();
    }
 catch (    AssertionFailedError e) {
      if (i == 9)       throw e;
      log.info("Set iterators not cleared, will wait");
      Thread.sleep(500);
    }
  }
}
