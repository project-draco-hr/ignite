{
  VisorCacheMetrics cm=new VisorCacheMetrics();
  CacheMetrics m=c.metrics();
  GridCacheProcessor cacheProcessor=ignite.context().cache();
  cm.name=c.name();
  cm.mode=cacheProcessor.cacheMode(c.name());
  cm.sys=cacheProcessor.systemCache(c.name());
  cm.size=m.getSize();
  cm.keySize=m.getKeySize();
  cm.reads=m.getCacheGets();
  cm.writes=m.getCachePuts() + m.getCacheRemovals();
  cm.hits=m.getCacheHits();
  cm.misses=m.getCacheMisses();
  cm.txCommits=m.getCacheTxCommits();
  cm.txRollbacks=m.getCacheTxRollbacks();
  cm.avgTxCommitTime=m.getAverageTxCommitTime();
  cm.avgTxRollbackTime=m.getAverageTxRollbackTime();
  cm.puts=m.getCachePuts();
  cm.removals=m.getCacheRemovals();
  cm.evictions=m.getCacheEvictions();
  cm.avgReadTime=m.getAverageGetTime();
  cm.avgPutTime=m.getAveragePutTime();
  cm.avgRemovalTime=m.getAverageRemoveTime();
  cm.readsPerSec=perSecond(m.getAverageGetTime());
  cm.putsPerSec=perSecond(m.getAveragePutTime());
  cm.removalsPerSec=perSecond(m.getAverageRemoveTime());
  cm.commitsPerSec=perSecond(m.getAverageTxCommitTime());
  cm.rollbacksPerSec=perSecond(m.getAverageTxRollbackTime());
  cm.qryMetrics=VisorCacheQueryMetrics.from(c.context().queries().metrics());
  cm.dhtEvictQueueCurrSize=m.getDhtEvictQueueCurrentSize();
  cm.txThreadMapSize=m.getTxThreadMapSize();
  cm.txXidMapSize=m.getTxXidMapSize();
  cm.txCommitQueueSize=m.getTxCommitQueueSize();
  cm.txPrepareQueueSize=m.getTxPrepareQueueSize();
  cm.txStartVerCountsSize=m.getTxStartVersionCountsSize();
  cm.txCommittedVersionsSize=m.getTxCommittedVersionsSize();
  cm.txRolledbackVersionsSize=m.getTxRolledbackVersionsSize();
  cm.txDhtThreadMapSize=m.getTxDhtThreadMapSize();
  cm.txDhtXidMapSize=m.getTxDhtXidMapSize();
  cm.txDhtCommitQueueSize=m.getTxDhtCommitQueueSize();
  cm.txDhtPrepareQueueSize=m.getTxDhtPrepareQueueSize();
  cm.txDhtStartVerCountsSize=m.getTxDhtStartVersionCountsSize();
  cm.txDhtCommittedVersionsSize=m.getTxDhtCommittedVersionsSize();
  cm.txDhtRolledbackVersionsSize=m.getTxDhtRolledbackVersionsSize();
  return cm;
}
