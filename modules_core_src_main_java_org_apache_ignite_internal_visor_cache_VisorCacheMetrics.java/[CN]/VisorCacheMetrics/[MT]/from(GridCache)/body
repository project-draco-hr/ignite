{
  VisorCacheMetrics cm=new VisorCacheMetrics();
  CacheMetrics m=c.metrics();
  cm.size=m.getSize();
  cm.keySize=m.getKeySize();
  cm.reads=m.getCacheGets();
  cm.writes=m.getCachePuts() + m.getCacheRemovals();
  cm.hits=m.getCacheHits();
  cm.misses=m.getCacheMisses();
  cm.txCommits=m.getCacheTxCommits();
  cm.txRollbacks=m.getCacheTxRollbacks();
  cm.avgTxCommitTime=m.getAverageTxCommitTime();
  cm.avgTxRollbackTime=m.getAverageTxRollbackTime();
  cm.puts=m.getCachePuts();
  cm.removals=m.getCacheRemovals();
  cm.evictions=m.getCacheEvictions();
  cm.avgReadTime=m.getAverageGetTime();
  cm.avgPutTime=m.getAveragePutTime();
  cm.avgRemovalTime=m.getAverageRemoveTime();
  cm.readsPerSec=(int)(MICROSECONDS_IN_SECOND * 1.f / m.getAverageGetTime());
  cm.writesPerSec=(int)(MICROSECONDS_IN_SECOND * 1.f / m.getAveragePutTime());
  cm.hitsPerSec=-1;
  cm.missesPerSec=(int)(MICROSECONDS_IN_SECOND * 1.f / m.getAverageRemoveTime());
  cm.commitsPerSec=(int)(MICROSECONDS_IN_SECOND * 1.f / m.getAverageTxCommitTime());
  cm.rollbacksPerSec=(int)(MICROSECONDS_IN_SECOND * 1.f / m.getAverageTxRollbackTime());
  cm.qryMetrics=VisorCacheQueryMetrics.from(c.queries().metrics());
  cm.dhtEvictQueueCurrentSize=m.getDhtEvictQueueCurrentSize();
  cm.txThreadMapSize=m.getTxThreadMapSize();
  cm.txXidMapSize=m.getTxXidMapSize();
  cm.txCommitQueueSize=m.getTxCommitQueueSize();
  cm.txPrepareQueueSize=m.getTxPrepareQueueSize();
  cm.txStartVersionCountsSize=m.getTxStartVersionCountsSize();
  cm.txCommittedVersionsSize=m.getTxCommittedVersionsSize();
  cm.txRolledbackVersionsSize=m.getTxRolledbackVersionsSize();
  cm.txDhtThreadMapSize=m.getTxDhtThreadMapSize();
  cm.txDhtXidMapSize=m.getTxDhtXidMapSize();
  cm.txDhtCommitQueueSize=m.getTxDhtCommitQueueSize();
  cm.txDhtPrepareQueueSize=m.getTxDhtPrepareQueueSize();
  cm.txDhtStartVersionCountsSize=m.getTxDhtStartVersionCountsSize();
  cm.txDhtCommittedVersionsSize=m.getTxDhtCommittedVersionsSize();
  cm.txDhtRolledbackVersionsSize=m.getTxDhtRolledbackVersionsSize();
  return cm;
}
