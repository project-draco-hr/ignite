{
  VisorCacheMetrics cm=new VisorCacheMetrics();
  CacheMetrics m=c.metrics();
  cm.size=c.size();
  cm.reads=(int)m.getCacheGets();
  cm.writes=(int)(m.getCachePuts() + m.getCacheRemovals());
  cm.hits=(int)m.getCacheHits();
  cm.misses=(int)m.getCacheMisses();
  cm.txCommits=(int)m.getCacheTxCommits();
  cm.txRollbacks=(int)m.getCacheTxRollbacks();
  cm.readsPerSec=(int)(MICROSECONDS_IN_SECOND * 1.f / m.getAverageGetTime());
  cm.writesPerSec=(int)(MICROSECONDS_IN_SECOND * 1.f / m.getAveragePutTime());
  cm.hitsPerSec=-1;
  cm.missesPerSec=(int)(MICROSECONDS_IN_SECOND * 1.f / m.getAverageRemoveTime());
  cm.commitsPerSec=(int)(MICROSECONDS_IN_SECOND * 1.f / m.getAverageTxCommitTime());
  cm.rollbacksPerSec=(int)(MICROSECONDS_IN_SECOND * 1.f / m.getAverageTxRollbackTime());
  cm.qryMetrics=VisorCacheQueryMetrics.from(c.queries().metrics());
  return cm;
}
