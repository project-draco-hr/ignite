{
  if (obj == null) {
    return 0;
  }
 else   if (obj instanceof Collection) {
    return ((Collection<?>)obj).size();
  }
 else   if (obj instanceof CharSequence) {
    return ((CharSequence)obj).length();
  }
 else   if (obj.getClass().isArray()) {
    return Array.getLength(obj);
  }
  return UNKNOWN_SIZE;
}
