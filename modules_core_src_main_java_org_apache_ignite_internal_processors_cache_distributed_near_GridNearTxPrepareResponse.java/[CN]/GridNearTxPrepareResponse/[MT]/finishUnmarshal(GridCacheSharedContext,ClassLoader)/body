{
  super.finishUnmarshal(ctx,ldr);
  if (ownedValsBytes != null && ownedVals == null) {
    ownedVals=new HashMap<>();
    for (    byte[] bytes : ownedValsBytes) {
      GridTuple3<IgniteTxKey,GridCacheVersion,CacheObject> tup=ctx.marshaller().unmarshal(bytes,ldr);
      CacheObject val=tup.get3();
      GridCacheContext cctx=ctx.cacheContext(tup.get1().cacheId());
      tup.get1().finishUnmarshal(cctx,ldr);
      if (val != null)       val.finishUnmarshal(cctx,ldr);
      ownedVals.put(tup.get1(),F.t(tup.get2(),val));
    }
  }
  if (retVal == null && retValBytes != null)   retVal=ctx.marshaller().unmarshal(retValBytes,ldr);
  if (filterFailedKeys != null) {
    for (    IgniteTxKey key : filterFailedKeys) {
      GridCacheContext cctx=ctx.cacheContext(key.cacheId());
      key.finishUnmarshal(cctx,ldr);
    }
  }
}
