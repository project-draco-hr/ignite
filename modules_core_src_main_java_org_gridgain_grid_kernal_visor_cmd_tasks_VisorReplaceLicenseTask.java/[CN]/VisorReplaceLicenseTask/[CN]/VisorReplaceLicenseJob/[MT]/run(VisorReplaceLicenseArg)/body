{
  GridProductLicense lic=g.product().license();
  if (lic != null && lic.id().equals(arg.licenseId())) {
    try {
      File file=new File(new URL(g.configuration().getLicenseUrl()).toURI());
      try (BufferedWriter writer=new BufferedWriter(new FileWriter(file,false))){
        for (        String line : arg.licenseLine()) {
          writer.write(line);
          writer.newLine();
        }
      }
       return VisorReplaceLicenseState.SUCCESSFULLY;
    }
 catch (    Exception ignored) {
      return VisorReplaceLicenseState.FAILED;
    }
  }
  return VisorReplaceLicenseState.SKIPPED;
}
