{
  CachingProvider cachingProvider=Caching.getCachingProvider();
  CacheManager cacheMgr=cachingProvider.getCacheManager();
  GridCacheConfiguration cfg=new GridCacheConfiguration();
  cfg.setManagementEnabled(true);
  cfg.setStatisticsEnabled(true);
  cacheMgr.createCache(CACHE_NAME,cfg);
  String beanName="javax.cache:type=CacheConfiguration,CacheManager=" + getUriForMbean() + ",Cache="+ CACHE_NAME;
  ObjectName objectName=new ObjectName(beanName);
  String keyType=(String)getConfiguration().getMBeanServer().getAttribute(objectName,"KeyType");
  assertEquals("java.lang.Object",keyType);
  String valueType=(String)getConfiguration().getMBeanServer().getAttribute(objectName,"ValueType");
  assertEquals("java.lang.Object",valueType);
  boolean readThrough=(boolean)getConfiguration().getMBeanServer().getAttribute(objectName,"ReadThrough");
  assertEquals(false,readThrough);
  boolean writeThrough=(boolean)getConfiguration().getMBeanServer().getAttribute(objectName,"WriteThrough");
  assertEquals(false,writeThrough);
  boolean storeByValue=(boolean)getConfiguration().getMBeanServer().getAttribute(objectName,"StoreByValue");
  assertEquals(true,storeByValue);
  boolean isStat=(boolean)getConfiguration().getMBeanServer().getAttribute(objectName,"StatisticsEnabled");
  assertEquals(true,isStat);
  boolean isMng=(boolean)getConfiguration().getMBeanServer().getAttribute(objectName,"ManagementEnabled");
  assertEquals(true,isMng);
  cacheMgr.destroyCache(CACHE_NAME);
}
