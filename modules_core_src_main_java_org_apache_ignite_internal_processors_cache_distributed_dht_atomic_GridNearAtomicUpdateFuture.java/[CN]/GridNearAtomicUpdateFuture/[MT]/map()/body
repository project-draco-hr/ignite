{
  AffinityTopologyVersion topVer=null;
  IgniteInternalTx tx=cctx.tm().anyActiveThreadTx();
  if (tx != null && tx.topologyVersionSnapshot() != null)   topVer=tx.topologyVersionSnapshot();
  if (topVer == null)   topVer=cctx.mvcc().lastExplicitLockTopologyVersion(Thread.currentThread().getId());
  if (topVer == null)   mapOnTopology(null,false,null);
 else {
    topLocked=true;
    remapCnt.set(1);
    map0(topVer,null,false,null);
  }
}
