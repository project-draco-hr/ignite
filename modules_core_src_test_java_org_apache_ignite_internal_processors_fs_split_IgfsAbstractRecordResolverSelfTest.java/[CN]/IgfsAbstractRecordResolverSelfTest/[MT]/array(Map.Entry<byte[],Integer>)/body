{
  int totalSize=0;
  for (  Map.Entry<byte[],Integer> chunk : chunks)   totalSize+=chunk.getKey().length * chunk.getValue();
  byte[] res=new byte[totalSize];
  int pos=0;
  for (  Map.Entry<byte[],Integer> chunk : chunks) {
    for (int i=0; i < chunk.getValue(); i++) {
      System.arraycopy(chunk.getKey(),0,res,pos,chunk.getKey().length);
      pos+=chunk.getKey().length;
    }
  }
  return res;
}
