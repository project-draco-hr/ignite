{
  GridConfiguration cfg=super.getConfiguration(gridName);
  GridCacheConfiguration partCacheCfg=defaultCacheConfiguration();
  partCacheCfg.setName("partitioned");
  partCacheCfg.setCacheMode(PARTITIONED);
  partCacheCfg.setBackups(1);
  partCacheCfg.setPreloadMode(SYNC);
  partCacheCfg.setDgcFrequency(DGC_FREQ);
  partCacheCfg.setDgcSuspectLockTimeout(DGC_SUSPECT_LOCK_TIMEOUT);
  partCacheCfg.setWriteSynchronizationMode(GridCacheWriteSynchronizationMode.FULL_SYNC);
  partCacheCfg.setEvictionPolicy(null);
  partCacheCfg.setNearEvictionPolicy(null);
  partCacheCfg.setDistributionMode(GridCacheDistributionMode.PARTITIONED_ONLY);
  partCacheCfg.setAtomicityMode(TRANSACTIONAL);
  cfg.setCacheConfiguration(partCacheCfg);
  GridTcpDiscoverySpi discoSpi=new GridTcpDiscoverySpi();
  discoSpi.setIpFinder(ipFinder);
  cfg.setDiscoverySpi(discoSpi);
  return cfg;
}
