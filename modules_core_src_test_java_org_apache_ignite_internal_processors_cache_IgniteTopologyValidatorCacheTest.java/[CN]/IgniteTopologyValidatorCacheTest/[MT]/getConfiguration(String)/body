{
  IgniteConfiguration iCfg=super.getConfiguration(gridName);
  for (  CacheConfiguration cCfg : iCfg.getCacheConfiguration()) {
    cCfg.setTopologyValidator(new TopologyValidator(){
      @Override public boolean validate(      Collection<ClusterNode> nodes){
        return nodes.size() >= 3;
      }
    }
);
  }
  return iCfg;
}
