{
  IgniteCache<Object,Object> cache=ignite.jcache(null);
  QueryCursor<List<?>> qry=cache.queryFields(new QuerySqlPredicate<>("select square(1), square(2)"));
  Collection<List<?>> res=qry.getAll();
  assertEquals(gridCount(),res.size());
  List<?> row=res.iterator().next();
  assertEquals(1,row.get(0));
  assertEquals(4,row.get(1));
  qry=cache.queryFields(new QuerySqlPredicate<>("select _cube_(1), _cube_(2)"));
  res=qry.getAll();
  assertEquals(gridCount(),res.size());
  row=res.iterator().next();
  assertEquals(1,row.get(0));
  assertEquals(8,row.get(1));
  final QueryCursor<List<?>> qry3=cache.queryFields(new QuerySqlPredicate<>("select no()"));
  GridTestUtils.assertThrows(log,new Callable<Object>(){
    @Override public Object call() throws Exception {
      qry3.getAll();
      return null;
    }
  }
,CacheException.class,null);
}
