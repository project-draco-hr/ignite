{
  IgniteCache<Integer,Object> cache=ignite.jcache(null);
  Object val=new Object(){
    @QuerySqlField private int field1=10;
    @Override public String toString(){
      return "Test anonymous object.";
    }
  }
;
  assertTrue(val.getClass().getName(),val.getClass().getName().endsWith("IgniteCacheAbstractQuerySelfTest$5"));
  cache.put(1,val);
  QueryCursor<Cache.Entry<Integer,Object>> q=cache.query(sql(val.getClass(),"_key >= 0"));
  Collection<Cache.Entry<Integer,Object>> res=q.getAll();
  assertEquals(1,res.size());
  List<List<?>> fieldsRes=cache.queryFields(sql("select field1 from IgniteCacheAbstractQuerySelfTest_5")).getAll();
  assertEquals(1,fieldsRes.size());
  List<?> fields=F.first(fieldsRes);
  assertEquals(1,fields.size());
  assertEquals(10,fields.get(0));
}
