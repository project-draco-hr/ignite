{
  URL cfgUrl=U.resolveGridGainUrl(cfgPath);
  if (cfgUrl == null)   throw new GridException("Spring XML file not found (is GRIDGAIN_HOME set?): " + cfgPath);
  ApplicationContext ctx=GridRouterCommandLineStartup.loadCfg(cfgUrl);
  if (ctx == null)   throw new GridException("Application context can not be null");
  GridTcpRouterConfiguration tcpCfg=getBean(ctx,GridTcpRouterConfiguration.class);
  if (tcpCfg == null)   throw new GridException("GridTcpRouterConfiguration is not found");
  GridRouterFactory.startTcpRouter(tcpCfg);
  GridHttpRouterConfiguration httpCfg=getBean(ctx,GridHttpRouterConfiguration.class);
  if (httpCfg == null)   throw new GridException("GridHttpRouterConfiguration is not found");
  GridRouterFactory.startHttpRouter(httpCfg);
}
