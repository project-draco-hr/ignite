{
  if (tx.internal() && !tx.groupLock())   return;
  GridCacheContext<K,V> lastCtx=null;
  int lastCacheId=0;
  for (  GridCacheTxEntry<K,V> txEntry : tx.allEntries()) {
    int cacheId=txEntry.key().cacheId();
    if (lastCtx == null || lastCacheId != cacheId) {
      lastCtx=cctx.cacheContext(cacheId);
      lastCacheId=cacheId;
    }
    lastCtx.evicts().touch(txEntry,tx.local());
  }
}
