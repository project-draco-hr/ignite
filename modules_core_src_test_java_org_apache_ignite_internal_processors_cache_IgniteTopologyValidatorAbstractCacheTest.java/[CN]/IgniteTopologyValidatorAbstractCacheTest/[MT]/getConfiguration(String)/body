{
  IgniteConfiguration iCfg=super.getConfiguration(gridName);
  CacheConfiguration cCfg0=cacheConfiguration(gridName);
  CacheConfiguration cCfg1=cacheConfiguration(gridName);
  cCfg1.setName(CACHE_NAME_1);
  CacheConfiguration cCfg2=cacheConfiguration(gridName);
  cCfg2.setName(CACHE_NAME_2);
  iCfg.setCacheConfiguration(cCfg0,cCfg1,cCfg2);
  for (  CacheConfiguration cCfg : iCfg.getCacheConfiguration()) {
    if (cCfg.getName() != null)     if (cCfg.getName().equals(CACHE_NAME_1))     cCfg.setTopologyValidator(new TopologyValidator(){
      @Override public boolean validate(      Collection<ClusterNode> nodes){
        return nodes.size() == 2;
      }
    }
);
 else     if (cCfg.getName().equals(CACHE_NAME_2))     cCfg.setTopologyValidator(new TopologyValidator(){
      @Override public boolean validate(      Collection<ClusterNode> nodes){
        return nodes.size() >= 2;
      }
    }
);
  }
  return iCfg;
}
