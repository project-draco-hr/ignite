{
  GridSecurityPermissionSet permSet=subj.permissions();
  for (  Map.Entry<String,Collection<GridSecurityPermission>> entry : permSet.taskPermissions().entrySet()) {
    String ptrn=entry.getKey();
    Collection<GridSecurityPermission> vals=Collections.unmodifiableCollection(entry.getValue());
    if (ptrn.endsWith("*")) {
      String noWildcard=ptrn.substring(0,ptrn.length() - 1);
      wildcardTaskPermissions.put(noWildcard,vals);
    }
 else     strictTaskPermissions.put(ptrn,vals);
  }
  for (  Map.Entry<String,Collection<GridSecurityPermission>> entry : permSet.cachePermissions().entrySet()) {
    String ptrn=entry.getKey();
    Collection<GridSecurityPermission> vals=Collections.unmodifiableCollection(entry.getValue());
    if (ptrn.endsWith("*")) {
      String noWildcard=ptrn.substring(0,ptrn.length() - 1);
      wildcardCachePermissions.put(noWildcard,vals);
    }
 else     strictCachePermissions.put(ptrn,vals);
  }
}
