{
  for (  GridPortRecord r : ctx.ports().records()) {
    if (r.protocol() == GridPortProtocol.TCP && protoCls.isAssignableFrom(r.clazz()))     return r.port();
  }
  return def;
}
