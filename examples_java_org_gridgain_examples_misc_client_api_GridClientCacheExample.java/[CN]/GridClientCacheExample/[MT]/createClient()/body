{
  GridClientConfiguration cfg=new GridClientConfiguration();
  if (SSL_ENABLED) {
    String home=GridExamplesUtils.resolveGridGainHome();
    GridSslBasicContextFactory sslFactory=new GridSslBasicContextFactory();
    sslFactory.setKeyStoreFilePath(home + "/examples/keystore/client.jks");
    sslFactory.setKeyStorePassword("123456".toCharArray());
    sslFactory.setTrustStoreFilePath(home + "/examples/keystore/trust.jks");
    sslFactory.setTrustStorePassword("123456".toCharArray());
    cfg.setSslContextFactory(sslFactory);
    cfg.setCredentials("s3cret");
  }
  GridClientDataConfiguration cacheCfg=new GridClientDataConfiguration();
  cacheCfg.setName("partitioned");
  cacheCfg.setAffinity(new GridClientPartitionedAffinity());
  cfg.setDataConfigurations(Collections.singletonList(cacheCfg));
  cfg.setServers(Collections.singletonList(SERVER_ADDRESS + ':' + GridConfiguration.DFLT_TCP_PORT));
  return GridClientFactory.start(cfg);
}
