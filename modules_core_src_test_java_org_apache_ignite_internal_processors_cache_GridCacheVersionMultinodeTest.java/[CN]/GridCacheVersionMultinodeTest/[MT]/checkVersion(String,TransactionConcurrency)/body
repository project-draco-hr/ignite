{
  IgniteCache<String,Integer> cache=jcache(0);
  Transaction tx=null;
  if (txMode != null)   tx=cache.unwrap(Ignite.class).transactions().txStart(txMode,REPEATABLE_READ);
  try {
    cache.put(key,1);
    if (tx != null)     tx.commit();
  }
  finally {
    if (tx != null)     tx.close();
  }
  checkEntryVersion(key);
}
