{
  final Semaphore sem=new Semaphore(taskCnt);
  final IgniteInClosure<IgniteFuture> lsnr=new CI1<IgniteFuture>(){
    @Override public void apply(    IgniteFuture t){
      sem.release();
    }
  }
;
  GridLoadTestUtils.runMultithreadedInLoop(new Callable<Object>(){
    @Nullable @Override public Object call() throws Exception {
      sem.acquire();
      IgniteCompute comp=g.compute().withAsync();
      comp.execute(GridJobExecutionLoadTestTask.class,null);
      ComputeTaskFuture<Object> f=comp.future();
      f.listenAsync(lsnr);
      iterCntr.increment();
      return null;
    }
  }
,threadCnt,dur > 0 ? dur : Long.MAX_VALUE);
}
