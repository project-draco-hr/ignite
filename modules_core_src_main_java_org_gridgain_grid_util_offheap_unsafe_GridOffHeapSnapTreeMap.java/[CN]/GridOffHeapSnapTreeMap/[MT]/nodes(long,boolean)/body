{
  if (node == 0)   return 0;
  return (nonNull && vOptIsNull(node) ? 0 : 1) + nodes(left(node),nonNull) + nodes(right(node),nonNull);
}
