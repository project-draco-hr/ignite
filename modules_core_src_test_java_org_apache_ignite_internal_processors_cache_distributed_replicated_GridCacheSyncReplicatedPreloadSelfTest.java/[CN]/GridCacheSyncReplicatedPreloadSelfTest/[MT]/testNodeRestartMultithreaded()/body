{
  final int keyCnt=1000;
  final int retries=50;
  int threadCnt=5;
  Ignite g0=startGrid(0);
  Ignite g1=startGrid(1);
  for (int i=0; i < keyCnt; i++)   g0.cache(null).put(i,i);
  assertEquals(keyCnt,((IgniteKernal)g0).internalCache(null).size());
  assertEquals(keyCnt,((IgniteKernal)g1).internalCache(null).size());
  final AtomicInteger cnt=new AtomicInteger();
  multithreaded(new Callable(){
    @Nullable @Override public Object call() throws Exception {
      while (true) {
        int c=cnt.incrementAndGet();
        if (c > retries)         break;
        int idx=c + 1;
        info("Starting additional grid node with index: " + idx);
        startGrid(idx);
        info("Stopping additional grid node with index: " + idx);
        stopGrid(idx);
      }
      return null;
    }
  }
,threadCnt);
}
