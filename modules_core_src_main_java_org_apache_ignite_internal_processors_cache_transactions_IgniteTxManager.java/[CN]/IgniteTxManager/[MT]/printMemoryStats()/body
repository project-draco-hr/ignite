{
  IgniteTxEx<K,V> firstTx=committedQ.peek();
  int committedSize=committedQ.size();
  Map.Entry<GridCacheVersion,AtomicInt> startVerEntry=startVerCnts.firstEntry();
  GridCacheVersion minStartVer=null;
  long dur=0;
  if (committedSize > 3000) {
    minStartVer=new GridCacheVersion(Integer.MAX_VALUE,Long.MAX_VALUE,Long.MAX_VALUE,Integer.MAX_VALUE,0);
    IgniteTxEx<K,V> stuck=null;
    for (    IgniteTxEx<K,V> tx : txs())     if (tx.startVersion().isLess(minStartVer)) {
      minStartVer=tx.startVersion();
      dur=U.currentTimeMillis() - tx.startTime();
      stuck=tx;
    }
    X.println("Stuck transaction: " + stuck);
  }
  X.println(">>> ");
  X.println(">>> Transaction manager memory stats [grid=" + cctx.gridName() + ']');
  X.println(">>>   threadMapSize: " + threadMap.size());
  X.println(">>>   idMap [size=" + idMap.size() + ", minStartVer="+ minStartVer+ ", dur="+ dur+ "ms]");
  X.println(">>>   committedQueue [size=" + committedSize + ", firstStartVersion="+ (firstTx == null ? "null" : firstTx.startVersion())+ ", firstEndVersion="+ (firstTx == null ? "null" : firstTx.endVersion())+ ']');
  X.println(">>>   prepareQueueSize: " + prepareQ.size());
  X.println(">>>   startVerCntsSize [size=" + startVerCnts.size() + ", firstVer="+ startVerEntry+ ']');
  X.println(">>>   completedVersSize: " + completedVers.size());
}
