{
  if (F.isEmpty(keys))   return Collections.emptyMap();
  GridNode loc=ctx.discovery().localNode();
  if (U.hasCache(loc,cacheName) && ctx.cache().cache(cacheName).configuration().getCacheMode() == LOCAL)   return F.asMap(loc,(Collection<K>)keys);
  GridAffinityCache affCache=affinityCache(cacheName);
  return affCache != null ? affinityMap(affCache,keys) : Collections.<GridNode,Collection<K>>emptyMap();
}
