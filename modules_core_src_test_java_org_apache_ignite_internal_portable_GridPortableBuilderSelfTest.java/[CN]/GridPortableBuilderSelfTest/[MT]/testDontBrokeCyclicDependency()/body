{
  TestObjectOuter outer=new TestObjectOuter();
  outer.inner=new TestObjectInner();
  outer.inner.outer=outer;
  outer.foo="a";
  PortableBuilder builder=builder(toPortable(outer));
  builder.setField("foo","b");
  TestObjectOuter res=builder.build().deserialize();
  assertEquals("b",res.foo);
  assertSame(res,res.inner.outer);
}
