{
  IgniteConfiguration c=super.getConfiguration(gridName);
  GridTcpDiscoverySpi disco=new GridTcpDiscoverySpi();
  disco.setIpFinder(ipFinder);
  c.setDiscoverySpi(disco);
  c.setIncludeEventTypes(EVT_TASK_FAILED,EVT_TASK_FINISHED,EVT_JOB_MAPPED);
  c.setIncludeProperties();
  c.setDeploymentMode(GridDeploymentMode.SHARED);
  c.setNetworkTimeout(10000);
  c.setRestEnabled(false);
  c.setMarshaller(new IgniteOptimizedMarshaller(false));
  c.setExecutorService(new GridThreadPoolExecutor(10,10,0,new LinkedBlockingQueue<Runnable>()));
  c.setSystemExecutorService(new GridThreadPoolExecutor(10,10,0,new LinkedBlockingQueue<Runnable>()));
  c.setPeerClassLoadingExecutorService(new GridThreadPoolExecutor(3,3,0,new LinkedBlockingQueue<Runnable>()));
  c.setLifecycleBeans(lifecycleBean);
  return c;
}
