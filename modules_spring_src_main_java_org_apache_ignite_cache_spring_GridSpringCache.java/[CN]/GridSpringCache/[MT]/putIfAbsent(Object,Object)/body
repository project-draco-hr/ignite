{
  try {
    Object old=cache.putIfAbsent(keyFactory.apply(key),val);
    return old != null ? new SimpleValueWrapper(old) : null;
  }
 catch (  IgniteCheckedException e) {
    throw new IgniteException("Failed to put value to cache [cacheName=" + cache.name() + ", key="+ key+ ", val="+ val+ ']',e);
  }
}
