{
  VisorQueryConfiguration c=null;
  if (qcfg != null) {
    c=new VisorQueryConfiguration();
    Class<?>[] clss=qcfg.getIndexCustomFunctionClasses();
    int sz=clss != null ? clss.length : 0;
    String[] strClss=new String[sz];
    for (int i=0; i < sz; i++)     strClss[i]=U.compact(clss[i].getName());
    c.indexCustomFunctionClasses(strClss);
    c.searchPath(qcfg.getSearchPath());
    c.initialScriptPath(qcfg.getInitialScriptPath());
    c.maxOffHeapMemory(qcfg.getMaxOffHeapMemory());
    c.longQueryExecutionTimeout(qcfg.getLongQueryExecutionTimeout());
    c.longQueryExplain(qcfg.isLongQueryExplain());
    c.useOptimizedSerializer(qcfg.isUseOptimizedSerializer());
  }
  return c;
}
