{
  final GridClientData data=client.data(CACHE_NAME);
  final GridClientData readData=data.flagsOn(GridClientCacheFlag.SKIP_STORE);
  final GridClientData writeData=readData.flagsOff(GridClientCacheFlag.SKIP_STORE);
  assertEquals(Collections.singleton(GridClientCacheFlag.SKIP_STORE),readData.flags());
  assertTrue(writeData.flags().isEmpty());
  for (int i=0; i < 100; i++) {
    String key=UUID.randomUUID().toString();
    Object val=UUID.randomUUID().toString();
    assertTrue(writeData.put(key,val));
    assertEquals(val,readData.get(key));
    assertEquals(val,writeData.get(key));
    assertTrue(readData.remove(key));
    assertNull(readData.get(key));
    assertEquals(val,writeData.get(key));
    assertEquals(val,readData.get(key));
    assertTrue(writeData.remove(key));
    assertNull(readData.get(key));
    assertNull(writeData.get(key));
  }
}
