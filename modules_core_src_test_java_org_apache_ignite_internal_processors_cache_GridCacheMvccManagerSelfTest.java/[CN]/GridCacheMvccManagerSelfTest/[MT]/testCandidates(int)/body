{
  try {
    Ignite ignite=startGridsMultiThreaded(gridCnt);
    GridCache<Integer,Integer> cache=ignite.cache(null);
    IgniteTx tx=cache.txStart();
    cache.put(1,1);
    tx.commit();
    for (int i=0; i < gridCnt; i++) {
      assert((IgniteKernal)grid(i)).internalCache().context().mvcc().localCandidates().isEmpty();
      assert((IgniteKernal)grid(i)).internalCache().context().mvcc().remoteCandidates().isEmpty();
    }
  }
  finally {
    stopAllGrids();
  }
}
