{
  for (  GridGgfsContext ggfsCtx : ggfsCache.values()) {
    if (log.isDebugEnabled())     log.debug("Stopping ggfs: " + ggfsCtx.configuration().getName());
    List<GridGgfsManager> mgrs=ggfsCtx.managers();
    for (ListIterator<GridGgfsManager> it=mgrs.listIterator(mgrs.size()); it.hasPrevious(); ) {
      GridGgfsManager mgr=it.previous();
      mgr.stop(cancel);
    }
    ggfsCtx.ggfs().stop();
  }
  ggfsCache.clear();
  if (log.isDebugEnabled())   log.debug("GGFS processor stopped.");
}
