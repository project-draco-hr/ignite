{
  if (nop)   return new GridGgfsNopProcessor(ctx);
 else {
    try {
      Class<?> cls=Class.forName(CLS_NAME);
      Constructor<?> ctor=cls.getConstructor(GridKernalContext.class);
      return (GridGgfsProcessor)ctor.newInstance(ctx);
    }
 catch (    ClassNotFoundException e) {
      throw new GridException("Failed to instantiate GGFS processor because it's class is not found " + "(is it in classpath?): " + CLS_NAME,e);
    }
catch (    NoSuchMethodException e) {
      throw new GridException("Failed to instantiate GGFS processor because it's class doesn't have " + "required constructor (is class version correct?): " + CLS_NAME,e);
    }
catch (    ReflectiveOperationException e) {
      throw new GridException("Failed to instantiate GGFS processor: " + CLS_NAME,e);
    }
  }
}
