{
  byte[] arr=marshal(obj);
  try {
    out.write(arr);
  }
 catch (  IOException e) {
    throw new PortableException("Failed to marshal the object: " + obj,e);
  }
}
