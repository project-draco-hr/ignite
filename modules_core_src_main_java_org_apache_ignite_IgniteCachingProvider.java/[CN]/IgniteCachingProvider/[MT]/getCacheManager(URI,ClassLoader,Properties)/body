{
  if (uri == null)   uri=getDefaultURI();
  if (clsLdr == null)   clsLdr=getDefaultClassLoader();
synchronized (cacheManagers) {
    Map<URI,IgniteCacheManager> uriMap=cacheManagers.get(clsLdr);
    if (uriMap == null) {
      uriMap=new HashMap<>();
      cacheManagers.put(clsLdr,uriMap);
    }
    IgniteCacheManager mgr=uriMap.get(uri);
    if (mgr == null || mgr.isClosed()) {
      mgr=new IgniteCacheManager(uri,this,clsLdr,props);
      uriMap.put(uri,mgr);
    }
    return mgr;
  }
}
