{
  Map<String,GridGgfsMode> pathModes=new HashMap<>();
  pathModes.put("path1",PRIMARY);
  pathModes.put("path2",PROXY);
  GridGgfsAttributes attrs=new GridGgfsAttributes("testGgfsName",513000,888,"meta","data",DUAL_SYNC,pathModes,true);
  ByteArrayOutputStream bos=new ByteArrayOutputStream();
  ObjectOutput os=new ObjectOutputStream(bos);
  os.writeObject(attrs);
  os.close();
  GridGgfsAttributes deserializedAttrs=(GridGgfsAttributes)new ObjectInputStream(new ByteArrayInputStream(bos.toByteArray())).readObject();
  assertTrue(eq(attrs,deserializedAttrs));
}
