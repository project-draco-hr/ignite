{
  Object rootLog;
  Object nullApp;
  try {
    Class<?> logCls=Class.forName("org.apache.log4j.Logger");
    rootLog=logCls.getMethod("getRootLogger").invoke(logCls);
    try {
      nullApp=Class.forName("org.apache.log4j.varia.NullAppender").newInstance();
    }
 catch (    ClassNotFoundException ignore) {
      return new IgniteBiTuple<>(rootLog,null);
    }
    Class appCls=Class.forName("org.apache.log4j.Appender");
    rootLog.getClass().getMethod("addAppender",appCls).invoke(rootLog,nullApp);
  }
 catch (  Exception e) {
    throw new IgniteCheckedException("Failed to add no-op logger for Log4j.",e);
  }
  return new IgniteBiTuple<>(rootLog,nullApp);
}
