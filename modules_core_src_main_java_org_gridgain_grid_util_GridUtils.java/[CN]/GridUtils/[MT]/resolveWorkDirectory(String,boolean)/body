{
  File dir=new File(path);
  if (!dir.isAbsolute()) {
    String ggWork0=ggWork;
    if (F.isEmpty(ggWork0))     throw new GridException("Failed to resolve path (work directory has not been set): " + path);
    dir=new File(ggWork0,dir.getPath());
  }
  if (delIfExist && dir.exists()) {
    if (!U.delete(dir))     throw new GridException("Failed to delete directory: " + dir);
  }
  if (!mkdirs(dir))   throw new GridException("Directory does not exist and cannot be created: " + dir);
  if (!dir.canRead())   throw new GridException("Cannot read from directory: " + dir);
  if (!dir.canWrite())   throw new GridException("Cannot write to directory: " + dir);
  return dir;
}
