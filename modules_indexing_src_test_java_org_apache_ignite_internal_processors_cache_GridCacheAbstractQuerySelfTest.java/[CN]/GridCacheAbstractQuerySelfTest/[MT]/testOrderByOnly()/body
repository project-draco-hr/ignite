{
  GridCache<Integer,Integer> cache=ignite.cache(null);
  for (int i=0; i < 10; i++)   assertTrue(cache.putx(i,i));
  CacheQuery<Map.Entry<Integer,Integer>> q=cache.queries().createSqlQuery(Integer.class,"order by _val");
  q.enableDedup(true);
  Collection<Map.Entry<Integer,Integer>> res=q.execute().get();
  assertEquals(10,res.size());
  if (cacheMode() != PARTITIONED) {
    Iterator<Map.Entry<Integer,Integer>> it=res.iterator();
    for (Integer i=0; i < 10; i++) {
      assertTrue(it.hasNext());
      Map.Entry<Integer,Integer> e=it.next();
      assertEquals(i,e.getKey());
      assertEquals(i,e.getValue());
    }
  }
}
