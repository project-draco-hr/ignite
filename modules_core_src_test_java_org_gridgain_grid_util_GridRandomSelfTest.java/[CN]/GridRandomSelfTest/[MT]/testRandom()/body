{
  for (int i=0; i < 100; i++) {
    long seed=ThreadLocalRandom.current().nextLong();
    Random rnd1=new Random(seed);
    Random rnd2=new GridRandom(seed);
    for (int j=1; j < 100000; j++) {
      assertEquals(rnd1.nextInt(),rnd2.nextInt());
      assertEquals(rnd1.nextInt(j),rnd2.nextInt(j));
      assertEquals(rnd1.nextLong(),rnd2.nextLong());
      assertEquals(rnd1.nextBoolean(),rnd2.nextBoolean());
      if (j % 1000 == 0) {
        seed=ThreadLocalRandom.current().nextLong();
        rnd1.setSeed(seed);
        rnd2.setSeed(seed);
      }
    }
  }
}
