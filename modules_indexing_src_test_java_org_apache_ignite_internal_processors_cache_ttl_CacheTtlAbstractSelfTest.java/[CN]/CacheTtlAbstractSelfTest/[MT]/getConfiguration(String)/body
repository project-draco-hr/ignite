{
  IgniteConfiguration cfg=super.getConfiguration(gridName);
  CacheConfiguration cache=new CacheConfiguration();
  cache.setCacheMode(cacheMode());
  cache.setAtomicityMode(atomicityMode());
  cache.setMemoryMode(memoryMode());
  cache.setOffHeapMaxMemory(0);
  cache.setEvictionPolicy(new LruEvictionPolicy(MAX_CACHE_SIZE));
  cache.setIndexedTypes(Integer.class,Integer.class);
  cache.setExpiryPolicyFactory(FactoryBuilder.factoryOf(new TouchedExpiryPolicy(new Duration(MILLISECONDS,DEFAULT_TIME_TO_LIVE))));
  cfg.setCacheConfiguration(cache);
  TcpDiscoverySpi disco=new TcpDiscoverySpi();
  disco.setIpFinder(IP_FINDER);
  cfg.setDiscoverySpi(disco);
  return cfg;
}
