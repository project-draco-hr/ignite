{
  for (int i=0; i < processArgs.length; i++) {
    String arg=processArgs[i];
    if ("-p".equals(arg)) {
      if (i == processArgs.length - 1)       throw new Exception("Missing process class name for '-p' parameter");
      String processClsName=processArgs[i + 1];
      Class<?> cls=Class.forName(processClsName);
      Constructor<?> ctor=cls.getConstructor(String[].class);
      return (GridHadoopChildProcessBase)ctor.newInstance(processArgs);
    }
  }
  throw new Exception("Failed to find process class name in arguments.");
}
