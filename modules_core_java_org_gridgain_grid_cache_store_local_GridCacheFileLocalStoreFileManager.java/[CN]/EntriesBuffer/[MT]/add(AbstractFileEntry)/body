{
  if (!tryAcquire(e.len))   return false;
  e.pos=bufPos;
  if (head.compareAndSet(null,e))   return true;
  for (; ; ) {
    AbstractFileEntry prev=head.get();
    e.pos=prev.pos + prev.len;
    e.prev=prev;
    if (head.compareAndSet(prev,e))     return true;
  }
}
