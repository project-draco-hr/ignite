{
  EntriesBuffer buf=curBuf;
  if (buf == null)   return 0;
  try {
    if (buf.isEmpty() || flush(buf,null,false))     return store.writeDelay;
  }
 catch (  IOException e) {
    throw new GridRuntimeException(e);
  }
  long t=U.microTime();
  return Math.max(buf.created + store.writeDelay - t,0);
}
