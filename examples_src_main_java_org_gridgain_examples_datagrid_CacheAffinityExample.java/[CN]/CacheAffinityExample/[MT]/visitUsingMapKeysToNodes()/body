{
  final Grid g=GridGain.grid();
  Collection<Integer> keys=new ArrayList<>(KEY_CNT);
  for (int i=0; i < KEY_CNT; i++)   keys.add(i);
  Map<GridNode,Collection<Integer>> mappings=g.mapKeysToNodes(CACHE_NAME,keys);
  for (  Map.Entry<GridNode,Collection<Integer>> mapping : mappings.entrySet()) {
    GridNode node=mapping.getKey();
    final Collection<Integer> mappedKeys=mapping.getValue();
    if (node != null) {
      g.forNode(node).compute().run(new GridRunnable(){
        @Override public void run(){
          GridCache<Integer,String> cache=g.cache(CACHE_NAME);
          for (          Integer key : mappedKeys)           System.out.println("Co-located using mapKeysToNodes [key= " + key + ", value="+ cache.peek(key)+ ']');
        }
      }
);
    }
  }
}
