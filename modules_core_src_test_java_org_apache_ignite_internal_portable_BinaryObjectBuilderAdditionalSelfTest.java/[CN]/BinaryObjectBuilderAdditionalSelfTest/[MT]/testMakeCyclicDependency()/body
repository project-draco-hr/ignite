{
  TestObjectOuter outer=new TestObjectOuter();
  outer.inner=new TestObjectInner();
  BinaryObjectBuilderImpl mutOuter=wrap(outer);
  BinaryObjectBuilderImpl mutInner=mutOuter.getField("inner");
  mutInner.setField("outer",mutOuter);
  mutInner.setField("foo",mutInner);
  TestObjectOuter res=mutOuter.build().deserialize();
  assertEquals(res,res.inner.outer);
  assertEquals(res.inner,res.inner.foo);
}
