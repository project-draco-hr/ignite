{
  Ignition.setClientMode(true);
  Ignite ignite=Ignition.start("examples/config/example-ignite.xml");
  if (!ExamplesUtils.hasServerNodes(ignite)) {
    ignite.close();
    return;
  }
  IgniteCache<AffinityUuid,String> stmCache=ignite.getOrCreateCache(CacheConfig.wordCache());
  IgniteDataStreamer<AffinityUuid,String> stmr=ignite.dataStreamer(stmCache.getName());
  InetAddress addr=InetAddress.getLocalHost();
  SocketStreamer<String,AffinityUuid,String> sockStmr=new SocketStreamer<>();
  sockStmr.setAddr(addr);
  sockStmr.setPort(PORT);
  sockStmr.setIgnite(ignite);
  sockStmr.setStreamer(stmr);
  sockStmr.setTupleExtractor(new StreamTupleExtractor<String,AffinityUuid,String>(){
    @Override public Map.Entry<AffinityUuid,String> extract(    String word){
      return new IgniteBiTuple<>(new AffinityUuid(word),word);
    }
  }
);
  sockStmr.start();
}
