{
  for (int i=0; i < gridCount(); i++) {
    GridKernal grid=(GridKernal)grid(i);
    GridCacheQueryManager queries=grid.internalCache(null).context().queries();
    Map map=GridTestUtils.getFieldValue(queries,GridCacheQueryManager.class,"qryIters");
    for (    Object obj : map.values())     assertEquals("Iterators not removed for grid " + i,0,((Map)obj).size());
    GridCacheDataStructuresManager ds=grid.internalCache(null).context().dataStructures();
    map=GridTestUtils.getFieldValue(ds,"setsMap");
    assertEquals("Set not removed [grid=" + i + ", map="+ map+ ']',0,map.size());
    map=GridTestUtils.getFieldValue(ds,"setDataMap");
    assertEquals("Set data not removed [grid=" + i + ", map="+ map+ ']',0,map.size());
  }
}
