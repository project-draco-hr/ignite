{
  TcpDiscoverySpi disc=new TcpDiscoverySpi();
  disc.setLocalAddress("localhost");
  GridTcpDiscoveryVmIpFinder ipFinder=new GridTcpDiscoveryVmIpFinder();
  Collection<String> addrs=new ArrayList<>();
  for (int i=0; i < 10; i++)   addrs.add("localhost:" + (TcpDiscoverySpi.DFLT_PORT + i));
  ipFinder.setAddresses(addrs);
  disc.setIpFinder(ipFinder);
  return disc;
}
