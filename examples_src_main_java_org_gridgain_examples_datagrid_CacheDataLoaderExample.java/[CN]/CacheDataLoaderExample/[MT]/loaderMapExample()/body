{
  ExamplesUtils.checkMinMemory(MIN_MEMORY);
  try (Grid g=GridGain.start("examples/config/example-cache.xml")){
    System.out.println();
    System.out.println(">>> Cache data loader with Map example started.");
    g.cache(CACHE_NAME).globalClearAll(0);
    try (GridDataLoader<Integer,String> ldr=g.dataLoader(CACHE_NAME)){
      ldr.perNodeBufferSize(LDR_BUFF);
      long start=System.currentTimeMillis();
      Map<Integer,String> m=new HashMap<>(ENTRY_COUNT);
      for (int i=0; i < ENTRY_COUNT; i++) {
        m.put(i,Integer.toString(i));
      }
      System.out.println(">>> Map prepared for " + ENTRY_COUNT + " keys in "+ (System.currentTimeMillis() - start)+ "ms.");
      start=System.currentTimeMillis();
      ldr.addData(m);
      ldr.close(false);
      System.out.println(">>> Loaded " + ENTRY_COUNT + " keys in "+ (System.currentTimeMillis() - start)+ "ms.");
      checkCache(g);
      System.out.println(">>> Cache data loader example with Map finished.");
    }
   }
 }
