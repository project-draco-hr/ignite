{
  GridKernal kernal=((GridKernal)grid());
  GridRestProcessor proc=kernal.context().rest();
  Field hndField=proc.getClass().getDeclaredField("handlers");
  hndField.setAccessible(true);
  Collection handlers=(Collection)hndField.get(proc);
  Collection cp=new ArrayList(handlers);
  handlers.clear();
  try {
    GridTestUtils.assertThrows(log,new Callable<Object>(){
      @Override public Object call() throws Exception {
        return client.cacheGet(null,"key");
      }
    }
,GridException.class,"Failed to process client request: Failed to find registered handler for command: CACHE_GET");
  }
  finally {
    handlers.addAll(cp);
  }
}
