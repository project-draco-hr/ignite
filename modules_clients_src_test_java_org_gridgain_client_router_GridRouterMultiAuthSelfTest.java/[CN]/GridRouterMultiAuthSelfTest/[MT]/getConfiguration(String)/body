{
  GridTcpDiscoverySpi disco=new GridTcpDiscoverySpi();
  disco.setIpFinder(IP_FINDER);
  GridCacheConfiguration cacheCfg=defaultCacheConfiguration();
  cacheCfg.setCacheMode(LOCAL);
  cacheCfg.setName(CACHE_NAME);
  cacheCfg.setWriteSynchronizationMode(FULL_SYNC);
  GridPasscodeAuthenticationSpi authSpi=new GridPasscodeAuthenticationSpi();
  authSpi.setPasscodes(F.asMap(GridSecuritySubjectType.REMOTE_CLIENT,PASSCODE));
  GridSecureSessionSpi sesSpi=new GridRememberMeSecureSessionSpi();
  GridConfiguration cfg=super.getConfiguration(gridName);
  cfg.setLocalHost(HOST);
  cfg.setRestTcpPort(BINARY_PORT);
  cfg.setRestEnabled(true);
  cfg.setDiscoverySpi(disco);
  cfg.setCacheConfiguration(cacheCfg);
  cfg.setAuthenticationSpi(authSpi);
  cfg.setSecureSessionSpi(sesSpi);
  return cfg;
}
