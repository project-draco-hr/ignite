{
  if (cache == null)   cache=ctx.cache().marshallerCache();
  try {
    String old=cache.putIfAbsent(id,clsName);
    if (old != null && !old.equals(clsName))     throw new IgniteException("Type ID collision occured in OptimizedMarshaller. Use " + "OptimizedMarshallerIdMapper to resolve it [id=" + id + ", clsName1="+ clsName+ "clsName2="+ old+ ']');
  }
 catch (  IgniteCheckedException e) {
    throw new IgniteException(e);
  }
}
