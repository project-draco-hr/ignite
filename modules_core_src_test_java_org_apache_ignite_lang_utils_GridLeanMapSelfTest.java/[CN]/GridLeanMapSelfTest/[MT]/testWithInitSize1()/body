{
  Map<String,String> map=new GridLeanMap<>(4);
  checkEmptyMap(map);
  checkImpl(map,"Map4");
  map.put("k1","v1");
  assertEquals(1,map.size());
  checkImpl(map,"Map4");
  map.put("k2","v2");
  assertEquals(2,map.size());
  checkImpl(map,"Map4");
  map.put("k2","v2");
  assertEquals(2,map.size());
  checkImpl(map,"Map4");
  map.put("k3","v3");
  assertEquals(3,map.size());
  checkImpl(map,"Map4");
  map.put("k4","v4");
  assertEquals(4,map.size());
  checkImpl(map,"Map4");
  map.put("k5","v5");
  assertEquals(5,map.size());
  checkImpl(map,"Map5");
  map.put("k6","v6");
  assertEquals(6,map.size());
  checkImpl(map,"LeanHashMap");
  map=new GridLeanMap<>(4);
  checkEmptyMap(map);
  checkImpl(map,"Map4");
  map.put("k1","v1");
  assertEquals(1,map.size());
  checkImpl(map,"Map4");
  map.put("k2","v2");
  assertEquals(2,map.size());
  checkImpl(map,"Map4");
  assertEquals("v1",map.remove("k1"));
  checkImpl(map,"Map1");
}
