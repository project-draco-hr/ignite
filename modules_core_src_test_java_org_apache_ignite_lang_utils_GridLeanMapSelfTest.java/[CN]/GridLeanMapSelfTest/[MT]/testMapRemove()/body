{
  Map<String,String> map=new GridLeanMap<>(0);
  map.put("k1","v1");
  checkImpl(map,"Map1");
  assertEquals("v1",map.remove("k1"));
  checkEmptyMap(map);
  checkImpl(map,null);
  map.put("k1","v1");
  map.put("k2","v2");
  checkImpl(map,"Map2");
  assertEquals("v1",map.remove("k1"));
  assertEquals("v2",map.remove("k2"));
  checkEmptyMap(map);
  checkImpl(map,null);
  map.put("k1","v1");
  map.put("k2","v2");
  map.put("k3","v3");
  map.put("k4","v4");
  map.put("k5","v5");
  map.put("k6","v6");
  map.put("k7","v7");
  checkImpl(map,"LeanHashMap");
  checkImplBySize(map);
  assertEquals("v1",map.remove("k1"));
  assertEquals("v2",map.remove("k2"));
  assertEquals("v3",map.remove("k3"));
  assertEquals("v4",map.remove("k4"));
  assertEquals("v5",map.remove("k5"));
  assertEquals("v6",map.remove("k6"));
  assertEquals("v7",map.remove("k7"));
  checkEmptyMap(map);
  checkImpl(map,null);
}
