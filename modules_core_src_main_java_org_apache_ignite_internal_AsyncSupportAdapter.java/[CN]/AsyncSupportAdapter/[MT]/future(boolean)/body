{
  if (curFut == null)   throw new IllegalStateException("Asynchronous mode is disabled.");
  IgniteFuture<?> fut=curFut.get();
  if (fut == null)   throw new IllegalStateException("Asynchronous operation not started.");
  if (reset)   curFut.set(null);
  return (IgniteFuture<R>)fut;
}
