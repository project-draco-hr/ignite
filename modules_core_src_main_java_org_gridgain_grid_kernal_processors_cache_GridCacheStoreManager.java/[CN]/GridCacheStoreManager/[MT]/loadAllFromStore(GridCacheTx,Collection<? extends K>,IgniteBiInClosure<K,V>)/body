{
  if (store != null) {
    if (log.isDebugEnabled())     log.debug("Loading values from store for keys: " + keys);
    if (!keys.isEmpty()) {
      if (keys.size() == 1) {
        K key=F.first(keys);
        vis.apply(key,loadFromStore(tx,key));
        return true;
      }
      try {
        singleThreadGate.loadAll(tx,keys,new CI2<K,Object>(){
          @Override public void apply(          K k,          Object v){
            vis.apply(k,convert(v));
          }
        }
);
      }
 catch (      ClassCastException e) {
        handleClassCastException(e);
      }
catch (      IgniteException e) {
        throw U.cast(e);
      }
    }
    if (log.isDebugEnabled())     log.debug("Loaded values from store for keys: " + keys);
    return true;
  }
  return false;
}
