{
  if (store != null) {
    if (log.isDebugEnabled())     log.debug("Storing value in cache store [key=" + key + ", val="+ val+ ']');
    if (key instanceof GridCacheInternal) {
      return true;
    }
 else {
      try {
        store.put(tx != null && !tx.implicit() ? tx : null,key,locStore ? F.t(val,ver) : val);
      }
 catch (      ClassCastException e) {
        handleClassCastException(e);
      }
    }
    if (log.isDebugEnabled())     log.debug("Stored value in cache store [key=" + key + ", val="+ val+ ']');
    return true;
  }
  return false;
}
