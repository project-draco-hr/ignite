{
  IgniteConfiguration g2Cfg=getConfiguration("g2");
  IgniteFsConfiguration g2GgfsCfg1=new IgniteFsConfiguration(g1GgfsCfg1);
  IgniteFsConfiguration g2GgfsCfg2=new IgniteFsConfiguration(g1GgfsCfg2);
  g2GgfsCfg1.setPathModes(Collections.singletonMap("/somePath",DUAL_SYNC));
  g2GgfsCfg2.setPathModes(Collections.singletonMap("/somePath",DUAL_SYNC));
  g1Cfg.setCacheConfiguration(concat(dataCaches(1024),metaCaches(),CacheConfiguration.class));
  g2Cfg.setCacheConfiguration(concat(dataCaches(1024),metaCaches(),CacheConfiguration.class));
  g2Cfg.setGgfsConfiguration(g2GgfsCfg1,g2GgfsCfg2);
  G.start(g1Cfg);
  checkGridStartFails(g2Cfg,"Path modes should be the same on all nodes in grid for GGFS",false);
}
