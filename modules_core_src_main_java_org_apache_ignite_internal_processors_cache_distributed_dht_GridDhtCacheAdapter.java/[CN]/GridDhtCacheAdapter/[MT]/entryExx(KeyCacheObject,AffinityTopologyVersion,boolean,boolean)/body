{
  try {
    return allowDetached && !ctx.affinity().localNode(key,topVer) ? createEntry(key) : entryEx(key,touch);
  }
 catch (  GridDhtInvalidPartitionException e) {
    if (!allowDetached)     throw e;
    return createEntry(key);
  }
}
