{
  String queueName=UUID.randomUUID().toString();
  IgniteQueue<Integer> queue=grid(0).queue(queueName,config(true),QUEUE_CAPACITY,true);
  assertTrue(queue.isEmpty());
  for (int i=GRID_CNT; i < GRID_CNT * 3; i++) {
    startGrid(i);
    forLocal(grid(i)).call(new PutTakeJob(queueName,config(true),RETRIES));
    if (i < (GRID_CNT * 3) - 1)     stopGrid(i);
  }
  queue=grid((GRID_CNT * 3) - 1).queue(queueName,config(true),QUEUE_CAPACITY,true);
  assertEquals(0,queue.size());
}
