{
  try {
    PortableMetadata meta=po.metaData();
    if (meta != null) {
      String affKeyFieldName=meta.affinityKeyFieldName();
      if (affKeyFieldName != null)       return po.field(affKeyFieldName);
    }
  }
 catch (  PortableException e) {
    U.error(log,"Failed to get affinity field from portable object: " + po,e);
  }
  return po;
}
