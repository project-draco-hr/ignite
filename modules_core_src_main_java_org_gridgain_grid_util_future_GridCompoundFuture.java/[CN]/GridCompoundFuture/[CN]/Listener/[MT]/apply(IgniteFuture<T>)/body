{
  pending.remove(fut);
  try {
    T t=fut.get();
    try {
      if (rdc != null && !rdc.collect(t) && !res.isMarked())       res.compareAndSet(null,rdc.reduce(),false,true);
    }
 catch (    RuntimeException e) {
      U.error(log,"Failed to execute compound future reducer: " + this,e);
      onDone(e);
    }
catch (    AssertionError e) {
      U.error(log,"Failed to execute compound future reducer: " + this,e);
      onDone(e);
      throw e;
    }
  }
 catch (  IgniteTxOptimisticException e) {
    if (log.isDebugEnabled())     log.debug("Optimistic failure [fut=" + GridCompoundFuture.this + ", err="+ e+ ']');
    err.compareAndSet(null,e);
  }
catch (  ClusterTopologyException e) {
    if (log.isDebugEnabled())     log.debug("Topology exception [fut=" + GridCompoundFuture.this + ", err="+ e+ ']');
    err.compareAndSet(null,e);
  }
catch (  IgniteFutureCancelledException e) {
    if (log.isDebugEnabled())     log.debug("Failed to execute compound future reducer [lsnr=" + this + ", e="+ e+ ']');
    err.compareAndSet(null,e);
  }
catch (  IgniteCheckedException e) {
    if (!ignoreFailure(e))     U.error(log,"Failed to execute compound future reducer: " + this,e);
    err.compareAndSet(null,e);
  }
catch (  RuntimeException e) {
    U.error(log,"Failed to execute compound future reducer: " + this,e);
    err.compareAndSet(null,e);
  }
catch (  AssertionError e) {
    U.error(log,"Failed to execute compound future reducer: " + this,e);
    onDone(e);
    throw e;
  }
  lsnrCalls.incrementAndGet();
  checkComplete();
}
