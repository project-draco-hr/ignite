{
  final GridPortables p=g.portables();
  final Collection<VisorPortableMetadata> data=new ArrayList<>(p.metadata().size());
  for (  GridPortableMetadata metadata : p.metadata()) {
    final VisorPortableMetadata type=new VisorPortableMetadata();
    type.typeName(metadata.typeName());
    type.typeId(p.typeId(metadata.typeName()));
    final Collection<VisorPortableMetadataField> fields=new ArrayList<>(metadata.fields().size());
    for (    String fieldName : metadata.fields()) {
      final VisorPortableMetadataField field=new VisorPortableMetadataField();
      field.fieldName(fieldName);
      field.fieldTypeName(metadata.fieldTypeName(fieldName));
      fields.add(field);
    }
    type.fields(fields);
    data.add(type);
  }
  return new IgniteBiTuple<>(0L,data);
}
