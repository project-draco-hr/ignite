{
  CacheConfiguration cacheCfg=new CacheConfiguration();
  cacheCfg.setName(cacheName);
  cacheCfg.setCacheMode(getCacheMode());
  cacheCfg.setAtomicityMode(getAtomicMode());
  cacheCfg.setDistributionMode(getDisrtMode());
  cacheCfg.setWriteSynchronizationMode(FULL_SYNC);
  cacheCfg.setPreloadMode(SYNC);
  if (gridName.endsWith("1"))   cacheCfg.setCacheStoreFactory(new FactoryBuilder.SingletonFactory<CacheStore>(LOCAL_STORE_1));
 else   if (gridName.endsWith("2"))   cacheCfg.setCacheStoreFactory(new FactoryBuilder.SingletonFactory<CacheStore>(LOCAL_STORE_2));
 else   cacheCfg.setCacheStoreFactory(new FactoryBuilder.SingletonFactory<CacheStore>(LOCAL_STORE_3));
  cacheCfg.setWriteThrough(true);
  cacheCfg.setReadThrough(true);
  cacheCfg.setWriteBehindBatchSize(1);
  cacheCfg.setWriteBehindFlushFrequency(1);
  cacheCfg.setWriteBehindFlushSize(1);
  cacheCfg.setBackups(backups);
  return cacheCfg;
}
