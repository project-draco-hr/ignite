{
  CacheConfiguration cacheCfg=new CacheConfiguration();
  cacheCfg.setName(cacheName);
  cacheCfg.setCacheMode(getCacheMode());
  cacheCfg.setAtomicityMode(getAtomicMode());
  cacheCfg.setNearConfiguration(nearConfiguration());
  cacheCfg.setWriteSynchronizationMode(FULL_SYNC);
  if (primaryWriteOrderMode)   cacheCfg.setAtomicWriteOrderMode(PRIMARY);
  cacheCfg.setRebalanceMode(SYNC);
  if (gridName.endsWith("1"))   cacheCfg.setCacheStoreFactory(singletonFactory(LOCAL_STORE_1));
 else   if (gridName.endsWith("2"))   cacheCfg.setCacheStoreFactory(singletonFactory(LOCAL_STORE_2));
 else   if (gridName.endsWith("3"))   cacheCfg.setCacheStoreFactory(singletonFactory(LOCAL_STORE_3));
 else   if (gridName.endsWith("4"))   cacheCfg.setCacheStoreFactory(singletonFactory(LOCAL_STORE_4));
 else   if (gridName.endsWith("5"))   cacheCfg.setCacheStoreFactory(singletonFactory(LOCAL_STORE_5));
 else   cacheCfg.setCacheStoreFactory(singletonFactory(LOCAL_STORE_6));
  cacheCfg.setWriteThrough(true);
  cacheCfg.setReadThrough(true);
  cacheCfg.setBackups(backups);
  cacheCfg.setOffHeapMaxMemory(0);
  cacheCfg.setSwapEnabled(true);
  if (isOffHeapTieredMode())   cacheCfg.setMemoryMode(OFFHEAP_TIERED);
  return cacheCfg;
}
