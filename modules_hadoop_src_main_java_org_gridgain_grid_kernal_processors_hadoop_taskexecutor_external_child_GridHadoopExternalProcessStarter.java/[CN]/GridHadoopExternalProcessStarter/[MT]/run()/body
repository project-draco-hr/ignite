{
  initializeStreams();
  ExecutorService msgExecSvc=Executors.newFixedThreadPool(1);
  GridLogger log=logger();
  GridHadoopExternalCommunication comm=new GridHadoopExternalCommunication(args.nodeId,args.childProcId,new GridOptimizedMarshaller(),log,msgExecSvc,"test");
  comm.start();
  GridHadoopProcessDescriptor nodeDesc=new GridHadoopProcessDescriptor(args.nodeId,args.parentProcId);
  nodeDesc.address(args.addr);
  nodeDesc.tcpPort(args.tcpPort);
  nodeDesc.sharedMemoryPort(args.shmemPort);
  GridHadoopChildProcessRunner runner=new GridHadoopChildProcessRunner();
  runner.start(comm,nodeDesc,msgExecSvc,log);
  System.err.println("Started");
  System.err.flush();
  System.setOut(new PrintStream(out));
  System.setErr(new PrintStream(err));
}
