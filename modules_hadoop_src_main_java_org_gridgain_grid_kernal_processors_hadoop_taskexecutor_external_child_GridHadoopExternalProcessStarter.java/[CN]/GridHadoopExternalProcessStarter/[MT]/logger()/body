{
  Logger log=Logger.getLogger("");
  log.setLevel(Level.FINE);
  for (  Handler h : log.getHandlers())   log.removeHandler(h);
  FileHandler h=new FileHandler(args.out + File.separator + args.childProcId+ ".log",true);
  h.setFormatter(new Formatter(){
    @Override public String format(    LogRecord record){
      StringBuffer sb=new StringBuffer();
      DateFormat df=new SimpleDateFormat("yy-MM-dd HH:mm:ss.SSS");
      sb.append("[");
      df.format(new Date(record.getMillis()),sb,new FieldPosition(0));
      sb.append("][").append(record.getLevel()).append("][").append(record.getLoggerName()).append("] ").append(record.getMessage()).append("\n");
      if (record.getThrown() != null) {
        StringWriter sw=new StringWriter();
        PrintWriter pw=new PrintWriter(sw);
        record.getThrown().printStackTrace(pw);
        pw.flush();
        sb.append(sw.toString());
      }
      return sb.toString();
    }
  }
);
  log.addHandler(h);
  Logger.getLogger(GridIpcSharedMemorySpace.class.toString()).setLevel(Level.WARNING);
  Logger.getLogger(GridIpcSharedMemorySpace.class.getName()).setLevel(Level.WARNING);
  Logger.getLogger(GridWorker.class.toString()).setLevel(Level.WARNING);
  Logger.getLogger(GridWorker.class.getName()).setLevel(Level.WARNING);
  return new GridJavaLogger(log);
}
