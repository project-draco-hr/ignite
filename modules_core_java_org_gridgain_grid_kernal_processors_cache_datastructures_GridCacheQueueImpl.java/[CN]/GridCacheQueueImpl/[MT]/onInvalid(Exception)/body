{
synchronized (mux) {
    if (rmvd)     return;
    this.err=err;
    writeSem.drainPermits();
    writeSem.release(Integer.MAX_VALUE);
    readSem.drainPermits();
    readSem.release(Integer.MAX_VALUE);
  }
}
