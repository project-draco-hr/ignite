{
  cacheEnabled=true;
  cacheMode=LOCAL;
  initCache=new C1<CacheConfiguration,Void>(){
    /** 
 * {@inheritDoc} 
 */
    @SuppressWarnings("unchecked") @Override public Void apply(    CacheConfiguration cfg){
      cfg.setAffinity(new TestRendezvousAffinityFunction());
      cfg.setEvictionPolicy(new FifoEvictionPolicy());
      cfg.setCacheStoreFactory(new IgniteCacheAbstractTest.TestStoreFactory());
      cfg.setReadThrough(true);
      cfg.setWriteThrough(true);
      cfg.setLoadPreviousValue(true);
      return null;
    }
  }
;
  startGrid(1);
  initCache=new C1<CacheConfiguration,Void>(){
    /** 
 * {@inheritDoc} 
 */
    @Override public Void apply(    CacheConfiguration cfg){
      cfg.setAffinity(new RendezvousAffinityFunction());
      cfg.setEvictionPolicy(new LruEvictionPolicy());
      cfg.setCacheStoreFactory(null);
      return null;
    }
  }
;
  startGrid(2);
}
