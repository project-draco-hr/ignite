{
  if (args.length == 0)   System.out.println("Please provide file name and regular expression.");
 else   if (args.length == 1)   System.out.println("Please provide regular expression.");
 else {
    try (Grid g=GridGain.start("examples/config/example-ggfs.xml")){
      System.out.println();
      System.out.println(">>> GGFS map reduce example started.");
      String fileName=args[0];
      File file=new File(fileName);
      String regexStr=args[1];
      GridGgfs fs=g.ggfs("ggfs");
      GridGgfsPath workDir=new GridGgfsPath("/examples/ggfs");
      GridGgfsPath fsPath=new GridGgfsPath(workDir,file.getName());
      writeFile(fs,fsPath,file);
      Collection<Line> lines=fs.execute(new GrepTask(),GridGgfsNewLineRecordResolver.NEW_LINE,Collections.singleton(fsPath),regexStr).get();
      if (lines.isEmpty()) {
        System.out.println();
        System.out.println("No lines were found.");
      }
 else {
        for (        Line line : lines)         print(line.fileLine());
      }
    }
   }
}
