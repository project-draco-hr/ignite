{
  connInProgress=addrs.size();
  executor=Executors.newFixedThreadPool(Math.min(1,addrs.size()));
  completionSrvc=new ExecutorCompletionService<>(executor);
  for (  final InetSocketAddress addr : addrs) {
    completionSrvc.submit(new Callable<GridTuple3<InetSocketAddress,Socket,Exception>>(){
      @Override public GridTuple3<InetSocketAddress,Socket,Exception> call(){
        Exception ex=null;
        Socket sock=null;
        for (int i=0; i < retryCnt; i++) {
          if (Thread.currentThread().isInterrupted())           return null;
          try {
            sock=spi.openSocket(addr);
            break;
          }
 catch (          Exception e) {
            ex=e;
          }
        }
        return new GridTuple3<>(addr,sock,ex);
      }
    }
);
  }
}
