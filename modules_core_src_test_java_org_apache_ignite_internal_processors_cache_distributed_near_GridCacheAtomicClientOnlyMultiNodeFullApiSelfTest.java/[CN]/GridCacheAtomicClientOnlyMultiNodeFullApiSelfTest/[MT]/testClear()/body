{
  IgniteCache<String,Integer> nearCache=jcache();
  GridCache<String,Integer> primary=fullCache();
  Collection<String> keys=primaryKeysForCache(primary,3);
  Map<String,Integer> vals=new HashMap<>();
  int i=0;
  for (  String key : keys) {
    nearCache.put(key,i);
    vals.put(key,i);
    i++;
  }
  for (  String key : keys)   assertEquals(null,nearCache.localPeek(key));
  nearCache.clear();
  for (  String key : keys)   assertNull(nearCache.localPeek(key));
  for (  Map.Entry<String,Integer> entry : vals.entrySet())   nearCache.put(entry.getKey(),entry.getValue());
  for (  String key : keys)   assertEquals(null,nearCache.localPeek(key));
}
