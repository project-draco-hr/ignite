{
  GridPredicate<GridCacheEntry<Object,Object>> prjPred=req.projectionFilter() == null ? F.<GridCacheEntry<Object,Object>>alwaysTrue() : req.projectionFilter();
  GridReducer<Object,Object> rdc=req.reducer();
  GridClosure<Object,Object> trans=req.transformer();
  GridNode sndNode=cctx.node(sndId);
  if (sndNode == null)   return null;
  String className;
  if (sndNode.version().compareTo(QUERY_PORTABLES_SINCE) < 0) {
    Class cls=U.forName(req.className(),cctx.deploy().globalLoader());
    className=cls == null ? null : cls.getSimpleName();
  }
 else   className=req.className();
  GridCacheQueryAdapter<?> qry=new GridCacheQueryAdapter<>(cctx,prjPred,req.type(),log,req.pageSize(),0,false,req.includeBackups(),false,null,req.keyValueFilter(),className,req.clause(),req.includeMetaData(),req.keepPortable(),req.subjectId(),req.taskHash());
  return new GridCacheQueryInfo(false,prjPred,trans,rdc,qry,null,sndId,req.id(),req.includeMetaData(),req.allPages(),req.arguments());
}
