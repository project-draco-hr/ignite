{
  assert lateAffAssign;
  IgniteInternalFuture<?> initFut=initCoordinatorCaches(fut);
  if (initFut != null && !initFut.isDone()) {
    final GridFutureAdapter<Map<Integer,Map<Integer,List<UUID>>>> resFut=new GridFutureAdapter<>();
    initFut.listen(new IgniteInClosure<IgniteInternalFuture<?>>(){
      @Override public void apply(      IgniteInternalFuture<?> initFut){
        try {
          resFut.onDone(initAffinityOnNodeLeft0(fut));
        }
 catch (        IgniteCheckedException e) {
          resFut.onDone(e);
        }
      }
    }
);
    return resFut;
  }
 else   return new GridFinishedFuture<>(initAffinityOnNodeLeft0(fut));
}
