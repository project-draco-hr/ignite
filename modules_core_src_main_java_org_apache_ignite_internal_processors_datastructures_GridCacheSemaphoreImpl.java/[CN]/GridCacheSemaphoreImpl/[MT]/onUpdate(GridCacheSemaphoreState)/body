{
  if (sync == null)   return;
  sync.setPermits(val.getCount());
  sync.setWaiters(val.getWaiters());
  sync.releaseShared(0);
}
