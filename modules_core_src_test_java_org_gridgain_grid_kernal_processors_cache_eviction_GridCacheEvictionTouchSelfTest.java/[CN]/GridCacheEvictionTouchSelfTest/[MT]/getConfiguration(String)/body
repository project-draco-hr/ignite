{
  IgniteConfiguration c=super.getConfiguration(gridName);
  TransactionsConfiguration txCfg=c.getTransactionsConfiguration();
  txCfg.setDefaultTxConcurrency(PESSIMISTIC);
  txCfg.setDefaultTxIsolation(REPEATABLE_READ);
  GridCacheConfiguration cc=defaultCacheConfiguration();
  cc.setCacheMode(REPLICATED);
  cc.setSwapEnabled(false);
  cc.setWriteSynchronizationMode(FULL_SYNC);
  cc.setEvictionPolicy(plc);
  cc.setStore(new GridCacheGenericTestStore<Object,Object>(){
    @Override public Object load(    Object key){
      return key;
    }
    @Override public Map<Object,Object> loadAll(    Iterable<?> keys){
      Map<Object,Object> loaded=new HashMap<>();
      for (      Object key : keys)       loaded.put(key,key);
      return loaded;
    }
  }
);
  c.setCacheConfiguration(cc);
  TcpDiscoverySpi disco=new TcpDiscoverySpi();
  disco.setIpFinder(ipFinder);
  c.setDiscoverySpi(disco);
  return c;
}
