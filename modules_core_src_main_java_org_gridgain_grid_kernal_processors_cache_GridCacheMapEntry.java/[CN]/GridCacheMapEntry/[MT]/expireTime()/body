{
  GridCacheTxLocalAdapter<K,V> tx;
  if (cctx.isDht())   tx=cctx.dht().near().context().tm().localTx();
 else   tx=cctx.tm().localTx();
  if (tx != null) {
    long time=tx.entryExpireTime(key);
    if (time > 0)     return time;
  }
synchronized (this) {
    checkObsolete();
    return expireTimeExtras();
  }
}
