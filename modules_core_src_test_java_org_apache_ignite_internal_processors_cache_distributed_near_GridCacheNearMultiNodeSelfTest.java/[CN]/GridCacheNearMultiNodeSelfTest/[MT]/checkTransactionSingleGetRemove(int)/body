{
  IgniteCache<Object,Object> cache=jcache(0);
  String val=Integer.toString(key);
  cache.put(key,val);
  assertEquals(val,dhtPeek(0,key));
  assertEquals(val,dhtPeek(1,key));
  assertNull(near(0).peekNearOnly(key));
  assertNull(near(1).peekNearOnly(key));
  if (transactional()) {
    try (Transaction tx=grid(0).transactions().txStart(PESSIMISTIC,REPEATABLE_READ)){
      assertEquals(val,cache.get(key));
      assertTrue(cache.remove(key));
      tx.commit();
    }
   }
 else {
    assertEquals(val,cache.get(key));
    assertTrue(cache.remove(key));
  }
  assertNull(dhtPeek(0,key));
  assertNull(dhtPeek(1,key));
  assertNull(near(0).peekNearOnly(key));
  assertNull(near(1).peekNearOnly(key));
}
