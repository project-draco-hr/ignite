{
  A.notNull(prj,"prj");
  if (ids != null) {
    guard();
    try {
      Set<UUID> nodeIds=U.newHashSet(ids.size());
      for (      UUID id : ids) {
        GridNode n=node(id);
        if (n != null && !prj.predicate().apply(n))         nodeIds.add(id);
      }
      return new GridProjectionAdapter(this,ctx,subjId,nodeIds);
    }
  finally {
      unguard();
    }
  }
 else   return forPredicate(F.not(prj.predicate()));
}
