{
  A.notNull(n,"n");
  Collection<Integer> parts=new HashSet<>();
  long topVer=cctx.discovery().topologyVersion();
  for (int partsCnt=partitions(), part=0; part < partsCnt; part++) {
    Collection<GridNode> backups=cctx.affinity().backups(part,topVer);
    for (    GridNode backup : backups) {
      if (n.id().equals(backup.id())) {
        parts.add(part);
        break;
      }
    }
  }
  return U.toIntArray(parts);
}
