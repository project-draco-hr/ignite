{
  File[] files=dir.listFiles(new FilenameFilter(){
    @Override public boolean accept(    File dir,    String name){
      return filter == null || name.startsWith(filter);
    }
  }
);
  if (files == null)   throw new IOException("Path is not a directory. [dir=" + dir + ']');
  return files;
}
