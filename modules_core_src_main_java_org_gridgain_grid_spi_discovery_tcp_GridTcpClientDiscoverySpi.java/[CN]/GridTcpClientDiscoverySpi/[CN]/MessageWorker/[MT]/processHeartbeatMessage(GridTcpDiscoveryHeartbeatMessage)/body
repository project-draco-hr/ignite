{
  if (!locNodeId.equals(msg.creatorNodeId())) {
    if (msg.hasMetrics()) {
      for (      Map.Entry<UUID,GridNodeMetrics> e : msg.metrics().entrySet()) {
        UUID nodeId=e.getKey();
        GridTcpDiscoveryNode node=rmtNodes.get(nodeId);
        if (node != null) {
          node.setMetrics(e.getValue());
          node.lastUpdateTime(U.currentTimeMillis());
          notifyDiscovery(EVT_NODE_METRICS_UPDATED,topVer,node);
        }
 else         if (log.isDebugEnabled())         log.debug("Received metrics from unknown node: " + nodeId);
      }
    }
  }
}
