{
  final int offPos=hdrWriter.addField(fieldName);
  data.add(new WriteAction(){
    @Override public void apply() throws GridPortableException {
      writeCurrentSize(offPos);
      doWriteMap(map);
    }
  }
);
}
