{
  ProtoNodeBean.Builder builder=ProtoNodeBean.newBuilder();
  builder.setNodeId(wrapUUID(node.getNodeId()));
  builder.setConsistentId(wrapObject(node.getConsistentId()));
  builder.setTcpPort(node.getTcpPort());
  builder.setJettyPort(node.getJettyPort());
  builder.addAllJettyAddress(node.getJettyAddresses());
  builder.addAllJettyHostName(node.getJettyHostNames());
  builder.addAllTcpAddress(node.getTcpAddresses());
  builder.addAllTcpHostName(node.getTcpHostNames());
  if (node.getDefaultCacheMode() != null || node.getCaches() != null) {
    java.util.Map<String,String> caches=new HashMap<>();
    if (node.getDefaultCacheMode() != null)     caches.put(null,node.getDefaultCacheMode());
    if (node.getCaches() != null)     caches.putAll(node.getCaches());
    builder.setCaches(wrapMap(caches));
  }
  builder.setReplicaCount(node.getReplicaCount());
  if (node.getAttributes() != null && !node.getAttributes().isEmpty())   builder.setAttributes(wrapMap(node.getAttributes()));
  if (node.getMetrics() != null) {
    ProtoNodeMetricsBean.Builder metricsBean=ProtoNodeMetricsBean.newBuilder();
    GridClientNodeMetricsBean metrics=node.getMetrics();
    metricsBean.setStartTime(metrics.getStartTime());
    metricsBean.setAverageActiveJobs(metrics.getAverageActiveJobs());
    metricsBean.setAverageCancelledJobs(metrics.getAverageCancelledJobs());
    metricsBean.setAverageCpuLoad(metrics.getAverageCpuLoad());
    metricsBean.setAverageJobExecuteTime(metrics.getAverageJobExecuteTime());
    metricsBean.setAverageJobWaitTime(metrics.getAverageJobWaitTime());
    metricsBean.setAverageRejectedJobs(metrics.getAverageRejectedJobs());
    metricsBean.setAverageWaitingJobs(metrics.getAverageWaitingJobs());
    metricsBean.setCurrentActiveJobs(metrics.getCurrentActiveJobs());
    metricsBean.setCurrentCancelledJobs(metrics.getCurrentCancelledJobs());
    metricsBean.setCurrentCpuLoad(metrics.getCurrentCpuLoad());
    metricsBean.setCurrentDaemonThreadCount(metrics.getCurrentDaemonThreadCount());
    metricsBean.setCurrentIdleTime(metrics.getCurrentIdleTime());
    metricsBean.setCurrentJobExecuteTime(metrics.getCurrentJobExecuteTime());
    metricsBean.setCurrentJobWaitTime(metrics.getCurrentJobWaitTime());
    metricsBean.setCurrentRejectedJobs(metrics.getCurrentRejectedJobs());
    metricsBean.setCurrentThreadCount(metrics.getCurrentThreadCount());
    metricsBean.setCurrentWaitingJobs(metrics.getCurrentWaitingJobs());
    metricsBean.setFileSystemFreeSpace(metrics.getFileSystemFreeSpace());
    metricsBean.setFileSystemTotalSpace(metrics.getFileSystemTotalSpace());
    metricsBean.setFileSystemUsableSpace(metrics.getFileSystemUsableSpace());
    metricsBean.setHeapMemoryCommitted(metrics.getHeapMemoryCommitted());
    metricsBean.setHeapMemoryInitialized(metrics.getHeapMemoryInitialized());
    metricsBean.setHeapMemoryMaximum(metrics.getHeapMemoryMaximum());
    metricsBean.setHeapMemoryUsed(metrics.getHeapMemoryUsed());
    metricsBean.setLastDataVersion(metrics.getLastDataVersion());
    metricsBean.setLastUpdateTime(metrics.getLastUpdateTime());
    metricsBean.setMaximumActiveJobs(metrics.getMaximumActiveJobs());
    metricsBean.setMaximumCancelledJobs(metrics.getMaximumCancelledJobs());
    metricsBean.setMaximumJobExecuteTime(metrics.getMaximumJobExecuteTime());
    metricsBean.setMaximumJobWaitTime(metrics.getMaximumJobWaitTime());
    metricsBean.setMaximumRejectedJobs(metrics.getMaximumRejectedJobs());
    metricsBean.setMaximumThreadCount(metrics.getMaximumThreadCount());
    metricsBean.setMaximumWaitingJobs(metrics.getMaximumWaitingJobs());
    metricsBean.setNodeStartTime(metrics.getNodeStartTime());
    metricsBean.setNonHeapMemoryCommitted(metrics.getNonHeapMemoryCommitted());
    metricsBean.setNonHeapMemoryInitialized(metrics.getNonHeapMemoryInitialized());
    metricsBean.setNonHeapMemoryMaximum(metrics.getNonHeapMemoryMaximum());
    metricsBean.setNonHeapMemoryUsed(metrics.getNonHeapMemoryUsed());
    metricsBean.setStartTime(metrics.getStartTime());
    metricsBean.setTotalCancelledJobs(metrics.getTotalCancelledJobs());
    metricsBean.setTotalCpus(metrics.getTotalCpus());
    metricsBean.setTotalExecutedJobs(metrics.getTotalExecutedJobs());
    metricsBean.setTotalIdleTime(metrics.getTotalIdleTime());
    metricsBean.setTotalRejectedJobs(metrics.getTotalRejectedJobs());
    metricsBean.setTotalStartedThreadCount(metrics.getTotalStartedThreadCount());
    metricsBean.setUpTime(metrics.getUpTime());
    builder.setMetrics(metricsBean.build());
  }
  return builder.build();
}
