{
  long now=U.currentTimeMillis();
  long queueOversize=evts.sizex() - expireCnt;
  for (int i=0; i < queueOversize && evts.sizex() > expireCnt; i++) {
    GridEvent expired=evts.poll();
    if (log.isDebugEnabled())     log.debug("Event expired by count: " + expired);
  }
  while (true) {
    ConcurrentLinkedDeque8.Node<GridEvent> node=evts.peekx();
    if (node == null)     break;
    GridEvent evt=node.item();
    if (evt == null)     continue;
    if (now - evt.timestamp() < expireAgeMs)     break;
    if (evts.unlinkx(node) && log.isDebugEnabled())     log.debug("Event expired by age: " + node.item());
  }
}
