{
  int hPos=positionForHandle();
  Class compType=doReadClass();
  int len=in.readInt();
  Object[] arr=deep ? (Object[])Array.newInstance(compType,len) : new Object[len];
  setHandler(arr,hPos);
  for (int i=0; i < len; i++)   arr[i]=deep ? doReadObject() : unmarshal();
  return arr;
}
