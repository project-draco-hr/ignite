{
  try {
    depMode=SHARED;
    Grid g1=startGrid(1);
    Grid g2=startGrid(2);
    ClassLoader ldr=getExternalClassLoader();
    Class cls=ldr.loadClass(TEST_TASK_3);
    String key="";
    for (int i=0; i < 1000; i++) {
      key="1" + i;
      if (g1.mapKeyToNode(null,key).id().equals(g2.localNode().id()))       break;
    }
    g1.compute().execute(cls,new T2<>(g2.localNode(),key)).get();
    stopGrid(1);
    startGrid(3);
  }
  finally {
    stopAllGrids();
  }
}
