{
  System.out.println(">>> Start demo...");
  IgniteConfiguration cfg=new IgniteConfiguration();
  CacheConfiguration ccfg=new CacheConfiguration<>();
  ccfg.setCacheStoreFactory(new Factory<CacheStore>(){
    @Override public CacheStore create(){
      return CacheConfig.store();
    }
  }
);
  ccfg.setReadThrough(true);
  ccfg.setWriteThrough(true);
  ccfg.setWriteBehindEnabled(true);
  ccfg.setTypeMetadata(CacheConfig.typeMetadata());
  cfg.setCacheConfiguration(ccfg);
  try (Ignite ignite=Ignition.start(cfg)){
    IgniteCache<PersonKey,Person> cache=ignite.jcache(null);
    cache.loadCache(null,"org.apache.ignite.schema.PersonKey","select * from PERSON where ID <= 3");
    for (    Cache.Entry<PersonKey,Person> person : cache)     System.out.println(">>> Loaded Person: " + person);
  }
 }
