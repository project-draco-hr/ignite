{
  GridDhtFuture<Object> fut=cctx.dht().dhtPreloader().request(keys.keySet(),topVer);
  if (fut != null) {
    if (!F.isEmpty(fut.invalidPartitions())) {
      if (retries == null)       retries=new HashSet<>();
      retries.addAll(fut.invalidPartitions());
    }
    fut.listen(new CI1<IgniteInternalFuture<Object>>(){
      @Override public void apply(      IgniteInternalFuture<Object> fut){
        try {
          fut.get();
        }
 catch (        NodeStoppingException e) {
          return;
        }
catch (        IgniteCheckedException e) {
          if (log.isDebugEnabled())           log.debug("Failed to request keys from preloader [keys=" + keys + ", err="+ e+ ']');
          onDone(e);
          return;
        }
        map0(keys);
        markInitialized();
      }
    }
);
  }
 else {
    map0(keys);
    markInitialized();
  }
}
