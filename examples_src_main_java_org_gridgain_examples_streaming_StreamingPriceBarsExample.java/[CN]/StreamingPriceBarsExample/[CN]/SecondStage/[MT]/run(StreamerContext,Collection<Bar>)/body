{
  ConcurrentMap<String,Bar> loc=ctx.localSpace();
  StreamerWindow win=ctx.window("stage2");
  win.enqueueAll(bars);
  Collection<Bar> polled=win.pollEvictedBatch();
  if (!polled.isEmpty()) {
    Map<String,Bar> map=new HashMap<>();
    for (    Bar polledBar : polled) {
      String symbol=polledBar.symbol();
      Bar bar=map.get(symbol);
      if (bar == null)       map.put(symbol,bar=new Bar(symbol));
      bar.update(polledBar);
    }
    loc.putAll(map);
  }
  return null;
}
