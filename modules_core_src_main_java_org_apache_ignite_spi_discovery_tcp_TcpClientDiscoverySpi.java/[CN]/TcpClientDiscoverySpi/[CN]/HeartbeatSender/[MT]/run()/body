{
  if (!getSpiContext().isStopping() && sockWriter.isOnline()) {
    TcpDiscoveryHeartbeatMessage msg=new TcpDiscoveryHeartbeatMessage(getLocalNodeId());
    UUID nodeId=ignite.configuration().getNodeId();
    msg.setMetrics(nodeId,metricsProvider.metrics());
    msg.setCacheMetrics(nodeId,metricsProvider.cacheMetrics());
    msg.client(true);
    sockWriter.sendMessage(msg);
  }
}
