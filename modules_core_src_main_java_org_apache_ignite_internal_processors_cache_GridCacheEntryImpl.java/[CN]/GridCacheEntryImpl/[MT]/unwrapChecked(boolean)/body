{
  GridCacheEntryEx<K,V> cached=this.cached;
  try {
    if (cached == null) {
      long topVer=ctx.affinity().affinityTopologyVersion();
      this.cached=cached=create ? entryEx(false,topVer) : peekEx(topVer);
      return F.t(cached,create);
    }
 else     return F.t(cached,false);
  }
 catch (  GridDhtInvalidPartitionException ignore) {
    return F.t(null,false);
  }
}
