{
  System.out.println("Starting test server node.");
  IgniteConfiguration cfg=new IgniteConfiguration();
  cfg.setPeerClassLoadingEnabled(true);
  cfg.setLocalHost("127.0.0.1");
  TcpDiscoverySpi disco=new TcpDiscoverySpi();
  TcpDiscoveryVmIpFinder ipFinder=new TcpDiscoveryVmIpFinder();
  ipFinder.setAddresses(Arrays.asList("127.0.0.1:47500..47509"));
  disco.setIpFinder(ipFinder);
  cfg.setDiscoverySpi(disco);
  U.setWorkDirectory(null,U.getIgniteHome());
  try (Ignite ignite=Ignition.start(cfg)){
    System.out.println(CacheConfigurationP2PTest.NODE_START_MSG);
    U.sleep(Long.MAX_VALUE);
  }
 }
