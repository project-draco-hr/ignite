{
  Ignite g=randomGrid();
  String name="serviceMultiple1";
  CountDownLatch latch=new CountDownLatch(nodeCount() * 2);
  DummyService.exeLatch(name,latch);
  IgniteManaged svcs=g.managed().withAsync();
  svcs.deployMultiple(name,new DummyService(),nodeCount() * 2,3);
  IgniteFuture<?> fut=svcs.future();
  info("Deployed service: " + name);
  fut.get();
  info("Finished waiting for service future: " + name);
  latch.await();
  assertEquals(name,nodeCount() * 2,DummyService.started(name));
  assertEquals(name,0,DummyService.cancelled(name));
  checkCount(name,g.managed().deployedServices(),nodeCount() * 2);
}
